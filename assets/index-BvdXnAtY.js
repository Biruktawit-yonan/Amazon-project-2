function kk(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(n,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();function fv(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ay={exports:{}},Cc={},Cy={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fT;function Ok(){if(fT)return Fe;fT=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function v(W){return W===null||typeof W!="object"?null:(W=y&&W[y]||W["@@iterator"],typeof W=="function"?W:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,R={};function b(W,ie,Te){this.props=W,this.context=ie,this.refs=R,this.updater=Te||S}b.prototype.isReactComponent={},b.prototype.setState=function(W,ie){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,ie,"setState")},b.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function L(){}L.prototype=b.prototype;function V(W,ie,Te){this.props=W,this.context=ie,this.refs=R,this.updater=Te||S}var M=V.prototype=new L;M.constructor=V,T(M,b.prototype),M.isPureReactComponent=!0;var $=Array.isArray,B=Object.prototype.hasOwnProperty,q={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function A(W,ie,Te){var Ce,De={},Me=null,We=null;if(ie!=null)for(Ce in ie.ref!==void 0&&(We=ie.ref),ie.key!==void 0&&(Me=""+ie.key),ie)B.call(ie,Ce)&&!D.hasOwnProperty(Ce)&&(De[Ce]=ie[Ce]);var ze=arguments.length-2;if(ze===1)De.children=Te;else if(1<ze){for(var Ze=Array(ze),gt=0;gt<ze;gt++)Ze[gt]=arguments[gt+2];De.children=Ze}if(W&&W.defaultProps)for(Ce in ze=W.defaultProps,ze)De[Ce]===void 0&&(De[Ce]=ze[Ce]);return{$$typeof:n,type:W,key:Me,ref:We,props:De,_owner:q.current}}function P(W,ie){return{$$typeof:n,type:W.type,key:ie,ref:W.ref,props:W.props,_owner:W._owner}}function E(W){return typeof W=="object"&&W!==null&&W.$$typeof===n}function k(W){var ie={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(Te){return ie[Te]})}var x=/\/+/g;function O(W,ie){return typeof W=="object"&&W!==null&&W.key!=null?k(""+W.key):ie.toString(36)}function X(W,ie,Te,Ce,De){var Me=typeof W;(Me==="undefined"||Me==="boolean")&&(W=null);var We=!1;if(W===null)We=!0;else switch(Me){case"string":case"number":We=!0;break;case"object":switch(W.$$typeof){case n:case e:We=!0}}if(We)return We=W,De=De(We),W=Ce===""?"."+O(We,0):Ce,$(De)?(Te="",W!=null&&(Te=W.replace(x,"$&/")+"/"),X(De,ie,Te,"",function(gt){return gt})):De!=null&&(E(De)&&(De=P(De,Te+(!De.key||We&&We.key===De.key?"":(""+De.key).replace(x,"$&/")+"/")+W)),ie.push(De)),1;if(We=0,Ce=Ce===""?".":Ce+":",$(W))for(var ze=0;ze<W.length;ze++){Me=W[ze];var Ze=Ce+O(Me,ze);We+=X(Me,ie,Te,Ze,De)}else if(Ze=v(W),typeof Ze=="function")for(W=Ze.call(W),ze=0;!(Me=W.next()).done;)Me=Me.value,Ze=Ce+O(Me,ze++),We+=X(Me,ie,Te,Ze,De);else if(Me==="object")throw ie=String(W),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.");return We}function F(W,ie,Te){if(W==null)return W;var Ce=[],De=0;return X(W,Ce,"","",function(Me){return ie.call(Te,Me,De++)}),Ce}function pe(W){if(W._status===-1){var ie=W._result;ie=ie(),ie.then(function(Te){(W._status===0||W._status===-1)&&(W._status=1,W._result=Te)},function(Te){(W._status===0||W._status===-1)&&(W._status=2,W._result=Te)}),W._status===-1&&(W._status=0,W._result=ie)}if(W._status===1)return W._result.default;throw W._result}var oe={current:null},Z={transition:null},fe={ReactCurrentDispatcher:oe,ReactCurrentBatchConfig:Z,ReactCurrentOwner:q};function de(){throw Error("act(...) is not supported in production builds of React.")}return Fe.Children={map:F,forEach:function(W,ie,Te){F(W,function(){ie.apply(this,arguments)},Te)},count:function(W){var ie=0;return F(W,function(){ie++}),ie},toArray:function(W){return F(W,function(ie){return ie})||[]},only:function(W){if(!E(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},Fe.Component=b,Fe.Fragment=t,Fe.Profiler=i,Fe.PureComponent=V,Fe.StrictMode=r,Fe.Suspense=d,Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fe,Fe.act=de,Fe.cloneElement=function(W,ie,Te){if(W==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+W+".");var Ce=T({},W.props),De=W.key,Me=W.ref,We=W._owner;if(ie!=null){if(ie.ref!==void 0&&(Me=ie.ref,We=q.current),ie.key!==void 0&&(De=""+ie.key),W.type&&W.type.defaultProps)var ze=W.type.defaultProps;for(Ze in ie)B.call(ie,Ze)&&!D.hasOwnProperty(Ze)&&(Ce[Ze]=ie[Ze]===void 0&&ze!==void 0?ze[Ze]:ie[Ze])}var Ze=arguments.length-2;if(Ze===1)Ce.children=Te;else if(1<Ze){ze=Array(Ze);for(var gt=0;gt<Ze;gt++)ze[gt]=arguments[gt+2];Ce.children=ze}return{$$typeof:n,type:W.type,key:De,ref:Me,props:Ce,_owner:We}},Fe.createContext=function(W){return W={$$typeof:l,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},W.Provider={$$typeof:o,_context:W},W.Consumer=W},Fe.createElement=A,Fe.createFactory=function(W){var ie=A.bind(null,W);return ie.type=W,ie},Fe.createRef=function(){return{current:null}},Fe.forwardRef=function(W){return{$$typeof:c,render:W}},Fe.isValidElement=E,Fe.lazy=function(W){return{$$typeof:m,_payload:{_status:-1,_result:W},_init:pe}},Fe.memo=function(W,ie){return{$$typeof:f,type:W,compare:ie===void 0?null:ie}},Fe.startTransition=function(W){var ie=Z.transition;Z.transition={};try{W()}finally{Z.transition=ie}},Fe.unstable_act=de,Fe.useCallback=function(W,ie){return oe.current.useCallback(W,ie)},Fe.useContext=function(W){return oe.current.useContext(W)},Fe.useDebugValue=function(){},Fe.useDeferredValue=function(W){return oe.current.useDeferredValue(W)},Fe.useEffect=function(W,ie){return oe.current.useEffect(W,ie)},Fe.useId=function(){return oe.current.useId()},Fe.useImperativeHandle=function(W,ie,Te){return oe.current.useImperativeHandle(W,ie,Te)},Fe.useInsertionEffect=function(W,ie){return oe.current.useInsertionEffect(W,ie)},Fe.useLayoutEffect=function(W,ie){return oe.current.useLayoutEffect(W,ie)},Fe.useMemo=function(W,ie){return oe.current.useMemo(W,ie)},Fe.useReducer=function(W,ie,Te){return oe.current.useReducer(W,ie,Te)},Fe.useRef=function(W){return oe.current.useRef(W)},Fe.useState=function(W){return oe.current.useState(W)},Fe.useSyncExternalStore=function(W,ie,Te){return oe.current.useSyncExternalStore(W,ie,Te)},Fe.useTransition=function(){return oe.current.useTransition()},Fe.version="18.3.1",Fe}var pT;function yo(){return pT||(pT=1,Cy.exports=Ok()),Cy.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mT;function Nk(){if(mT)return Cc;mT=1;var n=yo(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(c,d,f){var m,y={},v=null,S=null;f!==void 0&&(v=""+f),d.key!==void 0&&(v=""+d.key),d.ref!==void 0&&(S=d.ref);for(m in d)r.call(d,m)&&!o.hasOwnProperty(m)&&(y[m]=d[m]);if(c&&c.defaultProps)for(m in d=c.defaultProps,d)y[m]===void 0&&(y[m]=d[m]);return{$$typeof:e,type:c,key:v,ref:S,props:y,_owner:i.current}}return Cc.Fragment=t,Cc.jsx=l,Cc.jsxs=l,Cc}var gT;function Dk(){return gT||(gT=1,Ay.exports=Nk()),Ay.exports}var U=Dk(),K=yo();const qe=fv(K),c_=kk({__proto__:null,default:qe},[K]);var Pf={},Py={exports:{}},qn={},xy={exports:{}},ky={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yT;function Vk(){return yT||(yT=1,function(n){function e(Z,fe){var de=Z.length;Z.push(fe);e:for(;0<de;){var W=de-1>>>1,ie=Z[W];if(0<i(ie,fe))Z[W]=fe,Z[de]=ie,de=W;else break e}}function t(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var fe=Z[0],de=Z.pop();if(de!==fe){Z[0]=de;e:for(var W=0,ie=Z.length,Te=ie>>>1;W<Te;){var Ce=2*(W+1)-1,De=Z[Ce],Me=Ce+1,We=Z[Me];if(0>i(De,de))Me<ie&&0>i(We,De)?(Z[W]=We,Z[Me]=de,W=Me):(Z[W]=De,Z[Ce]=de,W=Ce);else if(Me<ie&&0>i(We,de))Z[W]=We,Z[Me]=de,W=Me;else break e}}return fe}function i(Z,fe){var de=Z.sortIndex-fe.sortIndex;return de!==0?de:Z.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var d=[],f=[],m=1,y=null,v=3,S=!1,T=!1,R=!1,b=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(Z){for(var fe=t(f);fe!==null;){if(fe.callback===null)r(f);else if(fe.startTime<=Z)r(f),fe.sortIndex=fe.expirationTime,e(d,fe);else break;fe=t(f)}}function $(Z){if(R=!1,M(Z),!T)if(t(d)!==null)T=!0,pe(B);else{var fe=t(f);fe!==null&&oe($,fe.startTime-Z)}}function B(Z,fe){T=!1,R&&(R=!1,L(A),A=-1),S=!0;var de=v;try{for(M(fe),y=t(d);y!==null&&(!(y.expirationTime>fe)||Z&&!k());){var W=y.callback;if(typeof W=="function"){y.callback=null,v=y.priorityLevel;var ie=W(y.expirationTime<=fe);fe=n.unstable_now(),typeof ie=="function"?y.callback=ie:y===t(d)&&r(d),M(fe)}else r(d);y=t(d)}if(y!==null)var Te=!0;else{var Ce=t(f);Ce!==null&&oe($,Ce.startTime-fe),Te=!1}return Te}finally{y=null,v=de,S=!1}}var q=!1,D=null,A=-1,P=5,E=-1;function k(){return!(n.unstable_now()-E<P)}function x(){if(D!==null){var Z=n.unstable_now();E=Z;var fe=!0;try{fe=D(!0,Z)}finally{fe?O():(q=!1,D=null)}}else q=!1}var O;if(typeof V=="function")O=function(){V(x)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,F=X.port2;X.port1.onmessage=x,O=function(){F.postMessage(null)}}else O=function(){b(x,0)};function pe(Z){D=Z,q||(q=!0,O())}function oe(Z,fe){A=b(function(){Z(n.unstable_now())},fe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Z){Z.callback=null},n.unstable_continueExecution=function(){T||S||(T=!0,pe(B))},n.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<Z?Math.floor(1e3/Z):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(Z){switch(v){case 1:case 2:case 3:var fe=3;break;default:fe=v}var de=v;v=fe;try{return Z()}finally{v=de}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(Z,fe){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var de=v;v=Z;try{return fe()}finally{v=de}},n.unstable_scheduleCallback=function(Z,fe,de){var W=n.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?W+de:W):de=W,Z){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=de+ie,Z={id:m++,callback:fe,priorityLevel:Z,startTime:de,expirationTime:ie,sortIndex:-1},de>W?(Z.sortIndex=de,e(f,Z),t(d)===null&&Z===t(f)&&(R?(L(A),A=-1):R=!0,oe($,de-W))):(Z.sortIndex=ie,e(d,Z),T||S||(T=!0,pe(B))),Z},n.unstable_shouldYield=k,n.unstable_wrapCallback=function(Z){var fe=v;return function(){var de=v;v=fe;try{return Z.apply(this,arguments)}finally{v=de}}}}(ky)),ky}var _T;function Lk(){return _T||(_T=1,xy.exports=Vk()),xy.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vT;function Mk(){if(vT)return qn;vT=1;var n=yo(),e=Lk();function t(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,u=1;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(s,a){l(s,a),l(s+"Capture",a)}function l(s,a){for(i[s]=a,s=0;s<a.length;s++)r.add(a[s])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},y={};function v(s){return d.call(y,s)?!0:d.call(m,s)?!1:f.test(s)?y[s]=!0:(m[s]=!0,!1)}function S(s,a,u,p){if(u!==null&&u.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return p?!1:u!==null?!u.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function T(s,a,u,p){if(a===null||typeof a>"u"||S(s,a,u,p))return!0;if(p)return!1;if(u!==null)switch(u.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function R(s,a,u,p,g,w,C){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=p,this.attributeNamespace=g,this.mustUseProperty=u,this.propertyName=s,this.type=a,this.sanitizeURL=w,this.removeEmptyString=C}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){b[s]=new R(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];b[a]=new R(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){b[s]=new R(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){b[s]=new R(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){b[s]=new R(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){b[s]=new R(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){b[s]=new R(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){b[s]=new R(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){b[s]=new R(s,5,!1,s.toLowerCase(),null,!1,!1)});var L=/[\-:]([a-z])/g;function V(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(L,V);b[a]=new R(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(L,V);b[a]=new R(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(L,V);b[a]=new R(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){b[s]=new R(s,1,!1,s.toLowerCase(),null,!1,!1)}),b.xlinkHref=new R("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){b[s]=new R(s,1,!1,s.toLowerCase(),null,!0,!0)});function M(s,a,u,p){var g=b.hasOwnProperty(a)?b[a]:null;(g!==null?g.type!==0:p||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(T(a,u,g,p)&&(u=null),p||g===null?v(a)&&(u===null?s.removeAttribute(a):s.setAttribute(a,""+u)):g.mustUseProperty?s[g.propertyName]=u===null?g.type===3?!1:"":u:(a=g.attributeName,p=g.attributeNamespace,u===null?s.removeAttribute(a):(g=g.type,u=g===3||g===4&&u===!0?"":""+u,p?s.setAttributeNS(p,a,u):s.setAttribute(a,u))))}var $=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,B=Symbol.for("react.element"),q=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),k=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),pe=Symbol.for("react.lazy"),oe=Symbol.for("react.offscreen"),Z=Symbol.iterator;function fe(s){return s===null||typeof s!="object"?null:(s=Z&&s[Z]||s["@@iterator"],typeof s=="function"?s:null)}var de=Object.assign,W;function ie(s){if(W===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);W=a&&a[1]||""}return`
`+W+s}var Te=!1;function Ce(s,a){if(!s||Te)return"";Te=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(ee){var p=ee}Reflect.construct(s,[],a)}else{try{a.call()}catch(ee){p=ee}s.call(a.prototype)}else{try{throw Error()}catch(ee){p=ee}s()}}catch(ee){if(ee&&p&&typeof ee.stack=="string"){for(var g=ee.stack.split(`
`),w=p.stack.split(`
`),C=g.length-1,j=w.length-1;1<=C&&0<=j&&g[C]!==w[j];)j--;for(;1<=C&&0<=j;C--,j--)if(g[C]!==w[j]){if(C!==1||j!==1)do if(C--,j--,0>j||g[C]!==w[j]){var z=`
`+g[C].replace(" at new "," at ");return s.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",s.displayName)),z}while(1<=C&&0<=j);break}}}finally{Te=!1,Error.prepareStackTrace=u}return(s=s?s.displayName||s.name:"")?ie(s):""}function De(s){switch(s.tag){case 5:return ie(s.type);case 16:return ie("Lazy");case 13:return ie("Suspense");case 19:return ie("SuspenseList");case 0:case 2:case 15:return s=Ce(s.type,!1),s;case 11:return s=Ce(s.type.render,!1),s;case 1:return s=Ce(s.type,!0),s;default:return""}}function Me(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case D:return"Fragment";case q:return"Portal";case P:return"Profiler";case A:return"StrictMode";case O:return"Suspense";case X:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case k:return(s.displayName||"Context")+".Consumer";case E:return(s._context.displayName||"Context")+".Provider";case x:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case F:return a=s.displayName||null,a!==null?a:Me(s.type)||"Memo";case pe:a=s._payload,s=s._init;try{return Me(s(a))}catch{}}return null}function We(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Me(a);case 8:return a===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function ze(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ze(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function gt(s){var a=Ze(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),p=""+s[a];if(!s.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,w=u.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return g.call(this)},set:function(C){p=""+C,w.call(this,C)}}),Object.defineProperty(s,a,{enumerable:u.enumerable}),{getValue:function(){return p},setValue:function(C){p=""+C},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function tn(s){s._valueTracker||(s._valueTracker=gt(s))}function et(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var u=a.getValue(),p="";return s&&(p=Ze(s)?s.checked?"true":"false":s.value),s=p,s!==u?(a.setValue(s),!0):!1}function ht(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Kt(s,a){var u=a.checked;return de({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??s._wrapperState.initialChecked})}function xr(s,a){var u=a.defaultValue==null?"":a.defaultValue,p=a.checked!=null?a.checked:a.defaultChecked;u=ze(a.value!=null?a.value:u),s._wrapperState={initialChecked:p,initialValue:u,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function fr(s,a){a=a.checked,a!=null&&M(s,"checked",a,!1)}function pr(s,a){fr(s,a);var u=ze(a.value),p=a.type;if(u!=null)p==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+u):s.value!==""+u&&(s.value=""+u);else if(p==="submit"||p==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?Ln(s,a.type,u):a.hasOwnProperty("defaultValue")&&Ln(s,a.type,ze(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function Vn(s,a,u){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var p=a.type;if(!(p!=="submit"&&p!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,u||a===s.value||(s.value=a),s.defaultValue=a}u=s.name,u!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,u!==""&&(s.name=u)}function Ln(s,a,u){(a!=="number"||ht(s.ownerDocument)!==s)&&(u==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+u&&(s.defaultValue=""+u))}var Yn=Array.isArray;function Pi(s,a,u,p){if(s=s.options,a){a={};for(var g=0;g<u.length;g++)a["$"+u[g]]=!0;for(u=0;u<s.length;u++)g=a.hasOwnProperty("$"+s[u].value),s[u].selected!==g&&(s[u].selected=g),g&&p&&(s[u].defaultSelected=!0)}else{for(u=""+ze(u),a=null,g=0;g<s.length;g++){if(s[g].value===u){s[g].selected=!0,p&&(s[g].defaultSelected=!0);return}a!==null||s[g].disabled||(a=s[g])}a!==null&&(a.selected=!0)}}function Lu(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return de({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Va(s,a){var u=a.value;if(u==null){if(u=a.children,a=a.defaultValue,u!=null){if(a!=null)throw Error(t(92));if(Yn(u)){if(1<u.length)throw Error(t(93));u=u[0]}a=u}a==null&&(a=""),u=a}s._wrapperState={initialValue:ze(u)}}function La(s,a){var u=ze(a.value),p=ze(a.defaultValue);u!=null&&(u=""+u,u!==s.value&&(s.value=u),a.defaultValue==null&&s.defaultValue!==u&&(s.defaultValue=u)),p!=null&&(s.defaultValue=""+p)}function Mu(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function Gt(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qt(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?Gt(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var xi,Fu=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,u,p,g){MSApp.execUnsafeLocalFunction(function(){return s(a,u,p,g)})}:s}(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(xi=xi||document.createElement("div"),xi.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=xi.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function ps(s,a){if(a){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=a;return}}s.textContent=a}var Ao={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Co=["Webkit","ms","Moz","O"];Object.keys(Ao).forEach(function(s){Co.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),Ao[a]=Ao[s]})});function ju(s,a,u){return a==null||typeof a=="boolean"||a===""?"":u||typeof a!="number"||a===0||Ao.hasOwnProperty(s)&&Ao[s]?(""+a).trim():a+"px"}function Uu(s,a){s=s.style;for(var u in a)if(a.hasOwnProperty(u)){var p=u.indexOf("--")===0,g=ju(u,a[u],p);u==="float"&&(u="cssFloat"),p?s.setProperty(u,g):s[u]=g}}var Bu=de({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zu(s,a){if(a){if(Bu[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function $u(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Po=null;function Ma(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Fa=null,mr=null,Xr=null;function ja(s){if(s=fc(s)){if(typeof Fa!="function")throw Error(t(280));var a=s.stateNode;a&&(a=$h(a),Fa(s.stateNode,s.type,a))}}function Zr(s){mr?Xr?Xr.push(s):Xr=[s]:mr=s}function qu(){if(mr){var s=mr,a=Xr;if(Xr=mr=null,ja(s),a)for(s=0;s<a.length;s++)ja(a[s])}}function xo(s,a){return s(a)}function Wu(){}var ki=!1;function Hu(s,a,u){if(ki)return s(a,u);ki=!0;try{return xo(s,a,u)}finally{ki=!1,(mr!==null||Xr!==null)&&(Wu(),qu())}}function Dt(s,a){var u=s.stateNode;if(u===null)return null;var p=$h(u);if(p===null)return null;u=p[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(s=s.type,p=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!p;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(t(231,a,typeof u));return u}var Ua=!1;if(c)try{var kr={};Object.defineProperty(kr,"passive",{get:function(){Ua=!0}}),window.addEventListener("test",kr,kr),window.removeEventListener("test",kr,kr)}catch{Ua=!1}function ko(s,a,u,p,g,w,C,j,z){var ee=Array.prototype.slice.call(arguments,3);try{a.apply(u,ee)}catch(ce){this.onError(ce)}}var Oo=!1,Ba=null,Or=!1,Ku=null,tg={onError:function(s){Oo=!0,Ba=s}};function za(s,a,u,p,g,w,C,j,z){Oo=!1,Ba=null,ko.apply(tg,arguments)}function ph(s,a,u,p,g,w,C,j,z){if(za.apply(this,arguments),Oo){if(Oo){var ee=Ba;Oo=!1,Ba=null}else throw Error(t(198));Or||(Or=!0,Ku=ee)}}function Nr(s){var a=s,u=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,a.flags&4098&&(u=a.return),s=a.return;while(s)}return a.tag===3?u:null}function No(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function Dr(s){if(Nr(s)!==s)throw Error(t(188))}function mh(s){var a=s.alternate;if(!a){if(a=Nr(s),a===null)throw Error(t(188));return a!==s?null:s}for(var u=s,p=a;;){var g=u.return;if(g===null)break;var w=g.alternate;if(w===null){if(p=g.return,p!==null){u=p;continue}break}if(g.child===w.child){for(w=g.child;w;){if(w===u)return Dr(g),s;if(w===p)return Dr(g),a;w=w.sibling}throw Error(t(188))}if(u.return!==p.return)u=g,p=w;else{for(var C=!1,j=g.child;j;){if(j===u){C=!0,u=g,p=w;break}if(j===p){C=!0,p=g,u=w;break}j=j.sibling}if(!C){for(j=w.child;j;){if(j===u){C=!0,u=w,p=g;break}if(j===p){C=!0,p=w,u=g;break}j=j.sibling}if(!C)throw Error(t(189))}}if(u.alternate!==p)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?s:a}function Gu(s){return s=mh(s),s!==null?$a(s):null}function $a(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=$a(s);if(a!==null)return a;s=s.sibling}return null}var qa=e.unstable_scheduleCallback,Qu=e.unstable_cancelCallback,gh=e.unstable_shouldYield,ng=e.unstable_requestPaint,ut=e.unstable_now,yh=e.unstable_getCurrentPriorityLevel,Do=e.unstable_ImmediatePriority,ms=e.unstable_UserBlockingPriority,gr=e.unstable_NormalPriority,Yu=e.unstable_LowPriority,_h=e.unstable_IdlePriority,Vo=null,Jn=null;function vh(s){if(Jn&&typeof Jn.onCommitFiberRoot=="function")try{Jn.onCommitFiberRoot(Vo,s,void 0,(s.current.flags&128)===128)}catch{}}var An=Math.clz32?Math.clz32:Eh,Ju=Math.log,wh=Math.LN2;function Eh(s){return s>>>=0,s===0?32:31-(Ju(s)/wh|0)|0}var Wa=64,Ha=4194304;function gs(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Lo(s,a){var u=s.pendingLanes;if(u===0)return 0;var p=0,g=s.suspendedLanes,w=s.pingedLanes,C=u&268435455;if(C!==0){var j=C&~g;j!==0?p=gs(j):(w&=C,w!==0&&(p=gs(w)))}else C=u&~g,C!==0?p=gs(C):w!==0&&(p=gs(w));if(p===0)return 0;if(a!==0&&a!==p&&!(a&g)&&(g=p&-p,w=a&-a,g>=w||g===16&&(w&4194240)!==0))return a;if(p&4&&(p|=u&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=p;0<a;)u=31-An(a),g=1<<u,p|=s[u],a&=~g;return p}function rg(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Oi(s,a){for(var u=s.suspendedLanes,p=s.pingedLanes,g=s.expirationTimes,w=s.pendingLanes;0<w;){var C=31-An(w),j=1<<C,z=g[C];z===-1?(!(j&u)||j&p)&&(g[C]=rg(j,a)):z<=a&&(s.expiredLanes|=j),w&=~j}}function Xn(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Mo(){var s=Wa;return Wa<<=1,!(Wa&4194240)&&(Wa=64),s}function ys(s){for(var a=[],u=0;31>u;u++)a.push(s);return a}function _s(s,a,u){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-An(a),s[a]=u}function st(s,a){var u=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var p=s.eventTimes;for(s=s.expirationTimes;0<u;){var g=31-An(u),w=1<<g;a[g]=0,p[g]=-1,s[g]=-1,u&=~w}}function vs(s,a){var u=s.entangledLanes|=a;for(s=s.entanglements;u;){var p=31-An(u),g=1<<p;g&a|s[p]&a&&(s[p]|=a),u&=~g}}var $e=0;function ws(s){return s&=-s,1<s?4<s?s&268435455?16:536870912:4:1}var Th,Ka,Sh,Ih,Rh,Xu=!1,ei=[],un=null,Vr=null,Lr=null,Es=new Map,yr=new Map,ti=[],ig="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bh(s,a){switch(s){case"focusin":case"focusout":un=null;break;case"dragenter":case"dragleave":Vr=null;break;case"mouseover":case"mouseout":Lr=null;break;case"pointerover":case"pointerout":Es.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":yr.delete(a.pointerId)}}function Mn(s,a,u,p,g,w){return s===null||s.nativeEvent!==w?(s={blockedOn:a,domEventName:u,eventSystemFlags:p,nativeEvent:w,targetContainers:[g]},a!==null&&(a=fc(a),a!==null&&Ka(a)),s):(s.eventSystemFlags|=p,a=s.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),s)}function sg(s,a,u,p,g){switch(a){case"focusin":return un=Mn(un,s,a,u,p,g),!0;case"dragenter":return Vr=Mn(Vr,s,a,u,p,g),!0;case"mouseover":return Lr=Mn(Lr,s,a,u,p,g),!0;case"pointerover":var w=g.pointerId;return Es.set(w,Mn(Es.get(w)||null,s,a,u,p,g)),!0;case"gotpointercapture":return w=g.pointerId,yr.set(w,Mn(yr.get(w)||null,s,a,u,p,g)),!0}return!1}function Ah(s){var a=zo(s.target);if(a!==null){var u=Nr(a);if(u!==null){if(a=u.tag,a===13){if(a=No(u),a!==null){s.blockedOn=a,Rh(s.priority,function(){Sh(u)});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Ni(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var u=Ga(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(u===null){u=s.nativeEvent;var p=new u.constructor(u.type,u);Po=p,u.target.dispatchEvent(p),Po=null}else return a=fc(u),a!==null&&Ka(a),s.blockedOn=u,!1;a.shift()}return!0}function Fo(s,a,u){Ni(s)&&u.delete(a)}function Ch(){Xu=!1,un!==null&&Ni(un)&&(un=null),Vr!==null&&Ni(Vr)&&(Vr=null),Lr!==null&&Ni(Lr)&&(Lr=null),Es.forEach(Fo),yr.forEach(Fo)}function Mr(s,a){s.blockedOn===a&&(s.blockedOn=null,Xu||(Xu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ch)))}function Fr(s){function a(g){return Mr(g,s)}if(0<ei.length){Mr(ei[0],s);for(var u=1;u<ei.length;u++){var p=ei[u];p.blockedOn===s&&(p.blockedOn=null)}}for(un!==null&&Mr(un,s),Vr!==null&&Mr(Vr,s),Lr!==null&&Mr(Lr,s),Es.forEach(a),yr.forEach(a),u=0;u<ti.length;u++)p=ti[u],p.blockedOn===s&&(p.blockedOn=null);for(;0<ti.length&&(u=ti[0],u.blockedOn===null);)Ah(u),u.blockedOn===null&&ti.shift()}var Di=$.ReactCurrentBatchConfig,Ts=!0;function yt(s,a,u,p){var g=$e,w=Di.transition;Di.transition=null;try{$e=1,Zu(s,a,u,p)}finally{$e=g,Di.transition=w}}function og(s,a,u,p){var g=$e,w=Di.transition;Di.transition=null;try{$e=4,Zu(s,a,u,p)}finally{$e=g,Di.transition=w}}function Zu(s,a,u,p){if(Ts){var g=Ga(s,a,u,p);if(g===null)yg(s,a,p,jo,u),bh(s,p);else if(sg(g,s,a,u,p))p.stopPropagation();else if(bh(s,p),a&4&&-1<ig.indexOf(s)){for(;g!==null;){var w=fc(g);if(w!==null&&Th(w),w=Ga(s,a,u,p),w===null&&yg(s,a,p,jo,u),w===g)break;g=w}g!==null&&p.stopPropagation()}else yg(s,a,p,null,u)}}var jo=null;function Ga(s,a,u,p){if(jo=null,s=Ma(p),s=zo(s),s!==null)if(a=Nr(s),a===null)s=null;else if(u=a.tag,u===13){if(s=No(a),s!==null)return s;s=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return jo=s,null}function ec(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yh()){case Do:return 1;case ms:return 4;case gr:case Yu:return 16;case _h:return 536870912;default:return 16}default:return 16}}var Zn=null,Qa=null,Fn=null;function tc(){if(Fn)return Fn;var s,a=Qa,u=a.length,p,g="value"in Zn?Zn.value:Zn.textContent,w=g.length;for(s=0;s<u&&a[s]===g[s];s++);var C=u-s;for(p=1;p<=C&&a[u-p]===g[w-p];p++);return Fn=g.slice(s,1<p?1-p:void 0)}function Ya(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function ni(){return!0}function nc(){return!1}function cn(s){function a(u,p,g,w,C){this._reactName=u,this._targetInst=g,this.type=p,this.nativeEvent=w,this.target=C,this.currentTarget=null;for(var j in s)s.hasOwnProperty(j)&&(u=s[j],this[j]=u?u(w):w[j]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?ni:nc,this.isPropagationStopped=nc,this}return de(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=ni)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=ni)},persist:function(){},isPersistent:ni}),a}var jr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ja=cn(jr),ri=de({},jr,{view:0,detail:0}),ag=cn(ri),Xa,Vi,Ss,Uo=de({},ri,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ii,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ss&&(Ss&&s.type==="mousemove"?(Xa=s.screenX-Ss.screenX,Vi=s.screenY-Ss.screenY):Vi=Xa=0,Ss=s),Xa)},movementY:function(s){return"movementY"in s?s.movementY:Vi}}),Za=cn(Uo),rc=de({},Uo,{dataTransfer:0}),Ph=cn(rc),el=de({},ri,{relatedTarget:0}),tl=cn(el),xh=de({},jr,{animationName:0,elapsedTime:0,pseudoElement:0}),Li=cn(xh),kh=de({},jr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Oh=cn(kh),Nh=de({},jr,{data:0}),ic=cn(Nh),nl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vh(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Dh[s])?!!a[s]:!1}function ii(){return Vh}var h=de({},ri,{key:function(s){if(s.key){var a=nl[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Ya(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Cn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ii,charCode:function(s){return s.type==="keypress"?Ya(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ya(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),_=cn(h),I=de({},Uo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),N=cn(I),Q=de({},ri,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ii}),ne=cn(Q),ge=de({},jr,{propertyName:0,elapsedTime:0,pseudoElement:0}),tt=cn(ge),Yt=de({},Uo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),He=cn(Yt),nn=[9,13,27,32],Ut=c&&"CompositionEvent"in window,_r=null;c&&"documentMode"in document&&(_r=document.documentMode);var er=c&&"TextEvent"in window&&!_r,Bo=c&&(!Ut||_r&&8<_r&&11>=_r),rl=" ",a0=!1;function l0(s,a){switch(s){case"keyup":return nn.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function u0(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var il=!1;function Cx(s,a){switch(s){case"compositionend":return u0(a);case"keypress":return a.which!==32?null:(a0=!0,rl);case"textInput":return s=a.data,s===rl&&a0?null:s;default:return null}}function Px(s,a){if(il)return s==="compositionend"||!Ut&&l0(s,a)?(s=tc(),Fn=Qa=Zn=null,il=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Bo&&a.locale!=="ko"?null:a.data;default:return null}}var xx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function c0(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!xx[s.type]:a==="textarea"}function d0(s,a,u,p){Zr(p),a=Uh(a,"onChange"),0<a.length&&(u=new Ja("onChange","change",null,u,p),s.push({event:u,listeners:a}))}var sc=null,oc=null;function kx(s){P0(s,0)}function Lh(s){var a=ul(s);if(et(a))return s}function Ox(s,a){if(s==="change")return a}var h0=!1;if(c){var lg;if(c){var ug="oninput"in document;if(!ug){var f0=document.createElement("div");f0.setAttribute("oninput","return;"),ug=typeof f0.oninput=="function"}lg=ug}else lg=!1;h0=lg&&(!document.documentMode||9<document.documentMode)}function p0(){sc&&(sc.detachEvent("onpropertychange",m0),oc=sc=null)}function m0(s){if(s.propertyName==="value"&&Lh(oc)){var a=[];d0(a,oc,s,Ma(s)),Hu(kx,a)}}function Nx(s,a,u){s==="focusin"?(p0(),sc=a,oc=u,sc.attachEvent("onpropertychange",m0)):s==="focusout"&&p0()}function Dx(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Lh(oc)}function Vx(s,a){if(s==="click")return Lh(a)}function Lx(s,a){if(s==="input"||s==="change")return Lh(a)}function Mx(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var Ur=typeof Object.is=="function"?Object.is:Mx;function ac(s,a){if(Ur(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var u=Object.keys(s),p=Object.keys(a);if(u.length!==p.length)return!1;for(p=0;p<u.length;p++){var g=u[p];if(!d.call(a,g)||!Ur(s[g],a[g]))return!1}return!0}function g0(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function y0(s,a){var u=g0(s);s=0;for(var p;u;){if(u.nodeType===3){if(p=s+u.textContent.length,s<=a&&p>=a)return{node:u,offset:a-s};s=p}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=g0(u)}}function _0(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?_0(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function v0(){for(var s=window,a=ht();a instanceof s.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)s=a.contentWindow;else break;a=ht(s.document)}return a}function cg(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function Fx(s){var a=v0(),u=s.focusedElem,p=s.selectionRange;if(a!==u&&u&&u.ownerDocument&&_0(u.ownerDocument.documentElement,u)){if(p!==null&&cg(u)){if(a=p.start,s=p.end,s===void 0&&(s=a),"selectionStart"in u)u.selectionStart=a,u.selectionEnd=Math.min(s,u.value.length);else if(s=(a=u.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var g=u.textContent.length,w=Math.min(p.start,g);p=p.end===void 0?w:Math.min(p.end,g),!s.extend&&w>p&&(g=p,p=w,w=g),g=y0(u,w);var C=y0(u,p);g&&C&&(s.rangeCount!==1||s.anchorNode!==g.node||s.anchorOffset!==g.offset||s.focusNode!==C.node||s.focusOffset!==C.offset)&&(a=a.createRange(),a.setStart(g.node,g.offset),s.removeAllRanges(),w>p?(s.addRange(a),s.extend(C.node,C.offset)):(a.setEnd(C.node,C.offset),s.addRange(a)))}}for(a=[],s=u;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<a.length;u++)s=a[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var jx=c&&"documentMode"in document&&11>=document.documentMode,sl=null,dg=null,lc=null,hg=!1;function w0(s,a,u){var p=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;hg||sl==null||sl!==ht(p)||(p=sl,"selectionStart"in p&&cg(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),lc&&ac(lc,p)||(lc=p,p=Uh(dg,"onSelect"),0<p.length&&(a=new Ja("onSelect","select",null,a,u),s.push({event:a,listeners:p}),a.target=sl)))}function Mh(s,a){var u={};return u[s.toLowerCase()]=a.toLowerCase(),u["Webkit"+s]="webkit"+a,u["Moz"+s]="moz"+a,u}var ol={animationend:Mh("Animation","AnimationEnd"),animationiteration:Mh("Animation","AnimationIteration"),animationstart:Mh("Animation","AnimationStart"),transitionend:Mh("Transition","TransitionEnd")},fg={},E0={};c&&(E0=document.createElement("div").style,"AnimationEvent"in window||(delete ol.animationend.animation,delete ol.animationiteration.animation,delete ol.animationstart.animation),"TransitionEvent"in window||delete ol.transitionend.transition);function Fh(s){if(fg[s])return fg[s];if(!ol[s])return s;var a=ol[s],u;for(u in a)if(a.hasOwnProperty(u)&&u in E0)return fg[s]=a[u];return s}var T0=Fh("animationend"),S0=Fh("animationiteration"),I0=Fh("animationstart"),R0=Fh("transitionend"),b0=new Map,A0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Is(s,a){b0.set(s,a),o(a,[s])}for(var pg=0;pg<A0.length;pg++){var mg=A0[pg],Ux=mg.toLowerCase(),Bx=mg[0].toUpperCase()+mg.slice(1);Is(Ux,"on"+Bx)}Is(T0,"onAnimationEnd"),Is(S0,"onAnimationIteration"),Is(I0,"onAnimationStart"),Is("dblclick","onDoubleClick"),Is("focusin","onFocus"),Is("focusout","onBlur"),Is(R0,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zx=new Set("cancel close invalid load scroll toggle".split(" ").concat(uc));function C0(s,a,u){var p=s.type||"unknown-event";s.currentTarget=u,ph(p,a,void 0,s),s.currentTarget=null}function P0(s,a){a=(a&4)!==0;for(var u=0;u<s.length;u++){var p=s[u],g=p.event;p=p.listeners;e:{var w=void 0;if(a)for(var C=p.length-1;0<=C;C--){var j=p[C],z=j.instance,ee=j.currentTarget;if(j=j.listener,z!==w&&g.isPropagationStopped())break e;C0(g,j,ee),w=z}else for(C=0;C<p.length;C++){if(j=p[C],z=j.instance,ee=j.currentTarget,j=j.listener,z!==w&&g.isPropagationStopped())break e;C0(g,j,ee),w=z}}}if(Or)throw s=Ku,Or=!1,Ku=null,s}function ft(s,a){var u=a[Sg];u===void 0&&(u=a[Sg]=new Set);var p=s+"__bubble";u.has(p)||(x0(a,s,2,!1),u.add(p))}function gg(s,a,u){var p=0;a&&(p|=4),x0(u,s,p,a)}var jh="_reactListening"+Math.random().toString(36).slice(2);function cc(s){if(!s[jh]){s[jh]=!0,r.forEach(function(u){u!=="selectionchange"&&(zx.has(u)||gg(u,!1,s),gg(u,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[jh]||(a[jh]=!0,gg("selectionchange",!1,a))}}function x0(s,a,u,p){switch(ec(a)){case 1:var g=yt;break;case 4:g=og;break;default:g=Zu}u=g.bind(null,a,u,s),g=void 0,!Ua||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),p?g!==void 0?s.addEventListener(a,u,{capture:!0,passive:g}):s.addEventListener(a,u,!0):g!==void 0?s.addEventListener(a,u,{passive:g}):s.addEventListener(a,u,!1)}function yg(s,a,u,p,g){var w=p;if(!(a&1)&&!(a&2)&&p!==null)e:for(;;){if(p===null)return;var C=p.tag;if(C===3||C===4){var j=p.stateNode.containerInfo;if(j===g||j.nodeType===8&&j.parentNode===g)break;if(C===4)for(C=p.return;C!==null;){var z=C.tag;if((z===3||z===4)&&(z=C.stateNode.containerInfo,z===g||z.nodeType===8&&z.parentNode===g))return;C=C.return}for(;j!==null;){if(C=zo(j),C===null)return;if(z=C.tag,z===5||z===6){p=w=C;continue e}j=j.parentNode}}p=p.return}Hu(function(){var ee=w,ce=Ma(u),he=[];e:{var le=b0.get(s);if(le!==void 0){var ve=Ja,Se=s;switch(s){case"keypress":if(Ya(u)===0)break e;case"keydown":case"keyup":ve=_;break;case"focusin":Se="focus",ve=tl;break;case"focusout":Se="blur",ve=tl;break;case"beforeblur":case"afterblur":ve=tl;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ve=Za;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ve=Ph;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ve=ne;break;case T0:case S0:case I0:ve=Li;break;case R0:ve=tt;break;case"scroll":ve=ag;break;case"wheel":ve=He;break;case"copy":case"cut":case"paste":ve=Oh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ve=N}var Re=(a&4)!==0,Vt=!Re&&s==="scroll",Y=Re?le!==null?le+"Capture":null:le;Re=[];for(var H=ee,J;H!==null;){J=H;var me=J.stateNode;if(J.tag===5&&me!==null&&(J=me,Y!==null&&(me=Dt(H,Y),me!=null&&Re.push(dc(H,me,J)))),Vt)break;H=H.return}0<Re.length&&(le=new ve(le,Se,null,u,ce),he.push({event:le,listeners:Re}))}}if(!(a&7)){e:{if(le=s==="mouseover"||s==="pointerover",ve=s==="mouseout"||s==="pointerout",le&&u!==Po&&(Se=u.relatedTarget||u.fromElement)&&(zo(Se)||Se[Mi]))break e;if((ve||le)&&(le=ce.window===ce?ce:(le=ce.ownerDocument)?le.defaultView||le.parentWindow:window,ve?(Se=u.relatedTarget||u.toElement,ve=ee,Se=Se?zo(Se):null,Se!==null&&(Vt=Nr(Se),Se!==Vt||Se.tag!==5&&Se.tag!==6)&&(Se=null)):(ve=null,Se=ee),ve!==Se)){if(Re=Za,me="onMouseLeave",Y="onMouseEnter",H="mouse",(s==="pointerout"||s==="pointerover")&&(Re=N,me="onPointerLeave",Y="onPointerEnter",H="pointer"),Vt=ve==null?le:ul(ve),J=Se==null?le:ul(Se),le=new Re(me,H+"leave",ve,u,ce),le.target=Vt,le.relatedTarget=J,me=null,zo(ce)===ee&&(Re=new Re(Y,H+"enter",Se,u,ce),Re.target=J,Re.relatedTarget=Vt,me=Re),Vt=me,ve&&Se)t:{for(Re=ve,Y=Se,H=0,J=Re;J;J=al(J))H++;for(J=0,me=Y;me;me=al(me))J++;for(;0<H-J;)Re=al(Re),H--;for(;0<J-H;)Y=al(Y),J--;for(;H--;){if(Re===Y||Y!==null&&Re===Y.alternate)break t;Re=al(Re),Y=al(Y)}Re=null}else Re=null;ve!==null&&k0(he,le,ve,Re,!1),Se!==null&&Vt!==null&&k0(he,Vt,Se,Re,!0)}}e:{if(le=ee?ul(ee):window,ve=le.nodeName&&le.nodeName.toLowerCase(),ve==="select"||ve==="input"&&le.type==="file")var be=Ox;else if(c0(le))if(h0)be=Lx;else{be=Dx;var Pe=Nx}else(ve=le.nodeName)&&ve.toLowerCase()==="input"&&(le.type==="checkbox"||le.type==="radio")&&(be=Vx);if(be&&(be=be(s,ee))){d0(he,be,u,ce);break e}Pe&&Pe(s,le,ee),s==="focusout"&&(Pe=le._wrapperState)&&Pe.controlled&&le.type==="number"&&Ln(le,"number",le.value)}switch(Pe=ee?ul(ee):window,s){case"focusin":(c0(Pe)||Pe.contentEditable==="true")&&(sl=Pe,dg=ee,lc=null);break;case"focusout":lc=dg=sl=null;break;case"mousedown":hg=!0;break;case"contextmenu":case"mouseup":case"dragend":hg=!1,w0(he,u,ce);break;case"selectionchange":if(jx)break;case"keydown":case"keyup":w0(he,u,ce)}var xe;if(Ut)e:{switch(s){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else il?l0(s,u)&&(Oe="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(Oe="onCompositionStart");Oe&&(Bo&&u.locale!=="ko"&&(il||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&il&&(xe=tc()):(Zn=ce,Qa="value"in Zn?Zn.value:Zn.textContent,il=!0)),Pe=Uh(ee,Oe),0<Pe.length&&(Oe=new ic(Oe,s,null,u,ce),he.push({event:Oe,listeners:Pe}),xe?Oe.data=xe:(xe=u0(u),xe!==null&&(Oe.data=xe)))),(xe=er?Cx(s,u):Px(s,u))&&(ee=Uh(ee,"onBeforeInput"),0<ee.length&&(ce=new ic("onBeforeInput","beforeinput",null,u,ce),he.push({event:ce,listeners:ee}),ce.data=xe))}P0(he,a)})}function dc(s,a,u){return{instance:s,listener:a,currentTarget:u}}function Uh(s,a){for(var u=a+"Capture",p=[];s!==null;){var g=s,w=g.stateNode;g.tag===5&&w!==null&&(g=w,w=Dt(s,u),w!=null&&p.unshift(dc(s,w,g)),w=Dt(s,a),w!=null&&p.push(dc(s,w,g))),s=s.return}return p}function al(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function k0(s,a,u,p,g){for(var w=a._reactName,C=[];u!==null&&u!==p;){var j=u,z=j.alternate,ee=j.stateNode;if(z!==null&&z===p)break;j.tag===5&&ee!==null&&(j=ee,g?(z=Dt(u,w),z!=null&&C.unshift(dc(u,z,j))):g||(z=Dt(u,w),z!=null&&C.push(dc(u,z,j)))),u=u.return}C.length!==0&&s.push({event:a,listeners:C})}var $x=/\r\n?/g,qx=/\u0000|\uFFFD/g;function O0(s){return(typeof s=="string"?s:""+s).replace($x,`
`).replace(qx,"")}function Bh(s,a,u){if(a=O0(a),O0(s)!==a&&u)throw Error(t(425))}function zh(){}var _g=null,vg=null;function wg(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Eg=typeof setTimeout=="function"?setTimeout:void 0,Wx=typeof clearTimeout=="function"?clearTimeout:void 0,N0=typeof Promise=="function"?Promise:void 0,Hx=typeof queueMicrotask=="function"?queueMicrotask:typeof N0<"u"?function(s){return N0.resolve(null).then(s).catch(Kx)}:Eg;function Kx(s){setTimeout(function(){throw s})}function Tg(s,a){var u=a,p=0;do{var g=u.nextSibling;if(s.removeChild(u),g&&g.nodeType===8)if(u=g.data,u==="/$"){if(p===0){s.removeChild(g),Fr(a);return}p--}else u!=="$"&&u!=="$?"&&u!=="$!"||p++;u=g}while(u);Fr(a)}function Rs(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function D0(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(a===0)return s;a--}else u==="/$"&&a++}s=s.previousSibling}return null}var ll=Math.random().toString(36).slice(2),si="__reactFiber$"+ll,hc="__reactProps$"+ll,Mi="__reactContainer$"+ll,Sg="__reactEvents$"+ll,Gx="__reactListeners$"+ll,Qx="__reactHandles$"+ll;function zo(s){var a=s[si];if(a)return a;for(var u=s.parentNode;u;){if(a=u[Mi]||u[si]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(s=D0(s);s!==null;){if(u=s[si])return u;s=D0(s)}return a}s=u,u=s.parentNode}return null}function fc(s){return s=s[si]||s[Mi],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function ul(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function $h(s){return s[hc]||null}var Ig=[],cl=-1;function bs(s){return{current:s}}function pt(s){0>cl||(s.current=Ig[cl],Ig[cl]=null,cl--)}function ct(s,a){cl++,Ig[cl]=s.current,s.current=a}var As={},yn=bs(As),jn=bs(!1),$o=As;function dl(s,a){var u=s.type.contextTypes;if(!u)return As;var p=s.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===a)return p.__reactInternalMemoizedMaskedChildContext;var g={},w;for(w in u)g[w]=a[w];return p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=g),g}function Un(s){return s=s.childContextTypes,s!=null}function qh(){pt(jn),pt(yn)}function V0(s,a,u){if(yn.current!==As)throw Error(t(168));ct(yn,a),ct(jn,u)}function L0(s,a,u){var p=s.stateNode;if(a=a.childContextTypes,typeof p.getChildContext!="function")return u;p=p.getChildContext();for(var g in p)if(!(g in a))throw Error(t(108,We(s)||"Unknown",g));return de({},u,p)}function Wh(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||As,$o=yn.current,ct(yn,s),ct(jn,jn.current),!0}function M0(s,a,u){var p=s.stateNode;if(!p)throw Error(t(169));u?(s=L0(s,a,$o),p.__reactInternalMemoizedMergedChildContext=s,pt(jn),pt(yn),ct(yn,s)):pt(jn),ct(jn,u)}var Fi=null,Hh=!1,Rg=!1;function F0(s){Fi===null?Fi=[s]:Fi.push(s)}function Yx(s){Hh=!0,F0(s)}function Cs(){if(!Rg&&Fi!==null){Rg=!0;var s=0,a=$e;try{var u=Fi;for($e=1;s<u.length;s++){var p=u[s];do p=p(!0);while(p!==null)}Fi=null,Hh=!1}catch(g){throw Fi!==null&&(Fi=Fi.slice(s+1)),qa(Do,Cs),g}finally{$e=a,Rg=!1}}return null}var hl=[],fl=0,Kh=null,Gh=0,vr=[],wr=0,qo=null,ji=1,Ui="";function Wo(s,a){hl[fl++]=Gh,hl[fl++]=Kh,Kh=s,Gh=a}function j0(s,a,u){vr[wr++]=ji,vr[wr++]=Ui,vr[wr++]=qo,qo=s;var p=ji;s=Ui;var g=32-An(p)-1;p&=~(1<<g),u+=1;var w=32-An(a)+g;if(30<w){var C=g-g%5;w=(p&(1<<C)-1).toString(32),p>>=C,g-=C,ji=1<<32-An(a)+g|u<<g|p,Ui=w+s}else ji=1<<w|u<<g|p,Ui=s}function bg(s){s.return!==null&&(Wo(s,1),j0(s,1,0))}function Ag(s){for(;s===Kh;)Kh=hl[--fl],hl[fl]=null,Gh=hl[--fl],hl[fl]=null;for(;s===qo;)qo=vr[--wr],vr[wr]=null,Ui=vr[--wr],vr[wr]=null,ji=vr[--wr],vr[wr]=null}var tr=null,nr=null,_t=!1,Br=null;function U0(s,a){var u=Ir(5,null,null,0);u.elementType="DELETED",u.stateNode=a,u.return=s,a=s.deletions,a===null?(s.deletions=[u],s.flags|=16):a.push(u)}function B0(s,a){switch(s.tag){case 5:var u=s.type;return a=a.nodeType!==1||u.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,tr=s,nr=Rs(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,tr=s,nr=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(u=qo!==null?{id:ji,overflow:Ui}:null,s.memoizedState={dehydrated:a,treeContext:u,retryLane:1073741824},u=Ir(18,null,null,0),u.stateNode=a,u.return=s,s.child=u,tr=s,nr=null,!0):!1;default:return!1}}function Cg(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Pg(s){if(_t){var a=nr;if(a){var u=a;if(!B0(s,a)){if(Cg(s))throw Error(t(418));a=Rs(u.nextSibling);var p=tr;a&&B0(s,a)?U0(p,u):(s.flags=s.flags&-4097|2,_t=!1,tr=s)}}else{if(Cg(s))throw Error(t(418));s.flags=s.flags&-4097|2,_t=!1,tr=s}}}function z0(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;tr=s}function Qh(s){if(s!==tr)return!1;if(!_t)return z0(s),_t=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!wg(s.type,s.memoizedProps)),a&&(a=nr)){if(Cg(s))throw $0(),Error(t(418));for(;a;)U0(s,a),a=Rs(a.nextSibling)}if(z0(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"){if(a===0){nr=Rs(s.nextSibling);break e}a--}else u!=="$"&&u!=="$!"&&u!=="$?"||a++}s=s.nextSibling}nr=null}}else nr=tr?Rs(s.stateNode.nextSibling):null;return!0}function $0(){for(var s=nr;s;)s=Rs(s.nextSibling)}function pl(){nr=tr=null,_t=!1}function xg(s){Br===null?Br=[s]:Br.push(s)}var Jx=$.ReactCurrentBatchConfig;function pc(s,a,u){if(s=u.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var p=u.stateNode}if(!p)throw Error(t(147,s));var g=p,w=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===w?a.ref:(a=function(C){var j=g.refs;C===null?delete j[w]:j[w]=C},a._stringRef=w,a)}if(typeof s!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,s))}return s}function Yh(s,a){throw s=Object.prototype.toString.call(a),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function q0(s){var a=s._init;return a(s._payload)}function W0(s){function a(Y,H){if(s){var J=Y.deletions;J===null?(Y.deletions=[H],Y.flags|=16):J.push(H)}}function u(Y,H){if(!s)return null;for(;H!==null;)a(Y,H),H=H.sibling;return null}function p(Y,H){for(Y=new Map;H!==null;)H.key!==null?Y.set(H.key,H):Y.set(H.index,H),H=H.sibling;return Y}function g(Y,H){return Y=Ls(Y,H),Y.index=0,Y.sibling=null,Y}function w(Y,H,J){return Y.index=J,s?(J=Y.alternate,J!==null?(J=J.index,J<H?(Y.flags|=2,H):J):(Y.flags|=2,H)):(Y.flags|=1048576,H)}function C(Y){return s&&Y.alternate===null&&(Y.flags|=2),Y}function j(Y,H,J,me){return H===null||H.tag!==6?(H=Ey(J,Y.mode,me),H.return=Y,H):(H=g(H,J),H.return=Y,H)}function z(Y,H,J,me){var be=J.type;return be===D?ce(Y,H,J.props.children,me,J.key):H!==null&&(H.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===pe&&q0(be)===H.type)?(me=g(H,J.props),me.ref=pc(Y,H,J),me.return=Y,me):(me=Ef(J.type,J.key,J.props,null,Y.mode,me),me.ref=pc(Y,H,J),me.return=Y,me)}function ee(Y,H,J,me){return H===null||H.tag!==4||H.stateNode.containerInfo!==J.containerInfo||H.stateNode.implementation!==J.implementation?(H=Ty(J,Y.mode,me),H.return=Y,H):(H=g(H,J.children||[]),H.return=Y,H)}function ce(Y,H,J,me,be){return H===null||H.tag!==7?(H=Zo(J,Y.mode,me,be),H.return=Y,H):(H=g(H,J),H.return=Y,H)}function he(Y,H,J){if(typeof H=="string"&&H!==""||typeof H=="number")return H=Ey(""+H,Y.mode,J),H.return=Y,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case B:return J=Ef(H.type,H.key,H.props,null,Y.mode,J),J.ref=pc(Y,null,H),J.return=Y,J;case q:return H=Ty(H,Y.mode,J),H.return=Y,H;case pe:var me=H._init;return he(Y,me(H._payload),J)}if(Yn(H)||fe(H))return H=Zo(H,Y.mode,J,null),H.return=Y,H;Yh(Y,H)}return null}function le(Y,H,J,me){var be=H!==null?H.key:null;if(typeof J=="string"&&J!==""||typeof J=="number")return be!==null?null:j(Y,H,""+J,me);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case B:return J.key===be?z(Y,H,J,me):null;case q:return J.key===be?ee(Y,H,J,me):null;case pe:return be=J._init,le(Y,H,be(J._payload),me)}if(Yn(J)||fe(J))return be!==null?null:ce(Y,H,J,me,null);Yh(Y,J)}return null}function ve(Y,H,J,me,be){if(typeof me=="string"&&me!==""||typeof me=="number")return Y=Y.get(J)||null,j(H,Y,""+me,be);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case B:return Y=Y.get(me.key===null?J:me.key)||null,z(H,Y,me,be);case q:return Y=Y.get(me.key===null?J:me.key)||null,ee(H,Y,me,be);case pe:var Pe=me._init;return ve(Y,H,J,Pe(me._payload),be)}if(Yn(me)||fe(me))return Y=Y.get(J)||null,ce(H,Y,me,be,null);Yh(H,me)}return null}function Se(Y,H,J,me){for(var be=null,Pe=null,xe=H,Oe=H=0,on=null;xe!==null&&Oe<J.length;Oe++){xe.index>Oe?(on=xe,xe=null):on=xe.sibling;var Qe=le(Y,xe,J[Oe],me);if(Qe===null){xe===null&&(xe=on);break}s&&xe&&Qe.alternate===null&&a(Y,xe),H=w(Qe,H,Oe),Pe===null?be=Qe:Pe.sibling=Qe,Pe=Qe,xe=on}if(Oe===J.length)return u(Y,xe),_t&&Wo(Y,Oe),be;if(xe===null){for(;Oe<J.length;Oe++)xe=he(Y,J[Oe],me),xe!==null&&(H=w(xe,H,Oe),Pe===null?be=xe:Pe.sibling=xe,Pe=xe);return _t&&Wo(Y,Oe),be}for(xe=p(Y,xe);Oe<J.length;Oe++)on=ve(xe,Y,Oe,J[Oe],me),on!==null&&(s&&on.alternate!==null&&xe.delete(on.key===null?Oe:on.key),H=w(on,H,Oe),Pe===null?be=on:Pe.sibling=on,Pe=on);return s&&xe.forEach(function(Ms){return a(Y,Ms)}),_t&&Wo(Y,Oe),be}function Re(Y,H,J,me){var be=fe(J);if(typeof be!="function")throw Error(t(150));if(J=be.call(J),J==null)throw Error(t(151));for(var Pe=be=null,xe=H,Oe=H=0,on=null,Qe=J.next();xe!==null&&!Qe.done;Oe++,Qe=J.next()){xe.index>Oe?(on=xe,xe=null):on=xe.sibling;var Ms=le(Y,xe,Qe.value,me);if(Ms===null){xe===null&&(xe=on);break}s&&xe&&Ms.alternate===null&&a(Y,xe),H=w(Ms,H,Oe),Pe===null?be=Ms:Pe.sibling=Ms,Pe=Ms,xe=on}if(Qe.done)return u(Y,xe),_t&&Wo(Y,Oe),be;if(xe===null){for(;!Qe.done;Oe++,Qe=J.next())Qe=he(Y,Qe.value,me),Qe!==null&&(H=w(Qe,H,Oe),Pe===null?be=Qe:Pe.sibling=Qe,Pe=Qe);return _t&&Wo(Y,Oe),be}for(xe=p(Y,xe);!Qe.done;Oe++,Qe=J.next())Qe=ve(xe,Y,Oe,Qe.value,me),Qe!==null&&(s&&Qe.alternate!==null&&xe.delete(Qe.key===null?Oe:Qe.key),H=w(Qe,H,Oe),Pe===null?be=Qe:Pe.sibling=Qe,Pe=Qe);return s&&xe.forEach(function(xk){return a(Y,xk)}),_t&&Wo(Y,Oe),be}function Vt(Y,H,J,me){if(typeof J=="object"&&J!==null&&J.type===D&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case B:e:{for(var be=J.key,Pe=H;Pe!==null;){if(Pe.key===be){if(be=J.type,be===D){if(Pe.tag===7){u(Y,Pe.sibling),H=g(Pe,J.props.children),H.return=Y,Y=H;break e}}else if(Pe.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===pe&&q0(be)===Pe.type){u(Y,Pe.sibling),H=g(Pe,J.props),H.ref=pc(Y,Pe,J),H.return=Y,Y=H;break e}u(Y,Pe);break}else a(Y,Pe);Pe=Pe.sibling}J.type===D?(H=Zo(J.props.children,Y.mode,me,J.key),H.return=Y,Y=H):(me=Ef(J.type,J.key,J.props,null,Y.mode,me),me.ref=pc(Y,H,J),me.return=Y,Y=me)}return C(Y);case q:e:{for(Pe=J.key;H!==null;){if(H.key===Pe)if(H.tag===4&&H.stateNode.containerInfo===J.containerInfo&&H.stateNode.implementation===J.implementation){u(Y,H.sibling),H=g(H,J.children||[]),H.return=Y,Y=H;break e}else{u(Y,H);break}else a(Y,H);H=H.sibling}H=Ty(J,Y.mode,me),H.return=Y,Y=H}return C(Y);case pe:return Pe=J._init,Vt(Y,H,Pe(J._payload),me)}if(Yn(J))return Se(Y,H,J,me);if(fe(J))return Re(Y,H,J,me);Yh(Y,J)}return typeof J=="string"&&J!==""||typeof J=="number"?(J=""+J,H!==null&&H.tag===6?(u(Y,H.sibling),H=g(H,J),H.return=Y,Y=H):(u(Y,H),H=Ey(J,Y.mode,me),H.return=Y,Y=H),C(Y)):u(Y,H)}return Vt}var ml=W0(!0),H0=W0(!1),Jh=bs(null),Xh=null,gl=null,kg=null;function Og(){kg=gl=Xh=null}function Ng(s){var a=Jh.current;pt(Jh),s._currentValue=a}function Dg(s,a,u){for(;s!==null;){var p=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,p!==null&&(p.childLanes|=a)):p!==null&&(p.childLanes&a)!==a&&(p.childLanes|=a),s===u)break;s=s.return}}function yl(s,a){Xh=s,kg=gl=null,s=s.dependencies,s!==null&&s.firstContext!==null&&(s.lanes&a&&(Bn=!0),s.firstContext=null)}function Er(s){var a=s._currentValue;if(kg!==s)if(s={context:s,memoizedValue:a,next:null},gl===null){if(Xh===null)throw Error(t(308));gl=s,Xh.dependencies={lanes:0,firstContext:s}}else gl=gl.next=s;return a}var Ho=null;function Vg(s){Ho===null?Ho=[s]:Ho.push(s)}function K0(s,a,u,p){var g=a.interleaved;return g===null?(u.next=u,Vg(a)):(u.next=g.next,g.next=u),a.interleaved=u,Bi(s,p)}function Bi(s,a){s.lanes|=a;var u=s.alternate;for(u!==null&&(u.lanes|=a),u=s,s=s.return;s!==null;)s.childLanes|=a,u=s.alternate,u!==null&&(u.childLanes|=a),u=s,s=s.return;return u.tag===3?u.stateNode:null}var Ps=!1;function Lg(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function G0(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function zi(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function xs(s,a,u){var p=s.updateQueue;if(p===null)return null;if(p=p.shared,Ge&2){var g=p.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),p.pending=a,Bi(s,u)}return g=p.interleaved,g===null?(a.next=a,Vg(p)):(a.next=g.next,g.next=a),p.interleaved=a,Bi(s,u)}function Zh(s,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194240)!==0)){var p=a.lanes;p&=s.pendingLanes,u|=p,a.lanes=u,vs(s,u)}}function Q0(s,a){var u=s.updateQueue,p=s.alternate;if(p!==null&&(p=p.updateQueue,u===p)){var g=null,w=null;if(u=u.firstBaseUpdate,u!==null){do{var C={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};w===null?g=w=C:w=w.next=C,u=u.next}while(u!==null);w===null?g=w=a:w=w.next=a}else g=w=a;u={baseState:p.baseState,firstBaseUpdate:g,lastBaseUpdate:w,shared:p.shared,effects:p.effects},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=a:s.next=a,u.lastBaseUpdate=a}function ef(s,a,u,p){var g=s.updateQueue;Ps=!1;var w=g.firstBaseUpdate,C=g.lastBaseUpdate,j=g.shared.pending;if(j!==null){g.shared.pending=null;var z=j,ee=z.next;z.next=null,C===null?w=ee:C.next=ee,C=z;var ce=s.alternate;ce!==null&&(ce=ce.updateQueue,j=ce.lastBaseUpdate,j!==C&&(j===null?ce.firstBaseUpdate=ee:j.next=ee,ce.lastBaseUpdate=z))}if(w!==null){var he=g.baseState;C=0,ce=ee=z=null,j=w;do{var le=j.lane,ve=j.eventTime;if((p&le)===le){ce!==null&&(ce=ce.next={eventTime:ve,lane:0,tag:j.tag,payload:j.payload,callback:j.callback,next:null});e:{var Se=s,Re=j;switch(le=a,ve=u,Re.tag){case 1:if(Se=Re.payload,typeof Se=="function"){he=Se.call(ve,he,le);break e}he=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Re.payload,le=typeof Se=="function"?Se.call(ve,he,le):Se,le==null)break e;he=de({},he,le);break e;case 2:Ps=!0}}j.callback!==null&&j.lane!==0&&(s.flags|=64,le=g.effects,le===null?g.effects=[j]:le.push(j))}else ve={eventTime:ve,lane:le,tag:j.tag,payload:j.payload,callback:j.callback,next:null},ce===null?(ee=ce=ve,z=he):ce=ce.next=ve,C|=le;if(j=j.next,j===null){if(j=g.shared.pending,j===null)break;le=j,j=le.next,le.next=null,g.lastBaseUpdate=le,g.shared.pending=null}}while(!0);if(ce===null&&(z=he),g.baseState=z,g.firstBaseUpdate=ee,g.lastBaseUpdate=ce,a=g.shared.interleaved,a!==null){g=a;do C|=g.lane,g=g.next;while(g!==a)}else w===null&&(g.shared.lanes=0);Qo|=C,s.lanes=C,s.memoizedState=he}}function Y0(s,a,u){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var p=s[a],g=p.callback;if(g!==null){if(p.callback=null,p=u,typeof g!="function")throw Error(t(191,g));g.call(p)}}}var mc={},oi=bs(mc),gc=bs(mc),yc=bs(mc);function Ko(s){if(s===mc)throw Error(t(174));return s}function Mg(s,a){switch(ct(yc,a),ct(gc,s),ct(oi,mc),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Qt(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=Qt(a,s)}pt(oi),ct(oi,a)}function _l(){pt(oi),pt(gc),pt(yc)}function J0(s){Ko(yc.current);var a=Ko(oi.current),u=Qt(a,s.type);a!==u&&(ct(gc,s),ct(oi,u))}function Fg(s){gc.current===s&&(pt(oi),pt(gc))}var Rt=bs(0);function tf(s){for(var a=s;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if(a.flags&128)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var jg=[];function Ug(){for(var s=0;s<jg.length;s++)jg[s]._workInProgressVersionPrimary=null;jg.length=0}var nf=$.ReactCurrentDispatcher,Bg=$.ReactCurrentBatchConfig,Go=0,bt=null,Jt=null,rn=null,rf=!1,_c=!1,vc=0,Xx=0;function _n(){throw Error(t(321))}function zg(s,a){if(a===null)return!1;for(var u=0;u<a.length&&u<s.length;u++)if(!Ur(s[u],a[u]))return!1;return!0}function $g(s,a,u,p,g,w){if(Go=w,bt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,nf.current=s===null||s.memoizedState===null?nk:rk,s=u(p,g),_c){w=0;do{if(_c=!1,vc=0,25<=w)throw Error(t(301));w+=1,rn=Jt=null,a.updateQueue=null,nf.current=ik,s=u(p,g)}while(_c)}if(nf.current=af,a=Jt!==null&&Jt.next!==null,Go=0,rn=Jt=bt=null,rf=!1,a)throw Error(t(300));return s}function qg(){var s=vc!==0;return vc=0,s}function ai(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rn===null?bt.memoizedState=rn=s:rn=rn.next=s,rn}function Tr(){if(Jt===null){var s=bt.alternate;s=s!==null?s.memoizedState:null}else s=Jt.next;var a=rn===null?bt.memoizedState:rn.next;if(a!==null)rn=a,Jt=s;else{if(s===null)throw Error(t(310));Jt=s,s={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},rn===null?bt.memoizedState=rn=s:rn=rn.next=s}return rn}function wc(s,a){return typeof a=="function"?a(s):a}function Wg(s){var a=Tr(),u=a.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=s;var p=Jt,g=p.baseQueue,w=u.pending;if(w!==null){if(g!==null){var C=g.next;g.next=w.next,w.next=C}p.baseQueue=g=w,u.pending=null}if(g!==null){w=g.next,p=p.baseState;var j=C=null,z=null,ee=w;do{var ce=ee.lane;if((Go&ce)===ce)z!==null&&(z=z.next={lane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),p=ee.hasEagerState?ee.eagerState:s(p,ee.action);else{var he={lane:ce,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null};z===null?(j=z=he,C=p):z=z.next=he,bt.lanes|=ce,Qo|=ce}ee=ee.next}while(ee!==null&&ee!==w);z===null?C=p:z.next=j,Ur(p,a.memoizedState)||(Bn=!0),a.memoizedState=p,a.baseState=C,a.baseQueue=z,u.lastRenderedState=p}if(s=u.interleaved,s!==null){g=s;do w=g.lane,bt.lanes|=w,Qo|=w,g=g.next;while(g!==s)}else g===null&&(u.lanes=0);return[a.memoizedState,u.dispatch]}function Hg(s){var a=Tr(),u=a.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=s;var p=u.dispatch,g=u.pending,w=a.memoizedState;if(g!==null){u.pending=null;var C=g=g.next;do w=s(w,C.action),C=C.next;while(C!==g);Ur(w,a.memoizedState)||(Bn=!0),a.memoizedState=w,a.baseQueue===null&&(a.baseState=w),u.lastRenderedState=w}return[w,p]}function X0(){}function Z0(s,a){var u=bt,p=Tr(),g=a(),w=!Ur(p.memoizedState,g);if(w&&(p.memoizedState=g,Bn=!0),p=p.queue,Kg(nE.bind(null,u,p,s),[s]),p.getSnapshot!==a||w||rn!==null&&rn.memoizedState.tag&1){if(u.flags|=2048,Ec(9,tE.bind(null,u,p,g,a),void 0,null),sn===null)throw Error(t(349));Go&30||eE(u,a,g)}return g}function eE(s,a,u){s.flags|=16384,s={getSnapshot:a,value:u},a=bt.updateQueue,a===null?(a={lastEffect:null,stores:null},bt.updateQueue=a,a.stores=[s]):(u=a.stores,u===null?a.stores=[s]:u.push(s))}function tE(s,a,u,p){a.value=u,a.getSnapshot=p,rE(a)&&iE(s)}function nE(s,a,u){return u(function(){rE(a)&&iE(s)})}function rE(s){var a=s.getSnapshot;s=s.value;try{var u=a();return!Ur(s,u)}catch{return!0}}function iE(s){var a=Bi(s,1);a!==null&&Wr(a,s,1,-1)}function sE(s){var a=ai();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wc,lastRenderedState:s},a.queue=s,s=s.dispatch=tk.bind(null,bt,s),[a.memoizedState,s]}function Ec(s,a,u,p){return s={tag:s,create:a,destroy:u,deps:p,next:null},a=bt.updateQueue,a===null?(a={lastEffect:null,stores:null},bt.updateQueue=a,a.lastEffect=s.next=s):(u=a.lastEffect,u===null?a.lastEffect=s.next=s:(p=u.next,u.next=s,s.next=p,a.lastEffect=s)),s}function oE(){return Tr().memoizedState}function sf(s,a,u,p){var g=ai();bt.flags|=s,g.memoizedState=Ec(1|a,u,void 0,p===void 0?null:p)}function of(s,a,u,p){var g=Tr();p=p===void 0?null:p;var w=void 0;if(Jt!==null){var C=Jt.memoizedState;if(w=C.destroy,p!==null&&zg(p,C.deps)){g.memoizedState=Ec(a,u,w,p);return}}bt.flags|=s,g.memoizedState=Ec(1|a,u,w,p)}function aE(s,a){return sf(8390656,8,s,a)}function Kg(s,a){return of(2048,8,s,a)}function lE(s,a){return of(4,2,s,a)}function uE(s,a){return of(4,4,s,a)}function cE(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function dE(s,a,u){return u=u!=null?u.concat([s]):null,of(4,4,cE.bind(null,a,s),u)}function Gg(){}function hE(s,a){var u=Tr();a=a===void 0?null:a;var p=u.memoizedState;return p!==null&&a!==null&&zg(a,p[1])?p[0]:(u.memoizedState=[s,a],s)}function fE(s,a){var u=Tr();a=a===void 0?null:a;var p=u.memoizedState;return p!==null&&a!==null&&zg(a,p[1])?p[0]:(s=s(),u.memoizedState=[s,a],s)}function pE(s,a,u){return Go&21?(Ur(u,a)||(u=Mo(),bt.lanes|=u,Qo|=u,s.baseState=!0),a):(s.baseState&&(s.baseState=!1,Bn=!0),s.memoizedState=u)}function Zx(s,a){var u=$e;$e=u!==0&&4>u?u:4,s(!0);var p=Bg.transition;Bg.transition={};try{s(!1),a()}finally{$e=u,Bg.transition=p}}function mE(){return Tr().memoizedState}function ek(s,a,u){var p=Ds(s);if(u={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null},gE(s))yE(a,u);else if(u=K0(s,a,u,p),u!==null){var g=xn();Wr(u,s,p,g),_E(u,a,p)}}function tk(s,a,u){var p=Ds(s),g={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null};if(gE(s))yE(a,g);else{var w=s.alternate;if(s.lanes===0&&(w===null||w.lanes===0)&&(w=a.lastRenderedReducer,w!==null))try{var C=a.lastRenderedState,j=w(C,u);if(g.hasEagerState=!0,g.eagerState=j,Ur(j,C)){var z=a.interleaved;z===null?(g.next=g,Vg(a)):(g.next=z.next,z.next=g),a.interleaved=g;return}}catch{}finally{}u=K0(s,a,g,p),u!==null&&(g=xn(),Wr(u,s,p,g),_E(u,a,p))}}function gE(s){var a=s.alternate;return s===bt||a!==null&&a===bt}function yE(s,a){_c=rf=!0;var u=s.pending;u===null?a.next=a:(a.next=u.next,u.next=a),s.pending=a}function _E(s,a,u){if(u&4194240){var p=a.lanes;p&=s.pendingLanes,u|=p,a.lanes=u,vs(s,u)}}var af={readContext:Er,useCallback:_n,useContext:_n,useEffect:_n,useImperativeHandle:_n,useInsertionEffect:_n,useLayoutEffect:_n,useMemo:_n,useReducer:_n,useRef:_n,useState:_n,useDebugValue:_n,useDeferredValue:_n,useTransition:_n,useMutableSource:_n,useSyncExternalStore:_n,useId:_n,unstable_isNewReconciler:!1},nk={readContext:Er,useCallback:function(s,a){return ai().memoizedState=[s,a===void 0?null:a],s},useContext:Er,useEffect:aE,useImperativeHandle:function(s,a,u){return u=u!=null?u.concat([s]):null,sf(4194308,4,cE.bind(null,a,s),u)},useLayoutEffect:function(s,a){return sf(4194308,4,s,a)},useInsertionEffect:function(s,a){return sf(4,2,s,a)},useMemo:function(s,a){var u=ai();return a=a===void 0?null:a,s=s(),u.memoizedState=[s,a],s},useReducer:function(s,a,u){var p=ai();return a=u!==void 0?u(a):a,p.memoizedState=p.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},p.queue=s,s=s.dispatch=ek.bind(null,bt,s),[p.memoizedState,s]},useRef:function(s){var a=ai();return s={current:s},a.memoizedState=s},useState:sE,useDebugValue:Gg,useDeferredValue:function(s){return ai().memoizedState=s},useTransition:function(){var s=sE(!1),a=s[0];return s=Zx.bind(null,s[1]),ai().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,u){var p=bt,g=ai();if(_t){if(u===void 0)throw Error(t(407));u=u()}else{if(u=a(),sn===null)throw Error(t(349));Go&30||eE(p,a,u)}g.memoizedState=u;var w={value:u,getSnapshot:a};return g.queue=w,aE(nE.bind(null,p,w,s),[s]),p.flags|=2048,Ec(9,tE.bind(null,p,w,u,a),void 0,null),u},useId:function(){var s=ai(),a=sn.identifierPrefix;if(_t){var u=Ui,p=ji;u=(p&~(1<<32-An(p)-1)).toString(32)+u,a=":"+a+"R"+u,u=vc++,0<u&&(a+="H"+u.toString(32)),a+=":"}else u=Xx++,a=":"+a+"r"+u.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},rk={readContext:Er,useCallback:hE,useContext:Er,useEffect:Kg,useImperativeHandle:dE,useInsertionEffect:lE,useLayoutEffect:uE,useMemo:fE,useReducer:Wg,useRef:oE,useState:function(){return Wg(wc)},useDebugValue:Gg,useDeferredValue:function(s){var a=Tr();return pE(a,Jt.memoizedState,s)},useTransition:function(){var s=Wg(wc)[0],a=Tr().memoizedState;return[s,a]},useMutableSource:X0,useSyncExternalStore:Z0,useId:mE,unstable_isNewReconciler:!1},ik={readContext:Er,useCallback:hE,useContext:Er,useEffect:Kg,useImperativeHandle:dE,useInsertionEffect:lE,useLayoutEffect:uE,useMemo:fE,useReducer:Hg,useRef:oE,useState:function(){return Hg(wc)},useDebugValue:Gg,useDeferredValue:function(s){var a=Tr();return Jt===null?a.memoizedState=s:pE(a,Jt.memoizedState,s)},useTransition:function(){var s=Hg(wc)[0],a=Tr().memoizedState;return[s,a]},useMutableSource:X0,useSyncExternalStore:Z0,useId:mE,unstable_isNewReconciler:!1};function zr(s,a){if(s&&s.defaultProps){a=de({},a),s=s.defaultProps;for(var u in s)a[u]===void 0&&(a[u]=s[u]);return a}return a}function Qg(s,a,u,p){a=s.memoizedState,u=u(p,a),u=u==null?a:de({},a,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var lf={isMounted:function(s){return(s=s._reactInternals)?Nr(s)===s:!1},enqueueSetState:function(s,a,u){s=s._reactInternals;var p=xn(),g=Ds(s),w=zi(p,g);w.payload=a,u!=null&&(w.callback=u),a=xs(s,w,g),a!==null&&(Wr(a,s,g,p),Zh(a,s,g))},enqueueReplaceState:function(s,a,u){s=s._reactInternals;var p=xn(),g=Ds(s),w=zi(p,g);w.tag=1,w.payload=a,u!=null&&(w.callback=u),a=xs(s,w,g),a!==null&&(Wr(a,s,g,p),Zh(a,s,g))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var u=xn(),p=Ds(s),g=zi(u,p);g.tag=2,a!=null&&(g.callback=a),a=xs(s,g,p),a!==null&&(Wr(a,s,p,u),Zh(a,s,p))}};function vE(s,a,u,p,g,w,C){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(p,w,C):a.prototype&&a.prototype.isPureReactComponent?!ac(u,p)||!ac(g,w):!0}function wE(s,a,u){var p=!1,g=As,w=a.contextType;return typeof w=="object"&&w!==null?w=Er(w):(g=Un(a)?$o:yn.current,p=a.contextTypes,w=(p=p!=null)?dl(s,g):As),a=new a(u,w),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=lf,s.stateNode=a,a._reactInternals=s,p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=g,s.__reactInternalMemoizedMaskedChildContext=w),a}function EE(s,a,u,p){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,p),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,p),a.state!==s&&lf.enqueueReplaceState(a,a.state,null)}function Yg(s,a,u,p){var g=s.stateNode;g.props=u,g.state=s.memoizedState,g.refs={},Lg(s);var w=a.contextType;typeof w=="object"&&w!==null?g.context=Er(w):(w=Un(a)?$o:yn.current,g.context=dl(s,w)),g.state=s.memoizedState,w=a.getDerivedStateFromProps,typeof w=="function"&&(Qg(s,a,w,u),g.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(a=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),a!==g.state&&lf.enqueueReplaceState(g,g.state,null),ef(s,u,g,p),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308)}function vl(s,a){try{var u="",p=a;do u+=De(p),p=p.return;while(p);var g=u}catch(w){g=`
Error generating stack: `+w.message+`
`+w.stack}return{value:s,source:a,stack:g,digest:null}}function Jg(s,a,u){return{value:s,source:null,stack:u??null,digest:a??null}}function Xg(s,a){try{console.error(a.value)}catch(u){setTimeout(function(){throw u})}}var sk=typeof WeakMap=="function"?WeakMap:Map;function TE(s,a,u){u=zi(-1,u),u.tag=3,u.payload={element:null};var p=a.value;return u.callback=function(){mf||(mf=!0,fy=p),Xg(s,a)},u}function SE(s,a,u){u=zi(-1,u),u.tag=3;var p=s.type.getDerivedStateFromError;if(typeof p=="function"){var g=a.value;u.payload=function(){return p(g)},u.callback=function(){Xg(s,a)}}var w=s.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(u.callback=function(){Xg(s,a),typeof p!="function"&&(Os===null?Os=new Set([this]):Os.add(this));var C=a.stack;this.componentDidCatch(a.value,{componentStack:C!==null?C:""})}),u}function IE(s,a,u){var p=s.pingCache;if(p===null){p=s.pingCache=new sk;var g=new Set;p.set(a,g)}else g=p.get(a),g===void 0&&(g=new Set,p.set(a,g));g.has(u)||(g.add(u),s=vk.bind(null,s,a,u),a.then(s,s))}function RE(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function bE(s,a,u,p,g){return s.mode&1?(s.flags|=65536,s.lanes=g,s):(s===a?s.flags|=65536:(s.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(a=zi(-1,1),a.tag=2,xs(u,a,1))),u.lanes|=1),s)}var ok=$.ReactCurrentOwner,Bn=!1;function Pn(s,a,u,p){a.child=s===null?H0(a,null,u,p):ml(a,s.child,u,p)}function AE(s,a,u,p,g){u=u.render;var w=a.ref;return yl(a,g),p=$g(s,a,u,p,w,g),u=qg(),s!==null&&!Bn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~g,$i(s,a,g)):(_t&&u&&bg(a),a.flags|=1,Pn(s,a,p,g),a.child)}function CE(s,a,u,p,g){if(s===null){var w=u.type;return typeof w=="function"&&!wy(w)&&w.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(a.tag=15,a.type=w,PE(s,a,w,p,g)):(s=Ef(u.type,null,p,a,a.mode,g),s.ref=a.ref,s.return=a,a.child=s)}if(w=s.child,!(s.lanes&g)){var C=w.memoizedProps;if(u=u.compare,u=u!==null?u:ac,u(C,p)&&s.ref===a.ref)return $i(s,a,g)}return a.flags|=1,s=Ls(w,p),s.ref=a.ref,s.return=a,a.child=s}function PE(s,a,u,p,g){if(s!==null){var w=s.memoizedProps;if(ac(w,p)&&s.ref===a.ref)if(Bn=!1,a.pendingProps=p=w,(s.lanes&g)!==0)s.flags&131072&&(Bn=!0);else return a.lanes=s.lanes,$i(s,a,g)}return Zg(s,a,u,p,g)}function xE(s,a,u){var p=a.pendingProps,g=p.children,w=s!==null?s.memoizedState:null;if(p.mode==="hidden")if(!(a.mode&1))a.memoizedState={baseLanes:0,cachePool:null,transitions:null},ct(El,rr),rr|=u;else{if(!(u&1073741824))return s=w!==null?w.baseLanes|u:u,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,ct(El,rr),rr|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=w!==null?w.baseLanes:u,ct(El,rr),rr|=p}else w!==null?(p=w.baseLanes|u,a.memoizedState=null):p=u,ct(El,rr),rr|=p;return Pn(s,a,g,u),a.child}function kE(s,a){var u=a.ref;(s===null&&u!==null||s!==null&&s.ref!==u)&&(a.flags|=512,a.flags|=2097152)}function Zg(s,a,u,p,g){var w=Un(u)?$o:yn.current;return w=dl(a,w),yl(a,g),u=$g(s,a,u,p,w,g),p=qg(),s!==null&&!Bn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~g,$i(s,a,g)):(_t&&p&&bg(a),a.flags|=1,Pn(s,a,u,g),a.child)}function OE(s,a,u,p,g){if(Un(u)){var w=!0;Wh(a)}else w=!1;if(yl(a,g),a.stateNode===null)cf(s,a),wE(a,u,p),Yg(a,u,p,g),p=!0;else if(s===null){var C=a.stateNode,j=a.memoizedProps;C.props=j;var z=C.context,ee=u.contextType;typeof ee=="object"&&ee!==null?ee=Er(ee):(ee=Un(u)?$o:yn.current,ee=dl(a,ee));var ce=u.getDerivedStateFromProps,he=typeof ce=="function"||typeof C.getSnapshotBeforeUpdate=="function";he||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(j!==p||z!==ee)&&EE(a,C,p,ee),Ps=!1;var le=a.memoizedState;C.state=le,ef(a,p,C,g),z=a.memoizedState,j!==p||le!==z||jn.current||Ps?(typeof ce=="function"&&(Qg(a,u,ce,p),z=a.memoizedState),(j=Ps||vE(a,u,j,p,le,z,ee))?(he||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(a.flags|=4194308)):(typeof C.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=p,a.memoizedState=z),C.props=p,C.state=z,C.context=ee,p=j):(typeof C.componentDidMount=="function"&&(a.flags|=4194308),p=!1)}else{C=a.stateNode,G0(s,a),j=a.memoizedProps,ee=a.type===a.elementType?j:zr(a.type,j),C.props=ee,he=a.pendingProps,le=C.context,z=u.contextType,typeof z=="object"&&z!==null?z=Er(z):(z=Un(u)?$o:yn.current,z=dl(a,z));var ve=u.getDerivedStateFromProps;(ce=typeof ve=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(j!==he||le!==z)&&EE(a,C,p,z),Ps=!1,le=a.memoizedState,C.state=le,ef(a,p,C,g);var Se=a.memoizedState;j!==he||le!==Se||jn.current||Ps?(typeof ve=="function"&&(Qg(a,u,ve,p),Se=a.memoizedState),(ee=Ps||vE(a,u,ee,p,le,Se,z)||!1)?(ce||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(p,Se,z),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(p,Se,z)),typeof C.componentDidUpdate=="function"&&(a.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof C.componentDidUpdate!="function"||j===s.memoizedProps&&le===s.memoizedState||(a.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||j===s.memoizedProps&&le===s.memoizedState||(a.flags|=1024),a.memoizedProps=p,a.memoizedState=Se),C.props=p,C.state=Se,C.context=z,p=ee):(typeof C.componentDidUpdate!="function"||j===s.memoizedProps&&le===s.memoizedState||(a.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||j===s.memoizedProps&&le===s.memoizedState||(a.flags|=1024),p=!1)}return ey(s,a,u,p,w,g)}function ey(s,a,u,p,g,w){kE(s,a);var C=(a.flags&128)!==0;if(!p&&!C)return g&&M0(a,u,!1),$i(s,a,w);p=a.stateNode,ok.current=a;var j=C&&typeof u.getDerivedStateFromError!="function"?null:p.render();return a.flags|=1,s!==null&&C?(a.child=ml(a,s.child,null,w),a.child=ml(a,null,j,w)):Pn(s,a,j,w),a.memoizedState=p.state,g&&M0(a,u,!0),a.child}function NE(s){var a=s.stateNode;a.pendingContext?V0(s,a.pendingContext,a.pendingContext!==a.context):a.context&&V0(s,a.context,!1),Mg(s,a.containerInfo)}function DE(s,a,u,p,g){return pl(),xg(g),a.flags|=256,Pn(s,a,u,p),a.child}var ty={dehydrated:null,treeContext:null,retryLane:0};function ny(s){return{baseLanes:s,cachePool:null,transitions:null}}function VE(s,a,u){var p=a.pendingProps,g=Rt.current,w=!1,C=(a.flags&128)!==0,j;if((j=C)||(j=s!==null&&s.memoizedState===null?!1:(g&2)!==0),j?(w=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(g|=1),ct(Rt,g&1),s===null)return Pg(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?(a.mode&1?s.data==="$!"?a.lanes=8:a.lanes=1073741824:a.lanes=1,null):(C=p.children,s=p.fallback,w?(p=a.mode,w=a.child,C={mode:"hidden",children:C},!(p&1)&&w!==null?(w.childLanes=0,w.pendingProps=C):w=Tf(C,p,0,null),s=Zo(s,p,u,null),w.return=a,s.return=a,w.sibling=s,a.child=w,a.child.memoizedState=ny(u),a.memoizedState=ty,s):ry(a,C));if(g=s.memoizedState,g!==null&&(j=g.dehydrated,j!==null))return ak(s,a,C,p,j,g,u);if(w){w=p.fallback,C=a.mode,g=s.child,j=g.sibling;var z={mode:"hidden",children:p.children};return!(C&1)&&a.child!==g?(p=a.child,p.childLanes=0,p.pendingProps=z,a.deletions=null):(p=Ls(g,z),p.subtreeFlags=g.subtreeFlags&14680064),j!==null?w=Ls(j,w):(w=Zo(w,C,u,null),w.flags|=2),w.return=a,p.return=a,p.sibling=w,a.child=p,p=w,w=a.child,C=s.child.memoizedState,C=C===null?ny(u):{baseLanes:C.baseLanes|u,cachePool:null,transitions:C.transitions},w.memoizedState=C,w.childLanes=s.childLanes&~u,a.memoizedState=ty,p}return w=s.child,s=w.sibling,p=Ls(w,{mode:"visible",children:p.children}),!(a.mode&1)&&(p.lanes=u),p.return=a,p.sibling=null,s!==null&&(u=a.deletions,u===null?(a.deletions=[s],a.flags|=16):u.push(s)),a.child=p,a.memoizedState=null,p}function ry(s,a){return a=Tf({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function uf(s,a,u,p){return p!==null&&xg(p),ml(a,s.child,null,u),s=ry(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function ak(s,a,u,p,g,w,C){if(u)return a.flags&256?(a.flags&=-257,p=Jg(Error(t(422))),uf(s,a,C,p)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(w=p.fallback,g=a.mode,p=Tf({mode:"visible",children:p.children},g,0,null),w=Zo(w,g,C,null),w.flags|=2,p.return=a,w.return=a,p.sibling=w,a.child=p,a.mode&1&&ml(a,s.child,null,C),a.child.memoizedState=ny(C),a.memoizedState=ty,w);if(!(a.mode&1))return uf(s,a,C,null);if(g.data==="$!"){if(p=g.nextSibling&&g.nextSibling.dataset,p)var j=p.dgst;return p=j,w=Error(t(419)),p=Jg(w,p,void 0),uf(s,a,C,p)}if(j=(C&s.childLanes)!==0,Bn||j){if(p=sn,p!==null){switch(C&-C){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=g&(p.suspendedLanes|C)?0:g,g!==0&&g!==w.retryLane&&(w.retryLane=g,Bi(s,g),Wr(p,s,g,-1))}return vy(),p=Jg(Error(t(421))),uf(s,a,C,p)}return g.data==="$?"?(a.flags|=128,a.child=s.child,a=wk.bind(null,s),g._reactRetry=a,null):(s=w.treeContext,nr=Rs(g.nextSibling),tr=a,_t=!0,Br=null,s!==null&&(vr[wr++]=ji,vr[wr++]=Ui,vr[wr++]=qo,ji=s.id,Ui=s.overflow,qo=a),a=ry(a,p.children),a.flags|=4096,a)}function LE(s,a,u){s.lanes|=a;var p=s.alternate;p!==null&&(p.lanes|=a),Dg(s.return,a,u)}function iy(s,a,u,p,g){var w=s.memoizedState;w===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:p,tail:u,tailMode:g}:(w.isBackwards=a,w.rendering=null,w.renderingStartTime=0,w.last=p,w.tail=u,w.tailMode=g)}function ME(s,a,u){var p=a.pendingProps,g=p.revealOrder,w=p.tail;if(Pn(s,a,p.children,u),p=Rt.current,p&2)p=p&1|2,a.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&LE(s,u,a);else if(s.tag===19)LE(s,u,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}p&=1}if(ct(Rt,p),!(a.mode&1))a.memoizedState=null;else switch(g){case"forwards":for(u=a.child,g=null;u!==null;)s=u.alternate,s!==null&&tf(s)===null&&(g=u),u=u.sibling;u=g,u===null?(g=a.child,a.child=null):(g=u.sibling,u.sibling=null),iy(a,!1,g,u,w);break;case"backwards":for(u=null,g=a.child,a.child=null;g!==null;){if(s=g.alternate,s!==null&&tf(s)===null){a.child=g;break}s=g.sibling,g.sibling=u,u=g,g=s}iy(a,!0,u,null,w);break;case"together":iy(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function cf(s,a){!(a.mode&1)&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function $i(s,a,u){if(s!==null&&(a.dependencies=s.dependencies),Qo|=a.lanes,!(u&a.childLanes))return null;if(s!==null&&a.child!==s.child)throw Error(t(153));if(a.child!==null){for(s=a.child,u=Ls(s,s.pendingProps),a.child=u,u.return=a;s.sibling!==null;)s=s.sibling,u=u.sibling=Ls(s,s.pendingProps),u.return=a;u.sibling=null}return a.child}function lk(s,a,u){switch(a.tag){case 3:NE(a),pl();break;case 5:J0(a);break;case 1:Un(a.type)&&Wh(a);break;case 4:Mg(a,a.stateNode.containerInfo);break;case 10:var p=a.type._context,g=a.memoizedProps.value;ct(Jh,p._currentValue),p._currentValue=g;break;case 13:if(p=a.memoizedState,p!==null)return p.dehydrated!==null?(ct(Rt,Rt.current&1),a.flags|=128,null):u&a.child.childLanes?VE(s,a,u):(ct(Rt,Rt.current&1),s=$i(s,a,u),s!==null?s.sibling:null);ct(Rt,Rt.current&1);break;case 19:if(p=(u&a.childLanes)!==0,s.flags&128){if(p)return ME(s,a,u);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),ct(Rt,Rt.current),p)break;return null;case 22:case 23:return a.lanes=0,xE(s,a,u)}return $i(s,a,u)}var FE,sy,jE,UE;FE=function(s,a){for(var u=a.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},sy=function(){},jE=function(s,a,u,p){var g=s.memoizedProps;if(g!==p){s=a.stateNode,Ko(oi.current);var w=null;switch(u){case"input":g=Kt(s,g),p=Kt(s,p),w=[];break;case"select":g=de({},g,{value:void 0}),p=de({},p,{value:void 0}),w=[];break;case"textarea":g=Lu(s,g),p=Lu(s,p),w=[];break;default:typeof g.onClick!="function"&&typeof p.onClick=="function"&&(s.onclick=zh)}zu(u,p);var C;u=null;for(ee in g)if(!p.hasOwnProperty(ee)&&g.hasOwnProperty(ee)&&g[ee]!=null)if(ee==="style"){var j=g[ee];for(C in j)j.hasOwnProperty(C)&&(u||(u={}),u[C]="")}else ee!=="dangerouslySetInnerHTML"&&ee!=="children"&&ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&ee!=="autoFocus"&&(i.hasOwnProperty(ee)?w||(w=[]):(w=w||[]).push(ee,null));for(ee in p){var z=p[ee];if(j=g!=null?g[ee]:void 0,p.hasOwnProperty(ee)&&z!==j&&(z!=null||j!=null))if(ee==="style")if(j){for(C in j)!j.hasOwnProperty(C)||z&&z.hasOwnProperty(C)||(u||(u={}),u[C]="");for(C in z)z.hasOwnProperty(C)&&j[C]!==z[C]&&(u||(u={}),u[C]=z[C])}else u||(w||(w=[]),w.push(ee,u)),u=z;else ee==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,j=j?j.__html:void 0,z!=null&&j!==z&&(w=w||[]).push(ee,z)):ee==="children"?typeof z!="string"&&typeof z!="number"||(w=w||[]).push(ee,""+z):ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&(i.hasOwnProperty(ee)?(z!=null&&ee==="onScroll"&&ft("scroll",s),w||j===z||(w=[])):(w=w||[]).push(ee,z))}u&&(w=w||[]).push("style",u);var ee=w;(a.updateQueue=ee)&&(a.flags|=4)}},UE=function(s,a,u,p){u!==p&&(a.flags|=4)};function Tc(s,a){if(!_t)switch(s.tailMode){case"hidden":a=s.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:p.sibling=null}}function vn(s){var a=s.alternate!==null&&s.alternate.child===s.child,u=0,p=0;if(a)for(var g=s.child;g!==null;)u|=g.lanes|g.childLanes,p|=g.subtreeFlags&14680064,p|=g.flags&14680064,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)u|=g.lanes|g.childLanes,p|=g.subtreeFlags,p|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=p,s.childLanes=u,a}function uk(s,a,u){var p=a.pendingProps;switch(Ag(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vn(a),null;case 1:return Un(a.type)&&qh(),vn(a),null;case 3:return p=a.stateNode,_l(),pt(jn),pt(yn),Ug(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(s===null||s.child===null)&&(Qh(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&!(a.flags&256)||(a.flags|=1024,Br!==null&&(gy(Br),Br=null))),sy(s,a),vn(a),null;case 5:Fg(a);var g=Ko(yc.current);if(u=a.type,s!==null&&a.stateNode!=null)jE(s,a,u,p,g),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!p){if(a.stateNode===null)throw Error(t(166));return vn(a),null}if(s=Ko(oi.current),Qh(a)){p=a.stateNode,u=a.type;var w=a.memoizedProps;switch(p[si]=a,p[hc]=w,s=(a.mode&1)!==0,u){case"dialog":ft("cancel",p),ft("close",p);break;case"iframe":case"object":case"embed":ft("load",p);break;case"video":case"audio":for(g=0;g<uc.length;g++)ft(uc[g],p);break;case"source":ft("error",p);break;case"img":case"image":case"link":ft("error",p),ft("load",p);break;case"details":ft("toggle",p);break;case"input":xr(p,w),ft("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!w.multiple},ft("invalid",p);break;case"textarea":Va(p,w),ft("invalid",p)}zu(u,w),g=null;for(var C in w)if(w.hasOwnProperty(C)){var j=w[C];C==="children"?typeof j=="string"?p.textContent!==j&&(w.suppressHydrationWarning!==!0&&Bh(p.textContent,j,s),g=["children",j]):typeof j=="number"&&p.textContent!==""+j&&(w.suppressHydrationWarning!==!0&&Bh(p.textContent,j,s),g=["children",""+j]):i.hasOwnProperty(C)&&j!=null&&C==="onScroll"&&ft("scroll",p)}switch(u){case"input":tn(p),Vn(p,w,!0);break;case"textarea":tn(p),Mu(p);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(p.onclick=zh)}p=g,a.updateQueue=p,p!==null&&(a.flags|=4)}else{C=g.nodeType===9?g:g.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Gt(u)),s==="http://www.w3.org/1999/xhtml"?u==="script"?(s=C.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof p.is=="string"?s=C.createElement(u,{is:p.is}):(s=C.createElement(u),u==="select"&&(C=s,p.multiple?C.multiple=!0:p.size&&(C.size=p.size))):s=C.createElementNS(s,u),s[si]=a,s[hc]=p,FE(s,a,!1,!1),a.stateNode=s;e:{switch(C=$u(u,p),u){case"dialog":ft("cancel",s),ft("close",s),g=p;break;case"iframe":case"object":case"embed":ft("load",s),g=p;break;case"video":case"audio":for(g=0;g<uc.length;g++)ft(uc[g],s);g=p;break;case"source":ft("error",s),g=p;break;case"img":case"image":case"link":ft("error",s),ft("load",s),g=p;break;case"details":ft("toggle",s),g=p;break;case"input":xr(s,p),g=Kt(s,p),ft("invalid",s);break;case"option":g=p;break;case"select":s._wrapperState={wasMultiple:!!p.multiple},g=de({},p,{value:void 0}),ft("invalid",s);break;case"textarea":Va(s,p),g=Lu(s,p),ft("invalid",s);break;default:g=p}zu(u,g),j=g;for(w in j)if(j.hasOwnProperty(w)){var z=j[w];w==="style"?Uu(s,z):w==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,z!=null&&Fu(s,z)):w==="children"?typeof z=="string"?(u!=="textarea"||z!=="")&&ps(s,z):typeof z=="number"&&ps(s,""+z):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(i.hasOwnProperty(w)?z!=null&&w==="onScroll"&&ft("scroll",s):z!=null&&M(s,w,z,C))}switch(u){case"input":tn(s),Vn(s,p,!1);break;case"textarea":tn(s),Mu(s);break;case"option":p.value!=null&&s.setAttribute("value",""+ze(p.value));break;case"select":s.multiple=!!p.multiple,w=p.value,w!=null?Pi(s,!!p.multiple,w,!1):p.defaultValue!=null&&Pi(s,!!p.multiple,p.defaultValue,!0);break;default:typeof g.onClick=="function"&&(s.onclick=zh)}switch(u){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return vn(a),null;case 6:if(s&&a.stateNode!=null)UE(s,a,s.memoizedProps,p);else{if(typeof p!="string"&&a.stateNode===null)throw Error(t(166));if(u=Ko(yc.current),Ko(oi.current),Qh(a)){if(p=a.stateNode,u=a.memoizedProps,p[si]=a,(w=p.nodeValue!==u)&&(s=tr,s!==null))switch(s.tag){case 3:Bh(p.nodeValue,u,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Bh(p.nodeValue,u,(s.mode&1)!==0)}w&&(a.flags|=4)}else p=(u.nodeType===9?u:u.ownerDocument).createTextNode(p),p[si]=a,a.stateNode=p}return vn(a),null;case 13:if(pt(Rt),p=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(_t&&nr!==null&&a.mode&1&&!(a.flags&128))$0(),pl(),a.flags|=98560,w=!1;else if(w=Qh(a),p!==null&&p.dehydrated!==null){if(s===null){if(!w)throw Error(t(318));if(w=a.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(t(317));w[si]=a}else pl(),!(a.flags&128)&&(a.memoizedState=null),a.flags|=4;vn(a),w=!1}else Br!==null&&(gy(Br),Br=null),w=!0;if(!w)return a.flags&65536?a:null}return a.flags&128?(a.lanes=u,a):(p=p!==null,p!==(s!==null&&s.memoizedState!==null)&&p&&(a.child.flags|=8192,a.mode&1&&(s===null||Rt.current&1?Xt===0&&(Xt=3):vy())),a.updateQueue!==null&&(a.flags|=4),vn(a),null);case 4:return _l(),sy(s,a),s===null&&cc(a.stateNode.containerInfo),vn(a),null;case 10:return Ng(a.type._context),vn(a),null;case 17:return Un(a.type)&&qh(),vn(a),null;case 19:if(pt(Rt),w=a.memoizedState,w===null)return vn(a),null;if(p=(a.flags&128)!==0,C=w.rendering,C===null)if(p)Tc(w,!1);else{if(Xt!==0||s!==null&&s.flags&128)for(s=a.child;s!==null;){if(C=tf(s),C!==null){for(a.flags|=128,Tc(w,!1),p=C.updateQueue,p!==null&&(a.updateQueue=p,a.flags|=4),a.subtreeFlags=0,p=u,u=a.child;u!==null;)w=u,s=p,w.flags&=14680066,C=w.alternate,C===null?(w.childLanes=0,w.lanes=s,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=C.childLanes,w.lanes=C.lanes,w.child=C.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=C.memoizedProps,w.memoizedState=C.memoizedState,w.updateQueue=C.updateQueue,w.type=C.type,s=C.dependencies,w.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u=u.sibling;return ct(Rt,Rt.current&1|2),a.child}s=s.sibling}w.tail!==null&&ut()>Tl&&(a.flags|=128,p=!0,Tc(w,!1),a.lanes=4194304)}else{if(!p)if(s=tf(C),s!==null){if(a.flags|=128,p=!0,u=s.updateQueue,u!==null&&(a.updateQueue=u,a.flags|=4),Tc(w,!0),w.tail===null&&w.tailMode==="hidden"&&!C.alternate&&!_t)return vn(a),null}else 2*ut()-w.renderingStartTime>Tl&&u!==1073741824&&(a.flags|=128,p=!0,Tc(w,!1),a.lanes=4194304);w.isBackwards?(C.sibling=a.child,a.child=C):(u=w.last,u!==null?u.sibling=C:a.child=C,w.last=C)}return w.tail!==null?(a=w.tail,w.rendering=a,w.tail=a.sibling,w.renderingStartTime=ut(),a.sibling=null,u=Rt.current,ct(Rt,p?u&1|2:u&1),a):(vn(a),null);case 22:case 23:return _y(),p=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==p&&(a.flags|=8192),p&&a.mode&1?rr&1073741824&&(vn(a),a.subtreeFlags&6&&(a.flags|=8192)):vn(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function ck(s,a){switch(Ag(a),a.tag){case 1:return Un(a.type)&&qh(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return _l(),pt(jn),pt(yn),Ug(),s=a.flags,s&65536&&!(s&128)?(a.flags=s&-65537|128,a):null;case 5:return Fg(a),null;case 13:if(pt(Rt),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(t(340));pl()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return pt(Rt),null;case 4:return _l(),null;case 10:return Ng(a.type._context),null;case 22:case 23:return _y(),null;case 24:return null;default:return null}}var df=!1,wn=!1,dk=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function wl(s,a){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(p){xt(s,a,p)}else u.current=null}function oy(s,a,u){try{u()}catch(p){xt(s,a,p)}}var BE=!1;function hk(s,a){if(_g=Ts,s=v0(),cg(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var p=u.getSelection&&u.getSelection();if(p&&p.rangeCount!==0){u=p.anchorNode;var g=p.anchorOffset,w=p.focusNode;p=p.focusOffset;try{u.nodeType,w.nodeType}catch{u=null;break e}var C=0,j=-1,z=-1,ee=0,ce=0,he=s,le=null;t:for(;;){for(var ve;he!==u||g!==0&&he.nodeType!==3||(j=C+g),he!==w||p!==0&&he.nodeType!==3||(z=C+p),he.nodeType===3&&(C+=he.nodeValue.length),(ve=he.firstChild)!==null;)le=he,he=ve;for(;;){if(he===s)break t;if(le===u&&++ee===g&&(j=C),le===w&&++ce===p&&(z=C),(ve=he.nextSibling)!==null)break;he=le,le=he.parentNode}he=ve}u=j===-1||z===-1?null:{start:j,end:z}}else u=null}u=u||{start:0,end:0}}else u=null;for(vg={focusedElem:s,selectionRange:u},Ts=!1,Ee=a;Ee!==null;)if(a=Ee,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,Ee=s;else for(;Ee!==null;){a=Ee;try{var Se=a.alternate;if(a.flags&1024)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Se!==null){var Re=Se.memoizedProps,Vt=Se.memoizedState,Y=a.stateNode,H=Y.getSnapshotBeforeUpdate(a.elementType===a.type?Re:zr(a.type,Re),Vt);Y.__reactInternalSnapshotBeforeUpdate=H}break;case 3:var J=a.stateNode.containerInfo;J.nodeType===1?J.textContent="":J.nodeType===9&&J.documentElement&&J.removeChild(J.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(me){xt(a,a.return,me)}if(s=a.sibling,s!==null){s.return=a.return,Ee=s;break}Ee=a.return}return Se=BE,BE=!1,Se}function Sc(s,a,u){var p=a.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var g=p=p.next;do{if((g.tag&s)===s){var w=g.destroy;g.destroy=void 0,w!==void 0&&oy(a,u,w)}g=g.next}while(g!==p)}}function hf(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var u=a=a.next;do{if((u.tag&s)===s){var p=u.create;u.destroy=p()}u=u.next}while(u!==a)}}function ay(s){var a=s.ref;if(a!==null){var u=s.stateNode;switch(s.tag){case 5:s=u;break;default:s=u}typeof a=="function"?a(s):a.current=s}}function zE(s){var a=s.alternate;a!==null&&(s.alternate=null,zE(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[si],delete a[hc],delete a[Sg],delete a[Gx],delete a[Qx])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function $E(s){return s.tag===5||s.tag===3||s.tag===4}function qE(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||$E(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function ly(s,a,u){var p=s.tag;if(p===5||p===6)s=s.stateNode,a?u.nodeType===8?u.parentNode.insertBefore(s,a):u.insertBefore(s,a):(u.nodeType===8?(a=u.parentNode,a.insertBefore(s,u)):(a=u,a.appendChild(s)),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=zh));else if(p!==4&&(s=s.child,s!==null))for(ly(s,a,u),s=s.sibling;s!==null;)ly(s,a,u),s=s.sibling}function uy(s,a,u){var p=s.tag;if(p===5||p===6)s=s.stateNode,a?u.insertBefore(s,a):u.appendChild(s);else if(p!==4&&(s=s.child,s!==null))for(uy(s,a,u),s=s.sibling;s!==null;)uy(s,a,u),s=s.sibling}var dn=null,$r=!1;function ks(s,a,u){for(u=u.child;u!==null;)WE(s,a,u),u=u.sibling}function WE(s,a,u){if(Jn&&typeof Jn.onCommitFiberUnmount=="function")try{Jn.onCommitFiberUnmount(Vo,u)}catch{}switch(u.tag){case 5:wn||wl(u,a);case 6:var p=dn,g=$r;dn=null,ks(s,a,u),dn=p,$r=g,dn!==null&&($r?(s=dn,u=u.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):dn.removeChild(u.stateNode));break;case 18:dn!==null&&($r?(s=dn,u=u.stateNode,s.nodeType===8?Tg(s.parentNode,u):s.nodeType===1&&Tg(s,u),Fr(s)):Tg(dn,u.stateNode));break;case 4:p=dn,g=$r,dn=u.stateNode.containerInfo,$r=!0,ks(s,a,u),dn=p,$r=g;break;case 0:case 11:case 14:case 15:if(!wn&&(p=u.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){g=p=p.next;do{var w=g,C=w.destroy;w=w.tag,C!==void 0&&(w&2||w&4)&&oy(u,a,C),g=g.next}while(g!==p)}ks(s,a,u);break;case 1:if(!wn&&(wl(u,a),p=u.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=u.memoizedProps,p.state=u.memoizedState,p.componentWillUnmount()}catch(j){xt(u,a,j)}ks(s,a,u);break;case 21:ks(s,a,u);break;case 22:u.mode&1?(wn=(p=wn)||u.memoizedState!==null,ks(s,a,u),wn=p):ks(s,a,u);break;default:ks(s,a,u)}}function HE(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var u=s.stateNode;u===null&&(u=s.stateNode=new dk),a.forEach(function(p){var g=Ek.bind(null,s,p);u.has(p)||(u.add(p),p.then(g,g))})}}function qr(s,a){var u=a.deletions;if(u!==null)for(var p=0;p<u.length;p++){var g=u[p];try{var w=s,C=a,j=C;e:for(;j!==null;){switch(j.tag){case 5:dn=j.stateNode,$r=!1;break e;case 3:dn=j.stateNode.containerInfo,$r=!0;break e;case 4:dn=j.stateNode.containerInfo,$r=!0;break e}j=j.return}if(dn===null)throw Error(t(160));WE(w,C,g),dn=null,$r=!1;var z=g.alternate;z!==null&&(z.return=null),g.return=null}catch(ee){xt(g,a,ee)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)KE(a,s),a=a.sibling}function KE(s,a){var u=s.alternate,p=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(qr(a,s),li(s),p&4){try{Sc(3,s,s.return),hf(3,s)}catch(Re){xt(s,s.return,Re)}try{Sc(5,s,s.return)}catch(Re){xt(s,s.return,Re)}}break;case 1:qr(a,s),li(s),p&512&&u!==null&&wl(u,u.return);break;case 5:if(qr(a,s),li(s),p&512&&u!==null&&wl(u,u.return),s.flags&32){var g=s.stateNode;try{ps(g,"")}catch(Re){xt(s,s.return,Re)}}if(p&4&&(g=s.stateNode,g!=null)){var w=s.memoizedProps,C=u!==null?u.memoizedProps:w,j=s.type,z=s.updateQueue;if(s.updateQueue=null,z!==null)try{j==="input"&&w.type==="radio"&&w.name!=null&&fr(g,w),$u(j,C);var ee=$u(j,w);for(C=0;C<z.length;C+=2){var ce=z[C],he=z[C+1];ce==="style"?Uu(g,he):ce==="dangerouslySetInnerHTML"?Fu(g,he):ce==="children"?ps(g,he):M(g,ce,he,ee)}switch(j){case"input":pr(g,w);break;case"textarea":La(g,w);break;case"select":var le=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!w.multiple;var ve=w.value;ve!=null?Pi(g,!!w.multiple,ve,!1):le!==!!w.multiple&&(w.defaultValue!=null?Pi(g,!!w.multiple,w.defaultValue,!0):Pi(g,!!w.multiple,w.multiple?[]:"",!1))}g[hc]=w}catch(Re){xt(s,s.return,Re)}}break;case 6:if(qr(a,s),li(s),p&4){if(s.stateNode===null)throw Error(t(162));g=s.stateNode,w=s.memoizedProps;try{g.nodeValue=w}catch(Re){xt(s,s.return,Re)}}break;case 3:if(qr(a,s),li(s),p&4&&u!==null&&u.memoizedState.isDehydrated)try{Fr(a.containerInfo)}catch(Re){xt(s,s.return,Re)}break;case 4:qr(a,s),li(s);break;case 13:qr(a,s),li(s),g=s.child,g.flags&8192&&(w=g.memoizedState!==null,g.stateNode.isHidden=w,!w||g.alternate!==null&&g.alternate.memoizedState!==null||(hy=ut())),p&4&&HE(s);break;case 22:if(ce=u!==null&&u.memoizedState!==null,s.mode&1?(wn=(ee=wn)||ce,qr(a,s),wn=ee):qr(a,s),li(s),p&8192){if(ee=s.memoizedState!==null,(s.stateNode.isHidden=ee)&&!ce&&s.mode&1)for(Ee=s,ce=s.child;ce!==null;){for(he=Ee=ce;Ee!==null;){switch(le=Ee,ve=le.child,le.tag){case 0:case 11:case 14:case 15:Sc(4,le,le.return);break;case 1:wl(le,le.return);var Se=le.stateNode;if(typeof Se.componentWillUnmount=="function"){p=le,u=le.return;try{a=p,Se.props=a.memoizedProps,Se.state=a.memoizedState,Se.componentWillUnmount()}catch(Re){xt(p,u,Re)}}break;case 5:wl(le,le.return);break;case 22:if(le.memoizedState!==null){YE(he);continue}}ve!==null?(ve.return=le,Ee=ve):YE(he)}ce=ce.sibling}e:for(ce=null,he=s;;){if(he.tag===5){if(ce===null){ce=he;try{g=he.stateNode,ee?(w=g.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(j=he.stateNode,z=he.memoizedProps.style,C=z!=null&&z.hasOwnProperty("display")?z.display:null,j.style.display=ju("display",C))}catch(Re){xt(s,s.return,Re)}}}else if(he.tag===6){if(ce===null)try{he.stateNode.nodeValue=ee?"":he.memoizedProps}catch(Re){xt(s,s.return,Re)}}else if((he.tag!==22&&he.tag!==23||he.memoizedState===null||he===s)&&he.child!==null){he.child.return=he,he=he.child;continue}if(he===s)break e;for(;he.sibling===null;){if(he.return===null||he.return===s)break e;ce===he&&(ce=null),he=he.return}ce===he&&(ce=null),he.sibling.return=he.return,he=he.sibling}}break;case 19:qr(a,s),li(s),p&4&&HE(s);break;case 21:break;default:qr(a,s),li(s)}}function li(s){var a=s.flags;if(a&2){try{e:{for(var u=s.return;u!==null;){if($E(u)){var p=u;break e}u=u.return}throw Error(t(160))}switch(p.tag){case 5:var g=p.stateNode;p.flags&32&&(ps(g,""),p.flags&=-33);var w=qE(s);uy(s,w,g);break;case 3:case 4:var C=p.stateNode.containerInfo,j=qE(s);ly(s,j,C);break;default:throw Error(t(161))}}catch(z){xt(s,s.return,z)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function fk(s,a,u){Ee=s,GE(s)}function GE(s,a,u){for(var p=(s.mode&1)!==0;Ee!==null;){var g=Ee,w=g.child;if(g.tag===22&&p){var C=g.memoizedState!==null||df;if(!C){var j=g.alternate,z=j!==null&&j.memoizedState!==null||wn;j=df;var ee=wn;if(df=C,(wn=z)&&!ee)for(Ee=g;Ee!==null;)C=Ee,z=C.child,C.tag===22&&C.memoizedState!==null?JE(g):z!==null?(z.return=C,Ee=z):JE(g);for(;w!==null;)Ee=w,GE(w),w=w.sibling;Ee=g,df=j,wn=ee}QE(s)}else g.subtreeFlags&8772&&w!==null?(w.return=g,Ee=w):QE(s)}}function QE(s){for(;Ee!==null;){var a=Ee;if(a.flags&8772){var u=a.alternate;try{if(a.flags&8772)switch(a.tag){case 0:case 11:case 15:wn||hf(5,a);break;case 1:var p=a.stateNode;if(a.flags&4&&!wn)if(u===null)p.componentDidMount();else{var g=a.elementType===a.type?u.memoizedProps:zr(a.type,u.memoizedProps);p.componentDidUpdate(g,u.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var w=a.updateQueue;w!==null&&Y0(a,w,p);break;case 3:var C=a.updateQueue;if(C!==null){if(u=null,a.child!==null)switch(a.child.tag){case 5:u=a.child.stateNode;break;case 1:u=a.child.stateNode}Y0(a,C,u)}break;case 5:var j=a.stateNode;if(u===null&&a.flags&4){u=j;var z=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":z.autoFocus&&u.focus();break;case"img":z.src&&(u.src=z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var ee=a.alternate;if(ee!==null){var ce=ee.memoizedState;if(ce!==null){var he=ce.dehydrated;he!==null&&Fr(he)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}wn||a.flags&512&&ay(a)}catch(le){xt(a,a.return,le)}}if(a===s){Ee=null;break}if(u=a.sibling,u!==null){u.return=a.return,Ee=u;break}Ee=a.return}}function YE(s){for(;Ee!==null;){var a=Ee;if(a===s){Ee=null;break}var u=a.sibling;if(u!==null){u.return=a.return,Ee=u;break}Ee=a.return}}function JE(s){for(;Ee!==null;){var a=Ee;try{switch(a.tag){case 0:case 11:case 15:var u=a.return;try{hf(4,a)}catch(z){xt(a,u,z)}break;case 1:var p=a.stateNode;if(typeof p.componentDidMount=="function"){var g=a.return;try{p.componentDidMount()}catch(z){xt(a,g,z)}}var w=a.return;try{ay(a)}catch(z){xt(a,w,z)}break;case 5:var C=a.return;try{ay(a)}catch(z){xt(a,C,z)}}}catch(z){xt(a,a.return,z)}if(a===s){Ee=null;break}var j=a.sibling;if(j!==null){j.return=a.return,Ee=j;break}Ee=a.return}}var pk=Math.ceil,ff=$.ReactCurrentDispatcher,cy=$.ReactCurrentOwner,Sr=$.ReactCurrentBatchConfig,Ge=0,sn=null,Bt=null,hn=0,rr=0,El=bs(0),Xt=0,Ic=null,Qo=0,pf=0,dy=0,Rc=null,zn=null,hy=0,Tl=1/0,qi=null,mf=!1,fy=null,Os=null,gf=!1,Ns=null,yf=0,bc=0,py=null,_f=-1,vf=0;function xn(){return Ge&6?ut():_f!==-1?_f:_f=ut()}function Ds(s){return s.mode&1?Ge&2&&hn!==0?hn&-hn:Jx.transition!==null?(vf===0&&(vf=Mo()),vf):(s=$e,s!==0||(s=window.event,s=s===void 0?16:ec(s.type)),s):1}function Wr(s,a,u,p){if(50<bc)throw bc=0,py=null,Error(t(185));_s(s,u,p),(!(Ge&2)||s!==sn)&&(s===sn&&(!(Ge&2)&&(pf|=u),Xt===4&&Vs(s,hn)),$n(s,p),u===1&&Ge===0&&!(a.mode&1)&&(Tl=ut()+500,Hh&&Cs()))}function $n(s,a){var u=s.callbackNode;Oi(s,a);var p=Lo(s,s===sn?hn:0);if(p===0)u!==null&&Qu(u),s.callbackNode=null,s.callbackPriority=0;else if(a=p&-p,s.callbackPriority!==a){if(u!=null&&Qu(u),a===1)s.tag===0?Yx(ZE.bind(null,s)):F0(ZE.bind(null,s)),Hx(function(){!(Ge&6)&&Cs()}),u=null;else{switch(ws(p)){case 1:u=Do;break;case 4:u=ms;break;case 16:u=gr;break;case 536870912:u=_h;break;default:u=gr}u=aT(u,XE.bind(null,s))}s.callbackPriority=a,s.callbackNode=u}}function XE(s,a){if(_f=-1,vf=0,Ge&6)throw Error(t(327));var u=s.callbackNode;if(Sl()&&s.callbackNode!==u)return null;var p=Lo(s,s===sn?hn:0);if(p===0)return null;if(p&30||p&s.expiredLanes||a)a=wf(s,p);else{a=p;var g=Ge;Ge|=2;var w=tT();(sn!==s||hn!==a)&&(qi=null,Tl=ut()+500,Jo(s,a));do try{yk();break}catch(j){eT(s,j)}while(!0);Og(),ff.current=w,Ge=g,Bt!==null?a=0:(sn=null,hn=0,a=Xt)}if(a!==0){if(a===2&&(g=Xn(s),g!==0&&(p=g,a=my(s,g))),a===1)throw u=Ic,Jo(s,0),Vs(s,p),$n(s,ut()),u;if(a===6)Vs(s,p);else{if(g=s.current.alternate,!(p&30)&&!mk(g)&&(a=wf(s,p),a===2&&(w=Xn(s),w!==0&&(p=w,a=my(s,w))),a===1))throw u=Ic,Jo(s,0),Vs(s,p),$n(s,ut()),u;switch(s.finishedWork=g,s.finishedLanes=p,a){case 0:case 1:throw Error(t(345));case 2:Xo(s,zn,qi);break;case 3:if(Vs(s,p),(p&130023424)===p&&(a=hy+500-ut(),10<a)){if(Lo(s,0)!==0)break;if(g=s.suspendedLanes,(g&p)!==p){xn(),s.pingedLanes|=s.suspendedLanes&g;break}s.timeoutHandle=Eg(Xo.bind(null,s,zn,qi),a);break}Xo(s,zn,qi);break;case 4:if(Vs(s,p),(p&4194240)===p)break;for(a=s.eventTimes,g=-1;0<p;){var C=31-An(p);w=1<<C,C=a[C],C>g&&(g=C),p&=~w}if(p=g,p=ut()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*pk(p/1960))-p,10<p){s.timeoutHandle=Eg(Xo.bind(null,s,zn,qi),p);break}Xo(s,zn,qi);break;case 5:Xo(s,zn,qi);break;default:throw Error(t(329))}}}return $n(s,ut()),s.callbackNode===u?XE.bind(null,s):null}function my(s,a){var u=Rc;return s.current.memoizedState.isDehydrated&&(Jo(s,a).flags|=256),s=wf(s,a),s!==2&&(a=zn,zn=u,a!==null&&gy(a)),s}function gy(s){zn===null?zn=s:zn.push.apply(zn,s)}function mk(s){for(var a=s;;){if(a.flags&16384){var u=a.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var p=0;p<u.length;p++){var g=u[p],w=g.getSnapshot;g=g.value;try{if(!Ur(w(),g))return!1}catch{return!1}}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Vs(s,a){for(a&=~dy,a&=~pf,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var u=31-An(a),p=1<<u;s[u]=-1,a&=~p}}function ZE(s){if(Ge&6)throw Error(t(327));Sl();var a=Lo(s,0);if(!(a&1))return $n(s,ut()),null;var u=wf(s,a);if(s.tag!==0&&u===2){var p=Xn(s);p!==0&&(a=p,u=my(s,p))}if(u===1)throw u=Ic,Jo(s,0),Vs(s,a),$n(s,ut()),u;if(u===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,Xo(s,zn,qi),$n(s,ut()),null}function yy(s,a){var u=Ge;Ge|=1;try{return s(a)}finally{Ge=u,Ge===0&&(Tl=ut()+500,Hh&&Cs())}}function Yo(s){Ns!==null&&Ns.tag===0&&!(Ge&6)&&Sl();var a=Ge;Ge|=1;var u=Sr.transition,p=$e;try{if(Sr.transition=null,$e=1,s)return s()}finally{$e=p,Sr.transition=u,Ge=a,!(Ge&6)&&Cs()}}function _y(){rr=El.current,pt(El)}function Jo(s,a){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;if(u!==-1&&(s.timeoutHandle=-1,Wx(u)),Bt!==null)for(u=Bt.return;u!==null;){var p=u;switch(Ag(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&qh();break;case 3:_l(),pt(jn),pt(yn),Ug();break;case 5:Fg(p);break;case 4:_l();break;case 13:pt(Rt);break;case 19:pt(Rt);break;case 10:Ng(p.type._context);break;case 22:case 23:_y()}u=u.return}if(sn=s,Bt=s=Ls(s.current,null),hn=rr=a,Xt=0,Ic=null,dy=pf=Qo=0,zn=Rc=null,Ho!==null){for(a=0;a<Ho.length;a++)if(u=Ho[a],p=u.interleaved,p!==null){u.interleaved=null;var g=p.next,w=u.pending;if(w!==null){var C=w.next;w.next=g,p.next=C}u.pending=p}Ho=null}return s}function eT(s,a){do{var u=Bt;try{if(Og(),nf.current=af,rf){for(var p=bt.memoizedState;p!==null;){var g=p.queue;g!==null&&(g.pending=null),p=p.next}rf=!1}if(Go=0,rn=Jt=bt=null,_c=!1,vc=0,cy.current=null,u===null||u.return===null){Xt=1,Ic=a,Bt=null;break}e:{var w=s,C=u.return,j=u,z=a;if(a=hn,j.flags|=32768,z!==null&&typeof z=="object"&&typeof z.then=="function"){var ee=z,ce=j,he=ce.tag;if(!(ce.mode&1)&&(he===0||he===11||he===15)){var le=ce.alternate;le?(ce.updateQueue=le.updateQueue,ce.memoizedState=le.memoizedState,ce.lanes=le.lanes):(ce.updateQueue=null,ce.memoizedState=null)}var ve=RE(C);if(ve!==null){ve.flags&=-257,bE(ve,C,j,w,a),ve.mode&1&&IE(w,ee,a),a=ve,z=ee;var Se=a.updateQueue;if(Se===null){var Re=new Set;Re.add(z),a.updateQueue=Re}else Se.add(z);break e}else{if(!(a&1)){IE(w,ee,a),vy();break e}z=Error(t(426))}}else if(_t&&j.mode&1){var Vt=RE(C);if(Vt!==null){!(Vt.flags&65536)&&(Vt.flags|=256),bE(Vt,C,j,w,a),xg(vl(z,j));break e}}w=z=vl(z,j),Xt!==4&&(Xt=2),Rc===null?Rc=[w]:Rc.push(w),w=C;do{switch(w.tag){case 3:w.flags|=65536,a&=-a,w.lanes|=a;var Y=TE(w,z,a);Q0(w,Y);break e;case 1:j=z;var H=w.type,J=w.stateNode;if(!(w.flags&128)&&(typeof H.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(Os===null||!Os.has(J)))){w.flags|=65536,a&=-a,w.lanes|=a;var me=SE(w,j,a);Q0(w,me);break e}}w=w.return}while(w!==null)}rT(u)}catch(be){a=be,Bt===u&&u!==null&&(Bt=u=u.return);continue}break}while(!0)}function tT(){var s=ff.current;return ff.current=af,s===null?af:s}function vy(){(Xt===0||Xt===3||Xt===2)&&(Xt=4),sn===null||!(Qo&268435455)&&!(pf&268435455)||Vs(sn,hn)}function wf(s,a){var u=Ge;Ge|=2;var p=tT();(sn!==s||hn!==a)&&(qi=null,Jo(s,a));do try{gk();break}catch(g){eT(s,g)}while(!0);if(Og(),Ge=u,ff.current=p,Bt!==null)throw Error(t(261));return sn=null,hn=0,Xt}function gk(){for(;Bt!==null;)nT(Bt)}function yk(){for(;Bt!==null&&!gh();)nT(Bt)}function nT(s){var a=oT(s.alternate,s,rr);s.memoizedProps=s.pendingProps,a===null?rT(s):Bt=a,cy.current=null}function rT(s){var a=s;do{var u=a.alternate;if(s=a.return,a.flags&32768){if(u=ck(u,a),u!==null){u.flags&=32767,Bt=u;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Xt=6,Bt=null;return}}else if(u=uk(u,a,rr),u!==null){Bt=u;return}if(a=a.sibling,a!==null){Bt=a;return}Bt=a=s}while(a!==null);Xt===0&&(Xt=5)}function Xo(s,a,u){var p=$e,g=Sr.transition;try{Sr.transition=null,$e=1,_k(s,a,u,p)}finally{Sr.transition=g,$e=p}return null}function _k(s,a,u,p){do Sl();while(Ns!==null);if(Ge&6)throw Error(t(327));u=s.finishedWork;var g=s.finishedLanes;if(u===null)return null;if(s.finishedWork=null,s.finishedLanes=0,u===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var w=u.lanes|u.childLanes;if(st(s,w),s===sn&&(Bt=sn=null,hn=0),!(u.subtreeFlags&2064)&&!(u.flags&2064)||gf||(gf=!0,aT(gr,function(){return Sl(),null})),w=(u.flags&15990)!==0,u.subtreeFlags&15990||w){w=Sr.transition,Sr.transition=null;var C=$e;$e=1;var j=Ge;Ge|=4,cy.current=null,hk(s,u),KE(u,s),Fx(vg),Ts=!!_g,vg=_g=null,s.current=u,fk(u),ng(),Ge=j,$e=C,Sr.transition=w}else s.current=u;if(gf&&(gf=!1,Ns=s,yf=g),w=s.pendingLanes,w===0&&(Os=null),vh(u.stateNode),$n(s,ut()),a!==null)for(p=s.onRecoverableError,u=0;u<a.length;u++)g=a[u],p(g.value,{componentStack:g.stack,digest:g.digest});if(mf)throw mf=!1,s=fy,fy=null,s;return yf&1&&s.tag!==0&&Sl(),w=s.pendingLanes,w&1?s===py?bc++:(bc=0,py=s):bc=0,Cs(),null}function Sl(){if(Ns!==null){var s=ws(yf),a=Sr.transition,u=$e;try{if(Sr.transition=null,$e=16>s?16:s,Ns===null)var p=!1;else{if(s=Ns,Ns=null,yf=0,Ge&6)throw Error(t(331));var g=Ge;for(Ge|=4,Ee=s.current;Ee!==null;){var w=Ee,C=w.child;if(Ee.flags&16){var j=w.deletions;if(j!==null){for(var z=0;z<j.length;z++){var ee=j[z];for(Ee=ee;Ee!==null;){var ce=Ee;switch(ce.tag){case 0:case 11:case 15:Sc(8,ce,w)}var he=ce.child;if(he!==null)he.return=ce,Ee=he;else for(;Ee!==null;){ce=Ee;var le=ce.sibling,ve=ce.return;if(zE(ce),ce===ee){Ee=null;break}if(le!==null){le.return=ve,Ee=le;break}Ee=ve}}}var Se=w.alternate;if(Se!==null){var Re=Se.child;if(Re!==null){Se.child=null;do{var Vt=Re.sibling;Re.sibling=null,Re=Vt}while(Re!==null)}}Ee=w}}if(w.subtreeFlags&2064&&C!==null)C.return=w,Ee=C;else e:for(;Ee!==null;){if(w=Ee,w.flags&2048)switch(w.tag){case 0:case 11:case 15:Sc(9,w,w.return)}var Y=w.sibling;if(Y!==null){Y.return=w.return,Ee=Y;break e}Ee=w.return}}var H=s.current;for(Ee=H;Ee!==null;){C=Ee;var J=C.child;if(C.subtreeFlags&2064&&J!==null)J.return=C,Ee=J;else e:for(C=H;Ee!==null;){if(j=Ee,j.flags&2048)try{switch(j.tag){case 0:case 11:case 15:hf(9,j)}}catch(be){xt(j,j.return,be)}if(j===C){Ee=null;break e}var me=j.sibling;if(me!==null){me.return=j.return,Ee=me;break e}Ee=j.return}}if(Ge=g,Cs(),Jn&&typeof Jn.onPostCommitFiberRoot=="function")try{Jn.onPostCommitFiberRoot(Vo,s)}catch{}p=!0}return p}finally{$e=u,Sr.transition=a}}return!1}function iT(s,a,u){a=vl(u,a),a=TE(s,a,1),s=xs(s,a,1),a=xn(),s!==null&&(_s(s,1,a),$n(s,a))}function xt(s,a,u){if(s.tag===3)iT(s,s,u);else for(;a!==null;){if(a.tag===3){iT(a,s,u);break}else if(a.tag===1){var p=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Os===null||!Os.has(p))){s=vl(u,s),s=SE(a,s,1),a=xs(a,s,1),s=xn(),a!==null&&(_s(a,1,s),$n(a,s));break}}a=a.return}}function vk(s,a,u){var p=s.pingCache;p!==null&&p.delete(a),a=xn(),s.pingedLanes|=s.suspendedLanes&u,sn===s&&(hn&u)===u&&(Xt===4||Xt===3&&(hn&130023424)===hn&&500>ut()-hy?Jo(s,0):dy|=u),$n(s,a)}function sT(s,a){a===0&&(s.mode&1?(a=Ha,Ha<<=1,!(Ha&130023424)&&(Ha=4194304)):a=1);var u=xn();s=Bi(s,a),s!==null&&(_s(s,a,u),$n(s,u))}function wk(s){var a=s.memoizedState,u=0;a!==null&&(u=a.retryLane),sT(s,u)}function Ek(s,a){var u=0;switch(s.tag){case 13:var p=s.stateNode,g=s.memoizedState;g!==null&&(u=g.retryLane);break;case 19:p=s.stateNode;break;default:throw Error(t(314))}p!==null&&p.delete(a),sT(s,u)}var oT;oT=function(s,a,u){if(s!==null)if(s.memoizedProps!==a.pendingProps||jn.current)Bn=!0;else{if(!(s.lanes&u)&&!(a.flags&128))return Bn=!1,lk(s,a,u);Bn=!!(s.flags&131072)}else Bn=!1,_t&&a.flags&1048576&&j0(a,Gh,a.index);switch(a.lanes=0,a.tag){case 2:var p=a.type;cf(s,a),s=a.pendingProps;var g=dl(a,yn.current);yl(a,u),g=$g(null,a,p,s,g,u);var w=qg();return a.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Un(p)?(w=!0,Wh(a)):w=!1,a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,Lg(a),g.updater=lf,a.stateNode=g,g._reactInternals=a,Yg(a,p,s,u),a=ey(null,a,p,!0,w,u)):(a.tag=0,_t&&w&&bg(a),Pn(null,a,g,u),a=a.child),a;case 16:p=a.elementType;e:{switch(cf(s,a),s=a.pendingProps,g=p._init,p=g(p._payload),a.type=p,g=a.tag=Sk(p),s=zr(p,s),g){case 0:a=Zg(null,a,p,s,u);break e;case 1:a=OE(null,a,p,s,u);break e;case 11:a=AE(null,a,p,s,u);break e;case 14:a=CE(null,a,p,zr(p.type,s),u);break e}throw Error(t(306,p,""))}return a;case 0:return p=a.type,g=a.pendingProps,g=a.elementType===p?g:zr(p,g),Zg(s,a,p,g,u);case 1:return p=a.type,g=a.pendingProps,g=a.elementType===p?g:zr(p,g),OE(s,a,p,g,u);case 3:e:{if(NE(a),s===null)throw Error(t(387));p=a.pendingProps,w=a.memoizedState,g=w.element,G0(s,a),ef(a,p,null,u);var C=a.memoizedState;if(p=C.element,w.isDehydrated)if(w={element:p,isDehydrated:!1,cache:C.cache,pendingSuspenseBoundaries:C.pendingSuspenseBoundaries,transitions:C.transitions},a.updateQueue.baseState=w,a.memoizedState=w,a.flags&256){g=vl(Error(t(423)),a),a=DE(s,a,p,u,g);break e}else if(p!==g){g=vl(Error(t(424)),a),a=DE(s,a,p,u,g);break e}else for(nr=Rs(a.stateNode.containerInfo.firstChild),tr=a,_t=!0,Br=null,u=H0(a,null,p,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(pl(),p===g){a=$i(s,a,u);break e}Pn(s,a,p,u)}a=a.child}return a;case 5:return J0(a),s===null&&Pg(a),p=a.type,g=a.pendingProps,w=s!==null?s.memoizedProps:null,C=g.children,wg(p,g)?C=null:w!==null&&wg(p,w)&&(a.flags|=32),kE(s,a),Pn(s,a,C,u),a.child;case 6:return s===null&&Pg(a),null;case 13:return VE(s,a,u);case 4:return Mg(a,a.stateNode.containerInfo),p=a.pendingProps,s===null?a.child=ml(a,null,p,u):Pn(s,a,p,u),a.child;case 11:return p=a.type,g=a.pendingProps,g=a.elementType===p?g:zr(p,g),AE(s,a,p,g,u);case 7:return Pn(s,a,a.pendingProps,u),a.child;case 8:return Pn(s,a,a.pendingProps.children,u),a.child;case 12:return Pn(s,a,a.pendingProps.children,u),a.child;case 10:e:{if(p=a.type._context,g=a.pendingProps,w=a.memoizedProps,C=g.value,ct(Jh,p._currentValue),p._currentValue=C,w!==null)if(Ur(w.value,C)){if(w.children===g.children&&!jn.current){a=$i(s,a,u);break e}}else for(w=a.child,w!==null&&(w.return=a);w!==null;){var j=w.dependencies;if(j!==null){C=w.child;for(var z=j.firstContext;z!==null;){if(z.context===p){if(w.tag===1){z=zi(-1,u&-u),z.tag=2;var ee=w.updateQueue;if(ee!==null){ee=ee.shared;var ce=ee.pending;ce===null?z.next=z:(z.next=ce.next,ce.next=z),ee.pending=z}}w.lanes|=u,z=w.alternate,z!==null&&(z.lanes|=u),Dg(w.return,u,a),j.lanes|=u;break}z=z.next}}else if(w.tag===10)C=w.type===a.type?null:w.child;else if(w.tag===18){if(C=w.return,C===null)throw Error(t(341));C.lanes|=u,j=C.alternate,j!==null&&(j.lanes|=u),Dg(C,u,a),C=w.sibling}else C=w.child;if(C!==null)C.return=w;else for(C=w;C!==null;){if(C===a){C=null;break}if(w=C.sibling,w!==null){w.return=C.return,C=w;break}C=C.return}w=C}Pn(s,a,g.children,u),a=a.child}return a;case 9:return g=a.type,p=a.pendingProps.children,yl(a,u),g=Er(g),p=p(g),a.flags|=1,Pn(s,a,p,u),a.child;case 14:return p=a.type,g=zr(p,a.pendingProps),g=zr(p.type,g),CE(s,a,p,g,u);case 15:return PE(s,a,a.type,a.pendingProps,u);case 17:return p=a.type,g=a.pendingProps,g=a.elementType===p?g:zr(p,g),cf(s,a),a.tag=1,Un(p)?(s=!0,Wh(a)):s=!1,yl(a,u),wE(a,p,g),Yg(a,p,g,u),ey(null,a,p,!0,s,u);case 19:return ME(s,a,u);case 22:return xE(s,a,u)}throw Error(t(156,a.tag))};function aT(s,a){return qa(s,a)}function Tk(s,a,u,p){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ir(s,a,u,p){return new Tk(s,a,u,p)}function wy(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Sk(s){if(typeof s=="function")return wy(s)?1:0;if(s!=null){if(s=s.$$typeof,s===x)return 11;if(s===F)return 14}return 2}function Ls(s,a){var u=s.alternate;return u===null?(u=Ir(s.tag,a,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=a,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&14680064,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,a=s.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u}function Ef(s,a,u,p,g,w){var C=2;if(p=s,typeof s=="function")wy(s)&&(C=1);else if(typeof s=="string")C=5;else e:switch(s){case D:return Zo(u.children,g,w,a);case A:C=8,g|=8;break;case P:return s=Ir(12,u,a,g|2),s.elementType=P,s.lanes=w,s;case O:return s=Ir(13,u,a,g),s.elementType=O,s.lanes=w,s;case X:return s=Ir(19,u,a,g),s.elementType=X,s.lanes=w,s;case oe:return Tf(u,g,w,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case E:C=10;break e;case k:C=9;break e;case x:C=11;break e;case F:C=14;break e;case pe:C=16,p=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return a=Ir(C,u,a,g),a.elementType=s,a.type=p,a.lanes=w,a}function Zo(s,a,u,p){return s=Ir(7,s,p,a),s.lanes=u,s}function Tf(s,a,u,p){return s=Ir(22,s,p,a),s.elementType=oe,s.lanes=u,s.stateNode={isHidden:!1},s}function Ey(s,a,u){return s=Ir(6,s,null,a),s.lanes=u,s}function Ty(s,a,u){return a=Ir(4,s.children!==null?s.children:[],s.key,a),a.lanes=u,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function Ik(s,a,u,p,g){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ys(0),this.expirationTimes=ys(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ys(0),this.identifierPrefix=p,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function Sy(s,a,u,p,g,w,C,j,z){return s=new Ik(s,a,u,j,z),a===1?(a=1,w===!0&&(a|=8)):a=0,w=Ir(3,null,null,a),s.current=w,w.stateNode=s,w.memoizedState={element:p,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lg(w),s}function Rk(s,a,u){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:q,key:p==null?null:""+p,children:s,containerInfo:a,implementation:u}}function lT(s){if(!s)return As;s=s._reactInternals;e:{if(Nr(s)!==s||s.tag!==1)throw Error(t(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Un(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(s.tag===1){var u=s.type;if(Un(u))return L0(s,u,a)}return a}function uT(s,a,u,p,g,w,C,j,z){return s=Sy(u,p,!0,s,g,w,C,j,z),s.context=lT(null),u=s.current,p=xn(),g=Ds(u),w=zi(p,g),w.callback=a??null,xs(u,w,g),s.current.lanes=g,_s(s,g,p),$n(s,p),s}function Sf(s,a,u,p){var g=a.current,w=xn(),C=Ds(g);return u=lT(u),a.context===null?a.context=u:a.pendingContext=u,a=zi(w,C),a.payload={element:s},p=p===void 0?null:p,p!==null&&(a.callback=p),s=xs(g,a,C),s!==null&&(Wr(s,g,C,w),Zh(s,g,C)),C}function If(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function cT(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<a?u:a}}function Iy(s,a){cT(s,a),(s=s.alternate)&&cT(s,a)}function bk(){return null}var dT=typeof reportError=="function"?reportError:function(s){console.error(s)};function Ry(s){this._internalRoot=s}Rf.prototype.render=Ry.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(t(409));Sf(s,a,null,null)},Rf.prototype.unmount=Ry.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;Yo(function(){Sf(null,s,null,null)}),a[Mi]=null}};function Rf(s){this._internalRoot=s}Rf.prototype.unstable_scheduleHydration=function(s){if(s){var a=Ih();s={blockedOn:null,target:s,priority:a};for(var u=0;u<ti.length&&a!==0&&a<ti[u].priority;u++);ti.splice(u,0,s),u===0&&Ah(s)}};function by(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function bf(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function hT(){}function Ak(s,a,u,p,g){if(g){if(typeof p=="function"){var w=p;p=function(){var ee=If(C);w.call(ee)}}var C=uT(a,p,s,0,null,!1,!1,"",hT);return s._reactRootContainer=C,s[Mi]=C.current,cc(s.nodeType===8?s.parentNode:s),Yo(),C}for(;g=s.lastChild;)s.removeChild(g);if(typeof p=="function"){var j=p;p=function(){var ee=If(z);j.call(ee)}}var z=Sy(s,0,!1,null,null,!1,!1,"",hT);return s._reactRootContainer=z,s[Mi]=z.current,cc(s.nodeType===8?s.parentNode:s),Yo(function(){Sf(a,z,u,p)}),z}function Af(s,a,u,p,g){var w=u._reactRootContainer;if(w){var C=w;if(typeof g=="function"){var j=g;g=function(){var z=If(C);j.call(z)}}Sf(a,C,s,g)}else C=Ak(u,a,s,g,p);return If(C)}Th=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var u=gs(a.pendingLanes);u!==0&&(vs(a,u|1),$n(a,ut()),!(Ge&6)&&(Tl=ut()+500,Cs()))}break;case 13:Yo(function(){var p=Bi(s,1);if(p!==null){var g=xn();Wr(p,s,1,g)}}),Iy(s,1)}},Ka=function(s){if(s.tag===13){var a=Bi(s,134217728);if(a!==null){var u=xn();Wr(a,s,134217728,u)}Iy(s,134217728)}},Sh=function(s){if(s.tag===13){var a=Ds(s),u=Bi(s,a);if(u!==null){var p=xn();Wr(u,s,a,p)}Iy(s,a)}},Ih=function(){return $e},Rh=function(s,a){var u=$e;try{return $e=s,a()}finally{$e=u}},Fa=function(s,a,u){switch(a){case"input":if(pr(s,u),a=u.name,u.type==="radio"&&a!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<u.length;a++){var p=u[a];if(p!==s&&p.form===s.form){var g=$h(p);if(!g)throw Error(t(90));et(p),pr(p,g)}}}break;case"textarea":La(s,u);break;case"select":a=u.value,a!=null&&Pi(s,!!u.multiple,a,!1)}},xo=yy,Wu=Yo;var Ck={usingClientEntryPoint:!1,Events:[fc,ul,$h,Zr,qu,yy]},Ac={findFiberByHostInstance:zo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Pk={bundleType:Ac.bundleType,version:Ac.version,rendererPackageName:Ac.rendererPackageName,rendererConfig:Ac.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Gu(s),s===null?null:s.stateNode},findFiberByHostInstance:Ac.findFiberByHostInstance||bk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cf.isDisabled&&Cf.supportsFiber)try{Vo=Cf.inject(Pk),Jn=Cf}catch{}}return qn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ck,qn.createPortal=function(s,a){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!by(a))throw Error(t(200));return Rk(s,a,null,u)},qn.createRoot=function(s,a){if(!by(s))throw Error(t(299));var u=!1,p="",g=dT;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(g=a.onRecoverableError)),a=Sy(s,1,!1,null,null,u,!1,p,g),s[Mi]=a.current,cc(s.nodeType===8?s.parentNode:s),new Ry(a)},qn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=Gu(a),s=s===null?null:s.stateNode,s},qn.flushSync=function(s){return Yo(s)},qn.hydrate=function(s,a,u){if(!bf(a))throw Error(t(200));return Af(null,s,a,!0,u)},qn.hydrateRoot=function(s,a,u){if(!by(s))throw Error(t(405));var p=u!=null&&u.hydratedSources||null,g=!1,w="",C=dT;if(u!=null&&(u.unstable_strictMode===!0&&(g=!0),u.identifierPrefix!==void 0&&(w=u.identifierPrefix),u.onRecoverableError!==void 0&&(C=u.onRecoverableError)),a=uT(a,null,s,1,u??null,g,!1,w,C),s[Mi]=a.current,cc(s),p)for(s=0;s<p.length;s++)u=p[s],g=u._getVersion,g=g(u._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[u,g]:a.mutableSourceEagerHydrationData.push(u,g);return new Rf(a)},qn.render=function(s,a,u){if(!bf(a))throw Error(t(200));return Af(null,s,a,!1,u)},qn.unmountComponentAtNode=function(s){if(!bf(s))throw Error(t(40));return s._reactRootContainer?(Yo(function(){Af(null,null,s,!1,function(){s._reactRootContainer=null,s[Mi]=null})}),!0):!1},qn.unstable_batchedUpdates=yy,qn.unstable_renderSubtreeIntoContainer=function(s,a,u,p){if(!bf(u))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return Af(s,a,u,!1,p)},qn.version="18.3.1-next-f1338f8080-20240426",qn}var wT;function Fk(){if(wT)return Py.exports;wT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Py.exports=Mk(),Py.exports}var ET;function jk(){if(ET)return Pf;ET=1;var n=Fk();return Pf.createRoot=n.createRoot,Pf.hydrateRoot=n.hydrateRoot,Pf}var Uk=jk(),Pc={},TT;function Bk(){if(TT)return Pc;TT=1,Object.defineProperty(Pc,"__esModule",{value:!0}),Pc.parse=l,Pc.serialize=f;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function l(v,S){const T=new o,R=v.length;if(R<2)return T;const b=(S==null?void 0:S.decode)||m;let L=0;do{const V=v.indexOf("=",L);if(V===-1)break;const M=v.indexOf(";",L),$=M===-1?R:M;if(V>$){L=v.lastIndexOf(";",V-1)+1;continue}const B=c(v,L,V),q=d(v,V,B),D=v.slice(B,q);if(T[D]===void 0){let A=c(v,V+1,$),P=d(v,$,A);const E=b(v.slice(A,P));T[D]=E}L=$+1}while(L<R);return T}function c(v,S,T){do{const R=v.charCodeAt(S);if(R!==32&&R!==9)return S}while(++S<T);return T}function d(v,S,T){for(;S>T;){const R=v.charCodeAt(--S);if(R!==32&&R!==9)return S+1}return T}function f(v,S,T){const R=(T==null?void 0:T.encode)||encodeURIComponent;if(!n.test(v))throw new TypeError(`argument name is invalid: ${v}`);const b=R(S);if(!e.test(b))throw new TypeError(`argument val is invalid: ${S}`);let L=v+"="+b;if(!T)return L;if(T.maxAge!==void 0){if(!Number.isInteger(T.maxAge))throw new TypeError(`option maxAge is invalid: ${T.maxAge}`);L+="; Max-Age="+T.maxAge}if(T.domain){if(!t.test(T.domain))throw new TypeError(`option domain is invalid: ${T.domain}`);L+="; Domain="+T.domain}if(T.path){if(!r.test(T.path))throw new TypeError(`option path is invalid: ${T.path}`);L+="; Path="+T.path}if(T.expires){if(!y(T.expires)||!Number.isFinite(T.expires.valueOf()))throw new TypeError(`option expires is invalid: ${T.expires}`);L+="; Expires="+T.expires.toUTCString()}if(T.httpOnly&&(L+="; HttpOnly"),T.secure&&(L+="; Secure"),T.partitioned&&(L+="; Partitioned"),T.priority)switch(typeof T.priority=="string"?T.priority.toLowerCase():void 0){case"low":L+="; Priority=Low";break;case"medium":L+="; Priority=Medium";break;case"high":L+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${T.priority}`)}if(T.sameSite)switch(typeof T.sameSite=="string"?T.sameSite.toLowerCase():T.sameSite){case!0:case"strict":L+="; SameSite=Strict";break;case"lax":L+="; SameSite=Lax";break;case"none":L+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${T.sameSite}`)}return L}function m(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function y(v){return i.call(v)==="[object Date]"}return Pc}Bk();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ST="popstate";function zk(n={}){function e(r,i){let{pathname:o,search:l,hash:c}=r.location;return d_("",{pathname:o,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:pd(i)}return qk(e,t,null,n)}function Ct(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Ti(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $k(){return Math.random().toString(36).substring(2,10)}function IT(n,e){return{usr:n.state,key:n.key,idx:e}}function d_(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?vu(e):e,state:t,key:e&&e.key||r||$k()}}function pd({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function vu(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function qk(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,l=i.history,c="POP",d=null,f=m();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function m(){return(l.state||{idx:null}).idx}function y(){c="POP";let b=m(),L=b==null?null:b-f;f=b,d&&d({action:c,location:R.location,delta:L})}function v(b,L){c="PUSH";let V=d_(R.location,b,L);f=m()+1;let M=IT(V,f),$=R.createHref(V);try{l.pushState(M,"",$)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;i.location.assign($)}o&&d&&d({action:c,location:R.location,delta:1})}function S(b,L){c="REPLACE";let V=d_(R.location,b,L);f=m();let M=IT(V,f),$=R.createHref(V);l.replaceState(M,"",$),o&&d&&d({action:c,location:R.location,delta:0})}function T(b){let L=i.location.origin!=="null"?i.location.origin:i.location.href,V=typeof b=="string"?b:pd(b);return V=V.replace(/ $/,"%20"),Ct(L,`No window.location.(origin|href) available to create URL for href: ${V}`),new URL(V,L)}let R={get action(){return c},get location(){return n(i,l)},listen(b){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(ST,y),d=b,()=>{i.removeEventListener(ST,y),d=null}},createHref(b){return e(i,b)},createURL:T,encodeLocation(b){let L=T(b);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:v,replace:S,go(b){return l.go(b)}};return R}function KR(n,e,t="/"){return Wk(n,e,t,!1)}function Wk(n,e,t,r){let i=typeof e=="string"?vu(e):e,o=to(i.pathname||"/",t);if(o==null)return null;let l=GR(n);Hk(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let f=rO(o);c=tO(l[d],f,r)}return c}function GR(n,e=[],t=[],r=""){let i=(o,l,c)=>{let d={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};d.relativePath.startsWith("/")&&(Ct(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let f=Zi([r,d.relativePath]),m=t.concat(d);o.children&&o.children.length>0&&(Ct(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),GR(o.children,e,m,f)),!(o.path==null&&!o.index)&&e.push({path:f,score:Zk(f,o.index),routesMeta:m})};return n.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))i(o,l);else for(let d of QR(o.path))i(o,l,d)}),e}function QR(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let l=QR(r.join("/")),c=[];return c.push(...l.map(d=>d===""?o:[o,d].join("/"))),i&&c.push(...l),c.map(d=>n.startsWith("/")&&d===""?"/":d)}function Hk(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:eO(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var Kk=/^:[\w-]+$/,Gk=3,Qk=2,Yk=1,Jk=10,Xk=-2,RT=n=>n==="*";function Zk(n,e){let t=n.split("/"),r=t.length;return t.some(RT)&&(r+=Xk),e&&(r+=Qk),t.filter(i=>!RT(i)).reduce((i,o)=>i+(Kk.test(o)?Gk:o===""?Yk:Jk),r)}function eO(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function tO(n,e,t=!1){let{routesMeta:r}=n,i={},o="/",l=[];for(let c=0;c<r.length;++c){let d=r[c],f=c===r.length-1,m=o==="/"?e:e.slice(o.length)||"/",y=_p({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},m),v=d.route;if(!y&&f&&t&&!r[r.length-1].route.index&&(y=_p({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!y)return null;Object.assign(i,y.params),l.push({params:i,pathname:Zi([o,y.pathname]),pathnameBase:aO(Zi([o,y.pathnameBase])),route:v}),y.pathnameBase!=="/"&&(o=Zi([o,y.pathnameBase]))}return l}function _p(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=nO(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((f,{paramName:m,isOptional:y},v)=>{if(m==="*"){let T=c[v]||"";l=o.slice(0,o.length-T.length).replace(/(.)\/+$/,"$1")}const S=c[v];return y&&!S?f[m]=void 0:f[m]=(S||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:l,pattern:n}}function nO(n,e=!1,t=!0){Ti(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function rO(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ti(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function to(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function iO(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?vu(n):n;return{pathname:t?t.startsWith("/")?t:sO(t,e):e,search:lO(r),hash:uO(i)}}function sO(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Oy(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function oO(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function YR(n){let e=oO(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function JR(n,e,t,r=!1){let i;typeof n=="string"?i=vu(n):(i={...n},Ct(!i.pathname||!i.pathname.includes("?"),Oy("?","pathname","search",i)),Ct(!i.pathname||!i.pathname.includes("#"),Oy("#","pathname","hash",i)),Ct(!i.search||!i.search.includes("#"),Oy("#","search","hash",i)));let o=n===""||i.pathname==="",l=o?"/":i.pathname,c;if(l==null)c=t;else{let y=e.length-1;if(!r&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),y-=1;i.pathname=v.join("/")}c=y>=0?e[y]:"/"}let d=iO(i,c),f=l&&l!=="/"&&l.endsWith("/"),m=(o||l===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(f||m)&&(d.pathname+="/"),d}var Zi=n=>n.join("/").replace(/\/\/+/g,"/"),aO=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),lO=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,uO=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function cO(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var XR=["POST","PUT","PATCH","DELETE"];new Set(XR);var dO=["GET",...XR];new Set(dO);var wu=K.createContext(null);wu.displayName="DataRouter";var em=K.createContext(null);em.displayName="DataRouterState";var ZR=K.createContext({isTransitioning:!1});ZR.displayName="ViewTransition";var hO=K.createContext(new Map);hO.displayName="Fetchers";var fO=K.createContext(null);fO.displayName="Await";var bi=K.createContext(null);bi.displayName="Navigation";var Ud=K.createContext(null);Ud.displayName="Location";var Ai=K.createContext({outlet:null,matches:[],isDataRoute:!1});Ai.displayName="Route";var pv=K.createContext(null);pv.displayName="RouteError";function pO(n,{relative:e}={}){Ct(Bd(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=K.useContext(bi),{hash:i,pathname:o,search:l}=zd(n,{relative:e}),c=o;return t!=="/"&&(c=o==="/"?t:Zi([t,o])),r.createHref({pathname:c,search:l,hash:i})}function Bd(){return K.useContext(Ud)!=null}function _o(){return Ct(Bd(),"useLocation() may be used only in the context of a <Router> component."),K.useContext(Ud).location}var eb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function tb(n){K.useContext(bi).static||K.useLayoutEffect(n)}function tm(){let{isDataRoute:n}=K.useContext(Ai);return n?AO():mO()}function mO(){Ct(Bd(),"useNavigate() may be used only in the context of a <Router> component.");let n=K.useContext(wu),{basename:e,navigator:t}=K.useContext(bi),{matches:r}=K.useContext(Ai),{pathname:i}=_o(),o=JSON.stringify(YR(r)),l=K.useRef(!1);return tb(()=>{l.current=!0}),K.useCallback((d,f={})=>{if(Ti(l.current,eb),!l.current)return;if(typeof d=="number"){t.go(d);return}let m=JR(d,JSON.parse(o),i,f.relative==="path");n==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Zi([e,m.pathname])),(f.replace?t.replace:t.push)(m,f.state,f)},[e,t,o,i,n])}K.createContext(null);function nb(){let{matches:n}=K.useContext(Ai),e=n[n.length-1];return e?e.params:{}}function zd(n,{relative:e}={}){let{matches:t}=K.useContext(Ai),{pathname:r}=_o(),i=JSON.stringify(YR(t));return K.useMemo(()=>JR(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function gO(n,e){return rb(n,e)}function rb(n,e,t,r){var V;Ct(Bd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:o}=K.useContext(bi),{matches:l}=K.useContext(Ai),c=l[l.length-1],d=c?c.params:{},f=c?c.pathname:"/",m=c?c.pathnameBase:"/",y=c&&c.route;{let M=y&&y.path||"";ib(f,!y||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let v=_o(),S;if(e){let M=typeof e=="string"?vu(e):e;Ct(m==="/"||((V=M.pathname)==null?void 0:V.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${M.pathname}" was given in the \`location\` prop.`),S=M}else S=v;let T=S.pathname||"/",R=T;if(m!=="/"){let M=m.replace(/^\//,"").split("/");R="/"+T.replace(/^\//,"").split("/").slice(M.length).join("/")}let b=!o&&t&&t.matches&&t.matches.length>0?t.matches:KR(n,{pathname:R});Ti(y||b!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Ti(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=EO(b&&b.map(M=>Object.assign({},M,{params:Object.assign({},d,M.params),pathname:Zi([m,i.encodeLocation?i.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?m:Zi([m,i.encodeLocation?i.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),l,t,r);return e&&L?K.createElement(Ud.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},L):L}function yO(){let n=bO(),e=cO(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=K.createElement(K.Fragment,null,K.createElement("p",null,"💿 Hey developer 👋"),K.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",K.createElement("code",{style:o},"ErrorBoundary")," or"," ",K.createElement("code",{style:o},"errorElement")," prop on your route.")),K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},e),t?K.createElement("pre",{style:i},t):null,l)}var _O=K.createElement(yO,null),vO=class extends K.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?K.createElement(Ai.Provider,{value:this.props.routeContext},K.createElement(pv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function wO({routeContext:n,match:e,children:t}){let r=K.useContext(wu);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),K.createElement(Ai.Provider,{value:n},t)}function EO(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,o=t==null?void 0:t.errors;if(o!=null){let d=i.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);Ct(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,c=-1;if(t)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:m,errors:y}=t,v=f.route.loader&&!m.hasOwnProperty(f.route.id)&&(!y||y[f.route.id]===void 0);if(f.route.lazy||v){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((d,f,m)=>{let y,v=!1,S=null,T=null;t&&(y=o&&f.route.id?o[f.route.id]:void 0,S=f.route.errorElement||_O,l&&(c<0&&m===0?(ib("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,T=null):c===m&&(v=!0,T=f.route.hydrateFallbackElement||null)));let R=e.concat(i.slice(0,m+1)),b=()=>{let L;return y?L=S:v?L=T:f.route.Component?L=K.createElement(f.route.Component,null):f.route.element?L=f.route.element:L=d,K.createElement(wO,{match:f,routeContext:{outlet:d,matches:R,isDataRoute:t!=null},children:L})};return t&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?K.createElement(vO,{location:t.location,revalidation:t.revalidation,component:S,error:y,children:b(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):b()},null)}function mv(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function TO(n){let e=K.useContext(wu);return Ct(e,mv(n)),e}function SO(n){let e=K.useContext(em);return Ct(e,mv(n)),e}function IO(n){let e=K.useContext(Ai);return Ct(e,mv(n)),e}function gv(n){let e=IO(n),t=e.matches[e.matches.length-1];return Ct(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function RO(){return gv("useRouteId")}function bO(){var r;let n=K.useContext(pv),e=SO("useRouteError"),t=gv("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function AO(){let{router:n}=TO("useNavigate"),e=gv("useNavigate"),t=K.useRef(!1);return tb(()=>{t.current=!0}),K.useCallback(async(i,o={})=>{Ti(t.current,eb),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...o}))},[n,e])}var bT={};function ib(n,e,t){!e&&!bT[n]&&(bT[n]=!0,Ti(!1,t))}K.memo(CO);function CO({routes:n,future:e,state:t}){return rb(n,void 0,t,e)}function $s(n){Ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function PO({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:o=!1}){Ct(!Bd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),c=K.useMemo(()=>({basename:l,navigator:i,static:o,future:{}}),[l,i,o]);typeof t=="string"&&(t=vu(t));let{pathname:d="/",search:f="",hash:m="",state:y=null,key:v="default"}=t,S=K.useMemo(()=>{let T=to(d,l);return T==null?null:{location:{pathname:T,search:f,hash:m,state:y,key:v},navigationType:r}},[l,d,f,m,y,v,r]);return Ti(S!=null,`<Router basename="${l}"> is not able to match the URL "${d}${f}${m}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:K.createElement(bi.Provider,{value:c},K.createElement(Ud.Provider,{children:e,value:S}))}function xO({children:n,location:e}){return gO(h_(n),e)}function h_(n,e=[]){let t=[];return K.Children.forEach(n,(r,i)=>{if(!K.isValidElement(r))return;let o=[...e,i];if(r.type===K.Fragment){t.push.apply(t,h_(r.props.children,o));return}Ct(r.type===$s,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ct(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=h_(r.props.children,o)),t.push(l)}),t}var Kf="get",Gf="application/x-www-form-urlencoded";function nm(n){return n!=null&&typeof n.tagName=="string"}function kO(n){return nm(n)&&n.tagName.toLowerCase()==="button"}function OO(n){return nm(n)&&n.tagName.toLowerCase()==="form"}function NO(n){return nm(n)&&n.tagName.toLowerCase()==="input"}function DO(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function VO(n,e){return n.button===0&&(!e||e==="_self")&&!DO(n)}var xf=null;function LO(){if(xf===null)try{new FormData(document.createElement("form"),0),xf=!1}catch{xf=!0}return xf}var MO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ny(n){return n!=null&&!MO.has(n)?(Ti(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Gf}"`),null):n}function FO(n,e){let t,r,i,o,l;if(OO(n)){let c=n.getAttribute("action");r=c?to(c,e):null,t=n.getAttribute("method")||Kf,i=Ny(n.getAttribute("enctype"))||Gf,o=new FormData(n)}else if(kO(n)||NO(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||c.getAttribute("action");if(r=d?to(d,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||Kf,i=Ny(n.getAttribute("formenctype"))||Ny(c.getAttribute("enctype"))||Gf,o=new FormData(c,n),!LO()){let{name:f,type:m,value:y}=n;if(m==="image"){let v=f?`${f}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else f&&o.append(f,y)}}else{if(nm(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Kf,r=null,i=Gf,l=n}return o&&i==="text/plain"&&(l=o,o=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:o,body:l}}function yv(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function jO(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function UO(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function BO(n,e,t){let r=await Promise.all(n.map(async i=>{let o=e.routes[i.route.id];if(o){let l=await jO(o,t);return l.links?l.links():[]}return[]}));return WO(r.flat(1).filter(UO).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function AT(n,e,t,r,i,o){let l=(d,f)=>t[f]?d.route.id!==t[f].route.id:!0,c=(d,f)=>{var m;return t[f].pathname!==d.pathname||((m=t[f].route.path)==null?void 0:m.endsWith("*"))&&t[f].params["*"]!==d.params["*"]};return o==="assets"?e.filter((d,f)=>l(d,f)||c(d,f)):o==="data"?e.filter((d,f)=>{var y;let m=r.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(l(d,f)||c(d,f))return!0;if(d.route.shouldRevalidate){let v=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((y=t[0])==null?void 0:y.params)||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function zO(n,e,{includeHydrateFallback:t}={}){return $O(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function $O(n){return[...new Set(n)]}function qO(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function WO(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let o=JSON.stringify(qO(i));return t.has(o)||(t.add(o),r.push({key:o,link:i})),r},[])}function HO(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function KO(){let n=K.useContext(wu);return yv(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function GO(){let n=K.useContext(em);return yv(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var _v=K.createContext(void 0);_v.displayName="FrameworkContext";function sb(){let n=K.useContext(_v);return yv(n,"You must render this element inside a <HydratedRouter> element"),n}function QO(n,e){let t=K.useContext(_v),[r,i]=K.useState(!1),[o,l]=K.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:f,onMouseLeave:m,onTouchStart:y}=e,v=K.useRef(null);K.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let R=L=>{L.forEach(V=>{l(V.isIntersecting)})},b=new IntersectionObserver(R,{threshold:.5});return v.current&&b.observe(v.current),()=>{b.disconnect()}}},[n]),K.useEffect(()=>{if(r){let R=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(R)}}},[r]);let S=()=>{i(!0)},T=()=>{i(!1),l(!1)};return t?n!=="intent"?[o,v,{}]:[o,v,{onFocus:xc(c,S),onBlur:xc(d,T),onMouseEnter:xc(f,S),onMouseLeave:xc(m,T),onTouchStart:xc(y,S)}]:[!1,v,{}]}function xc(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function YO({page:n,...e}){let{router:t}=KO(),r=K.useMemo(()=>KR(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?K.createElement(XO,{page:n,matches:r,...e}):null}function JO(n){let{manifest:e,routeModules:t}=sb(),[r,i]=K.useState([]);return K.useEffect(()=>{let o=!1;return BO(n,e,t).then(l=>{o||i(l)}),()=>{o=!0}},[n,e,t]),r}function XO({page:n,matches:e,...t}){let r=_o(),{manifest:i,routeModules:o}=sb(),{loaderData:l,matches:c}=GO(),d=K.useMemo(()=>AT(n,e,c,i,r,"data"),[n,e,c,i,r]),f=K.useMemo(()=>AT(n,e,c,i,r,"assets"),[n,e,c,i,r]),m=K.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let S=new Set,T=!1;if(e.forEach(b=>{var V;let L=i.routes[b.route.id];!L||!L.hasLoader||(!d.some(M=>M.route.id===b.route.id)&&b.route.id in l&&((V=o[b.route.id])!=null&&V.shouldRevalidate)||L.hasClientLoader?T=!0:S.add(b.route.id))}),S.size===0)return[];let R=HO(n);return T&&S.size>0&&R.searchParams.set("_routes",e.filter(b=>S.has(b.route.id)).map(b=>b.route.id).join(",")),[R.pathname+R.search]},[l,r,i,d,e,n,o]),y=K.useMemo(()=>zO(f,i),[f,i]),v=JO(f);return K.createElement(K.Fragment,null,m.map(S=>K.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...t})),y.map(S=>K.createElement("link",{key:S,rel:"modulepreload",href:S,...t})),v.map(({key:S,link:T})=>K.createElement("link",{key:S,...T})))}function ZO(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var ob=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ob&&(window.__reactRouterVersion="7.2.0")}catch{}function eN({basename:n,children:e,window:t}){let r=K.useRef();r.current==null&&(r.current=zk({window:t,v5Compat:!0}));let i=r.current,[o,l]=K.useState({action:i.action,location:i.location}),c=K.useCallback(d=>{K.startTransition(()=>l(d))},[l]);return K.useLayoutEffect(()=>i.listen(c),[i,c]),K.createElement(PO,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:i})}var ab=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gr=K.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:o,replace:l,state:c,target:d,to:f,preventScrollReset:m,viewTransition:y,...v},S){let{basename:T}=K.useContext(bi),R=typeof f=="string"&&ab.test(f),b,L=!1;if(typeof f=="string"&&R&&(b=f,ob))try{let P=new URL(window.location.href),E=f.startsWith("//")?new URL(P.protocol+f):new URL(f),k=to(E.pathname,T);E.origin===P.origin&&k!=null?f=k+E.search+E.hash:L=!0}catch{Ti(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let V=pO(f,{relative:i}),[M,$,B]=QO(r,v),q=iN(f,{replace:l,state:c,target:d,preventScrollReset:m,relative:i,viewTransition:y});function D(P){e&&e(P),P.defaultPrevented||q(P)}let A=K.createElement("a",{...v,...B,href:b||V,onClick:L||o?e:D,ref:ZO(S,$),target:d,"data-discover":!R&&t==="render"?"true":void 0});return M&&!R?K.createElement(K.Fragment,null,A,K.createElement(YO,{page:V})):A});Gr.displayName="Link";var tN=K.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:o,to:l,viewTransition:c,children:d,...f},m){let y=zd(l,{relative:f.relative}),v=_o(),S=K.useContext(em),{navigator:T,basename:R}=K.useContext(bi),b=S!=null&&uN(y)&&c===!0,L=T.encodeLocation?T.encodeLocation(y).pathname:y.pathname,V=v.pathname,M=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;t||(V=V.toLowerCase(),M=M?M.toLowerCase():null,L=L.toLowerCase()),M&&R&&(M=to(M,R)||M);const $=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let B=V===L||!i&&V.startsWith(L)&&V.charAt($)==="/",q=M!=null&&(M===L||!i&&M.startsWith(L)&&M.charAt(L.length)==="/"),D={isActive:B,isPending:q,isTransitioning:b},A=B?e:void 0,P;typeof r=="function"?P=r(D):P=[r,B?"active":null,q?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let E=typeof o=="function"?o(D):o;return K.createElement(Gr,{...f,"aria-current":A,className:P,ref:m,style:E,to:l,viewTransition:c},typeof d=="function"?d(D):d)});tN.displayName="NavLink";var nN=K.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:o,method:l=Kf,action:c,onSubmit:d,relative:f,preventScrollReset:m,viewTransition:y,...v},S)=>{let T=aN(),R=lN(c,{relative:f}),b=l.toLowerCase()==="get"?"get":"post",L=typeof c=="string"&&ab.test(c),V=M=>{if(d&&d(M),M.defaultPrevented)return;M.preventDefault();let $=M.nativeEvent.submitter,B=($==null?void 0:$.getAttribute("formmethod"))||l;T($||M.currentTarget,{fetcherKey:e,method:B,navigate:t,replace:i,state:o,relative:f,preventScrollReset:m,viewTransition:y})};return K.createElement("form",{ref:S,method:b,action:R,onSubmit:r?d:V,...v,"data-discover":!L&&n==="render"?"true":void 0})});nN.displayName="Form";function rN(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lb(n){let e=K.useContext(wu);return Ct(e,rN(n)),e}function iN(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:o,viewTransition:l}={}){let c=tm(),d=_o(),f=zd(n,{relative:o});return K.useCallback(m=>{if(VO(m,e)){m.preventDefault();let y=t!==void 0?t:pd(d)===pd(f);c(n,{replace:y,state:r,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,f,t,r,e,n,i,o,l])}var sN=0,oN=()=>`__${String(++sN)}__`;function aN(){let{router:n}=lb("useSubmit"),{basename:e}=K.useContext(bi),t=RO();return K.useCallback(async(r,i={})=>{let{action:o,method:l,encType:c,formData:d,body:f}=FO(r,e);if(i.navigate===!1){let m=i.fetcherKey||oN();await n.fetch(m,t,i.action||o,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||l,formEncType:i.encType||c,flushSync:i.flushSync})}else await n.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||l,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function lN(n,{relative:e}={}){let{basename:t}=K.useContext(bi),r=K.useContext(Ai);Ct(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...zd(n||".",{relative:e})},l=_o();if(n==null){o.search=l.search;let c=new URLSearchParams(o.search),d=c.getAll("index");if(d.some(m=>m==="")){c.delete("index"),d.filter(y=>y).forEach(y=>c.append("index",y));let m=c.toString();o.search=m?`?${m}`:""}}return(!n||n===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Zi([t,o.pathname])),pd(o)}function uN(n,e={}){let t=K.useContext(ZR);Ct(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=lb("useViewTransitionState"),i=zd(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=to(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=to(t.nextLocation.pathname,r)||t.nextLocation.pathname;return _p(i.pathname,l)!=null||_p(i.pathname,o)!=null}new TextEncoder;var Dy={},kc={},kf={},Of={},Vy={exports:{}},Ly,CT;function cN(){if(CT)return Ly;CT=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Ly=n,Ly}var My,PT;function dN(){if(PT)return My;PT=1;var n=cN();function e(){}function t(){}return t.resetWarningCache=e,My=function(){function r(l,c,d,f,m,y){if(y!==n){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return o.PropTypes=o,o},My}var xT;function ub(){return xT||(xT=1,Vy.exports=dN()()),Vy.exports}var kT;function hN(){return kT||(kT=1,function(n){(function(e,t){t(n,yo(),ub())})(Of,function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0}),e.setHasSupportToCaptureOption=T;var i=l(t),o=l(r);function l(V){return V&&V.__esModule?V:{default:V}}var c=Object.assign||function(V){for(var M=1;M<arguments.length;M++){var $=arguments[M];for(var B in $)Object.prototype.hasOwnProperty.call($,B)&&(V[B]=$[B])}return V};function d(V,M){var $={};for(var B in V)M.indexOf(B)>=0||Object.prototype.hasOwnProperty.call(V,B)&&($[B]=V[B]);return $}function f(V,M){if(!(V instanceof M))throw new TypeError("Cannot call a class as a function")}var m=function(){function V(M,$){for(var B=0;B<$.length;B++){var q=$[B];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(M,q.key,q)}}return function(M,$,B){return $&&V(M.prototype,$),B&&V(M,B),M}}();function y(V,M){if(!V)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M&&(typeof M=="object"||typeof M=="function")?M:V}function v(V,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof M);V.prototype=Object.create(M&&M.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(V,M):V.__proto__=M)}var S=!1;function T(V){S=V}try{addEventListener("test",null,Object.defineProperty({},"capture",{get:function(){T(!0)}}))}catch{}function R(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{capture:!0};return S?V:V.capture}function b(V){if("touches"in V){var M=V.touches[0],$=M.pageX,B=M.pageY;return{x:$,y:B}}var q=V.screenX,D=V.screenY;return{x:q,y:D}}var L=function(V){v(M,V);function M(){var $;f(this,M);for(var B=arguments.length,q=Array(B),D=0;D<B;D++)q[D]=arguments[D];var A=y(this,($=M.__proto__||Object.getPrototypeOf(M)).call.apply($,[this].concat(q)));return A._handleSwipeStart=A._handleSwipeStart.bind(A),A._handleSwipeMove=A._handleSwipeMove.bind(A),A._handleSwipeEnd=A._handleSwipeEnd.bind(A),A._onMouseDown=A._onMouseDown.bind(A),A._onMouseMove=A._onMouseMove.bind(A),A._onMouseUp=A._onMouseUp.bind(A),A._setSwiperRef=A._setSwiperRef.bind(A),A}return m(M,[{key:"componentDidMount",value:function(){this.swiper&&this.swiper.addEventListener("touchmove",this._handleSwipeMove,R({capture:!0,passive:!1}))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEventListener("touchmove",this._handleSwipeMove,R({capture:!0,passive:!1}))}},{key:"_onMouseDown",value:function(B){this.props.allowMouseEvents&&(this.mouseDown=!0,document.addEventListener("mouseup",this._onMouseUp),document.addEventListener("mousemove",this._onMouseMove),this._handleSwipeStart(B))}},{key:"_onMouseMove",value:function(B){this.mouseDown&&this._handleSwipeMove(B)}},{key:"_onMouseUp",value:function(B){this.mouseDown=!1,document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("mousemove",this._onMouseMove),this._handleSwipeEnd(B)}},{key:"_handleSwipeStart",value:function(B){var q=b(B),D=q.x,A=q.y;this.moveStart={x:D,y:A},this.props.onSwipeStart(B)}},{key:"_handleSwipeMove",value:function(B){if(this.moveStart){var q=b(B),D=q.x,A=q.y,P=D-this.moveStart.x,E=A-this.moveStart.y;this.moving=!0;var k=this.props.onSwipeMove({x:P,y:E},B);k&&B.cancelable&&B.preventDefault(),this.movePosition={deltaX:P,deltaY:E}}}},{key:"_handleSwipeEnd",value:function(B){this.props.onSwipeEnd(B);var q=this.props.tolerance;this.moving&&this.movePosition&&(this.movePosition.deltaX<-q?this.props.onSwipeLeft(1,B):this.movePosition.deltaX>q&&this.props.onSwipeRight(1,B),this.movePosition.deltaY<-q?this.props.onSwipeUp(1,B):this.movePosition.deltaY>q&&this.props.onSwipeDown(1,B)),this.moveStart=null,this.moving=!1,this.movePosition=null}},{key:"_setSwiperRef",value:function(B){this.swiper=B,this.props.innerRef(B)}},{key:"render",value:function(){var B=this.props;B.tagName;var q=B.className,D=B.style,A=B.children;B.allowMouseEvents,B.onSwipeUp,B.onSwipeDown,B.onSwipeLeft,B.onSwipeRight,B.onSwipeStart,B.onSwipeMove,B.onSwipeEnd,B.innerRef,B.tolerance;var P=d(B,["tagName","className","style","children","allowMouseEvents","onSwipeUp","onSwipeDown","onSwipeLeft","onSwipeRight","onSwipeStart","onSwipeMove","onSwipeEnd","innerRef","tolerance"]);return i.default.createElement(this.props.tagName,c({ref:this._setSwiperRef,onMouseDown:this._onMouseDown,onTouchStart:this._handleSwipeStart,onTouchEnd:this._handleSwipeEnd,className:q,style:D},P),A)}}]),M}(t.Component);L.displayName="ReactSwipe",L.propTypes={tagName:o.default.string,className:o.default.string,style:o.default.object,children:o.default.node,allowMouseEvents:o.default.bool,onSwipeUp:o.default.func,onSwipeDown:o.default.func,onSwipeLeft:o.default.func,onSwipeRight:o.default.func,onSwipeStart:o.default.func,onSwipeMove:o.default.func,onSwipeEnd:o.default.func,innerRef:o.default.func,tolerance:o.default.number.isRequired},L.defaultProps={tagName:"div",allowMouseEvents:!1,onSwipeUp:function(){},onSwipeDown:function(){},onSwipeLeft:function(){},onSwipeRight:function(){},onSwipeStart:function(){},onSwipeMove:function(){},onSwipeEnd:function(){},innerRef:function(){},tolerance:0},e.default=L})}(Of)),Of}var OT;function cb(){return OT||(OT=1,function(n){(function(e,t){t(n,hN())})(kf,function(e,t){Object.defineProperty(e,"__esModule",{value:!0});var r=i(t);function i(o){return o&&o.__esModule?o:{default:o}}e.default=r.default})}(kf)),kf}var Oc={},Fy={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var NT;function fN(){return NT||(NT=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var o="",l=0;l<arguments.length;l++){var c=arguments[l];c&&(o=i(o,r(c)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return t.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var l="";for(var c in o)e.call(o,c)&&o[c]&&(l=i(l,c));return l}function i(o,l){return l?o?o+" "+l:o+l:o}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(Fy)),Fy.exports}var DT;function db(){if(DT)return Oc;DT=1,Object.defineProperty(Oc,"__esModule",{value:!0}),Oc.default=void 0;var n=e(fN());function e(i){return i&&i.__esModule?i:{default:i}}function t(i,o,l){return o in i?Object.defineProperty(i,o,{value:l,enumerable:!0,configurable:!0,writable:!0}):i[o]=l,i}var r={ROOT:function(o){return(0,n.default)(t({"carousel-root":!0},o||"",!!o))},CAROUSEL:function(o){return(0,n.default)({carousel:!0,"carousel-slider":o})},WRAPPER:function(o,l){return(0,n.default)({"thumbs-wrapper":!o,"slider-wrapper":o,"axis-horizontal":l==="horizontal","axis-vertical":l!=="horizontal"})},SLIDER:function(o,l){return(0,n.default)({thumbs:!o,slider:o,animated:!l})},ITEM:function(o,l,c){return(0,n.default)({thumb:!o,slide:o,selected:l,previous:c})},ARROW_PREV:function(o){return(0,n.default)({"control-arrow control-prev":!0,"control-disabled":o})},ARROW_NEXT:function(o){return(0,n.default)({"control-arrow control-next":!0,"control-disabled":o})},DOT:function(o){return(0,n.default)({dot:!0,selected:o})}};return Oc.default=r,Oc}var Nc={},Dc={},VT;function pN(){if(VT)return Dc;VT=1,Object.defineProperty(Dc,"__esModule",{value:!0}),Dc.outerWidth=void 0;var n=function(t){var r=t.offsetWidth,i=getComputedStyle(t);return r+=parseInt(i.marginLeft)+parseInt(i.marginRight),r};return Dc.outerWidth=n,Dc}var Vc={},LT;function vv(){if(LT)return Vc;LT=1,Object.defineProperty(Vc,"__esModule",{value:!0}),Vc.default=void 0;var n=function(t,r,i){var o=t===0?t:t+r,l=i==="horizontal"?[o,0,0]:[0,o,0],c="translate3d",d="("+l.join(",")+")";return c+d};return Vc.default=n,Vc}var Lc={},MT;function hb(){if(MT)return Lc;MT=1,Object.defineProperty(Lc,"__esModule",{value:!0}),Lc.default=void 0;var n=function(){return window};return Lc.default=n,Lc}var FT;function fb(){if(FT)return Nc;FT=1,Object.defineProperty(Nc,"__esModule",{value:!0}),Nc.default=void 0;var n=d(yo()),e=l(db()),t=pN(),r=l(vv()),i=l(cb()),o=l(hb());function l(A){return A&&A.__esModule?A:{default:A}}function c(){if(typeof WeakMap!="function")return null;var A=new WeakMap;return c=function(){return A},A}function d(A){if(A&&A.__esModule)return A;if(A===null||f(A)!=="object"&&typeof A!="function")return{default:A};var P=c();if(P&&P.has(A))return P.get(A);var E={},k=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var x in A)if(Object.prototype.hasOwnProperty.call(A,x)){var O=k?Object.getOwnPropertyDescriptor(A,x):null;O&&(O.get||O.set)?Object.defineProperty(E,x,O):E[x]=A[x]}return E.default=A,P&&P.set(A,E),E}function f(A){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?f=function(E){return typeof E}:f=function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},f(A)}function m(){return m=Object.assign||function(A){for(var P=1;P<arguments.length;P++){var E=arguments[P];for(var k in E)Object.prototype.hasOwnProperty.call(E,k)&&(A[k]=E[k])}return A},m.apply(this,arguments)}function y(A,P){if(!(A instanceof P))throw new TypeError("Cannot call a class as a function")}function v(A,P){for(var E=0;E<P.length;E++){var k=P[E];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(A,k.key,k)}}function S(A,P,E){return P&&v(A.prototype,P),A}function T(A,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(P&&P.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),P&&R(A,P)}function R(A,P){return R=Object.setPrototypeOf||function(k,x){return k.__proto__=x,k},R(A,P)}function b(A){var P=M();return function(){var k=$(A),x;if(P){var O=$(this).constructor;x=Reflect.construct(k,arguments,O)}else x=k.apply(this,arguments);return L(this,x)}}function L(A,P){return P&&(f(P)==="object"||typeof P=="function")?P:V(A)}function V(A){if(A===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A}function M(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function $(A){return $=Object.setPrototypeOf?Object.getPrototypeOf:function(E){return E.__proto__||Object.getPrototypeOf(E)},$(A)}function B(A,P,E){return P in A?Object.defineProperty(A,P,{value:E,enumerable:!0,configurable:!0,writable:!0}):A[P]=E,A}var q=function(P){return P.hasOwnProperty("key")},D=function(A){T(E,A);var P=b(E);function E(k){var x;return y(this,E),x=P.call(this,k),B(V(x),"itemsWrapperRef",void 0),B(V(x),"itemsListRef",void 0),B(V(x),"thumbsRef",void 0),B(V(x),"setItemsWrapperRef",function(O){x.itemsWrapperRef=O}),B(V(x),"setItemsListRef",function(O){x.itemsListRef=O}),B(V(x),"setThumbsRef",function(O,X){x.thumbsRef||(x.thumbsRef=[]),x.thumbsRef[X]=O}),B(V(x),"updateSizes",function(){if(!(!x.props.children||!x.itemsWrapperRef||!x.thumbsRef)){var O=n.Children.count(x.props.children),X=x.itemsWrapperRef.clientWidth,F=x.props.thumbWidth?x.props.thumbWidth:(0,t.outerWidth)(x.thumbsRef[0]),pe=Math.floor(X/F),oe=pe<O,Z=oe?O-pe:0;x.setState(function(fe,de){return{itemSize:F,visibleItems:pe,firstItem:oe?x.getFirstItem(de.selectedItem):0,lastPosition:Z,showArrows:oe}})}}),B(V(x),"handleClickItem",function(O,X,F){if(!q(F)||F.key==="Enter"){var pe=x.props.onSelectItem;typeof pe=="function"&&pe(O,X)}}),B(V(x),"onSwipeStart",function(){x.setState({swiping:!0})}),B(V(x),"onSwipeEnd",function(){x.setState({swiping:!1})}),B(V(x),"onSwipeMove",function(O){var X=O.x;if(!x.state.itemSize||!x.itemsWrapperRef||!x.state.visibleItems)return!1;var F=0,pe=n.Children.count(x.props.children),oe=-(x.state.firstItem*100)/x.state.visibleItems,Z=Math.max(pe-x.state.visibleItems,0),fe=-Z*100/x.state.visibleItems;oe===F&&X>0&&(X=0),oe===fe&&X<0&&(X=0);var de=x.itemsWrapperRef.clientWidth,W=oe+100/(de/X);return x.itemsListRef&&["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(ie){x.itemsListRef.style[ie]=(0,r.default)(W,"%",x.props.axis)}),!0}),B(V(x),"slideRight",function(O){x.moveTo(x.state.firstItem-(typeof O=="number"?O:1))}),B(V(x),"slideLeft",function(O){x.moveTo(x.state.firstItem+(typeof O=="number"?O:1))}),B(V(x),"moveTo",function(O){O=O<0?0:O,O=O>=x.state.lastPosition?x.state.lastPosition:O,x.setState({firstItem:O})}),x.state={selectedItem:k.selectedItem,swiping:!1,showArrows:!1,firstItem:0,visibleItems:0,lastPosition:0},x}return S(E,[{key:"componentDidMount",value:function(){this.setupThumbs()}},{key:"componentDidUpdate",value:function(x){this.props.selectedItem!==this.state.selectedItem&&this.setState({selectedItem:this.props.selectedItem,firstItem:this.getFirstItem(this.props.selectedItem)}),this.props.children!==x.children&&this.updateSizes()}},{key:"componentWillUnmount",value:function(){this.destroyThumbs()}},{key:"setupThumbs",value:function(){(0,o.default)().addEventListener("resize",this.updateSizes),(0,o.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.updateSizes()}},{key:"destroyThumbs",value:function(){(0,o.default)().removeEventListener("resize",this.updateSizes),(0,o.default)().removeEventListener("DOMContentLoaded",this.updateSizes)}},{key:"getFirstItem",value:function(x){var O=x;return x>=this.state.lastPosition&&(O=this.state.lastPosition),x<this.state.firstItem+this.state.visibleItems&&(O=this.state.firstItem),x<this.state.firstItem&&(O=x),O}},{key:"renderItems",value:function(){var x=this;return this.props.children.map(function(O,X){var F=e.default.ITEM(!1,X===x.state.selectedItem),pe={key:X,ref:function(Z){return x.setThumbsRef(Z,X)},className:F,onClick:x.handleClickItem.bind(x,X,x.props.children[X]),onKeyDown:x.handleClickItem.bind(x,X,x.props.children[X]),"aria-label":"".concat(x.props.labels.item," ").concat(X+1),style:{width:x.props.thumbWidth}};return n.default.createElement("li",m({},pe,{role:"button",tabIndex:0}),O)})}},{key:"render",value:function(){var x=this;if(!this.props.children)return null;var O=n.Children.count(this.props.children)>1,X=this.state.showArrows&&this.state.firstItem>0,F=this.state.showArrows&&this.state.firstItem<this.state.lastPosition,pe={},oe=-this.state.firstItem*(this.state.itemSize||0),Z=(0,r.default)(oe,"px",this.props.axis),fe=this.props.transitionTime+"ms";return pe={WebkitTransform:Z,MozTransform:Z,MsTransform:Z,OTransform:Z,transform:Z,msTransform:Z,WebkitTransitionDuration:fe,MozTransitionDuration:fe,MsTransitionDuration:fe,OTransitionDuration:fe,transitionDuration:fe,msTransitionDuration:fe},n.default.createElement("div",{className:e.default.CAROUSEL(!1)},n.default.createElement("div",{className:e.default.WRAPPER(!1),ref:this.setItemsWrapperRef},n.default.createElement("button",{type:"button",className:e.default.ARROW_PREV(!X),onClick:function(){return x.slideRight()},"aria-label":this.props.labels.leftArrow}),O?n.default.createElement(i.default,{tagName:"ul",className:e.default.SLIDER(!1,this.state.swiping),onSwipeLeft:this.slideLeft,onSwipeRight:this.slideRight,onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:pe,innerRef:this.setItemsListRef,allowMouseEvents:this.props.emulateTouch},this.renderItems()):n.default.createElement("ul",{className:e.default.SLIDER(!1,this.state.swiping),ref:function(W){return x.setItemsListRef(W)},style:pe},this.renderItems()),n.default.createElement("button",{type:"button",className:e.default.ARROW_NEXT(!F),onClick:function(){return x.slideLeft()},"aria-label":this.props.labels.rightArrow})))}}]),E}(n.Component);return Nc.default=D,B(D,"displayName","Thumbs"),B(D,"defaultProps",{axis:"horizontal",labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},selectedItem:0,thumbWidth:80,transitionTime:350}),Nc}var Mc={},jT;function mN(){if(jT)return Mc;jT=1,Object.defineProperty(Mc,"__esModule",{value:!0}),Mc.default=void 0;var n=function(){return document};return Mc.default=n,Mc}var ir={},UT;function pb(){if(UT)return ir;UT=1,Object.defineProperty(ir,"__esModule",{value:!0}),ir.setPosition=ir.getPosition=ir.isKeyboardEvent=ir.defaultStatusFormatter=ir.noop=void 0;var n=yo(),e=t(vv());function t(d){return d&&d.__esModule?d:{default:d}}var r=function(){};ir.noop=r;var i=function(f,m){return"".concat(f," of ").concat(m)};ir.defaultStatusFormatter=i;var o=function(f){return f?f.hasOwnProperty("key"):!1};ir.isKeyboardEvent=o;var l=function(f,m){if(m.infiniteLoop&&++f,f===0)return 0;var y=n.Children.count(m.children);if(m.centerMode&&m.axis==="horizontal"){var v=-f*m.centerSlidePercentage,S=y-1;return f&&(f!==S||m.infiniteLoop)?v+=(100-m.centerSlidePercentage)/2:f===S&&(v+=100-m.centerSlidePercentage),v}return-f*100};ir.getPosition=l;var c=function(f,m){var y={};return["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(v){y[v]=(0,e.default)(f,"%",m)}),y};return ir.setPosition=c,ir}var Hr={},BT;function gN(){if(BT)return Hr;BT=1,Object.defineProperty(Hr,"__esModule",{value:!0}),Hr.fadeAnimationHandler=Hr.slideStopSwipingHandler=Hr.slideSwipeAnimationHandler=Hr.slideAnimationHandler=void 0;var n=yo(),e=r(vv()),t=pb();function r(y){return y&&y.__esModule?y:{default:y}}function i(y,v){var S=Object.keys(y);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(y);v&&(T=T.filter(function(R){return Object.getOwnPropertyDescriptor(y,R).enumerable})),S.push.apply(S,T)}return S}function o(y){for(var v=1;v<arguments.length;v++){var S=arguments[v]!=null?arguments[v]:{};v%2?i(Object(S),!0).forEach(function(T){l(y,T,S[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(S)):i(Object(S)).forEach(function(T){Object.defineProperty(y,T,Object.getOwnPropertyDescriptor(S,T))})}return y}function l(y,v,S){return v in y?Object.defineProperty(y,v,{value:S,enumerable:!0,configurable:!0,writable:!0}):y[v]=S,y}var c=function(v,S){var T={},R=S.selectedItem,b=R,L=n.Children.count(v.children)-1,V=v.infiniteLoop&&(R<0||R>L);if(V)return b<0?v.centerMode&&v.centerSlidePercentage&&v.axis==="horizontal"?T.itemListStyle=(0,t.setPosition)(-(L+2)*v.centerSlidePercentage-(100-v.centerSlidePercentage)/2,v.axis):T.itemListStyle=(0,t.setPosition)(-(L+2)*100,v.axis):b>L&&(T.itemListStyle=(0,t.setPosition)(0,v.axis)),T;var M=(0,t.getPosition)(R,v),$=(0,e.default)(M,"%",v.axis),B=v.transitionTime+"ms";return T.itemListStyle={WebkitTransform:$,msTransform:$,OTransform:$,transform:$},S.swiping||(T.itemListStyle=o(o({},T.itemListStyle),{},{WebkitTransitionDuration:B,MozTransitionDuration:B,OTransitionDuration:B,transitionDuration:B,msTransitionDuration:B})),T};Hr.slideAnimationHandler=c;var d=function(v,S,T,R){var b={},L=S.axis==="horizontal",V=n.Children.count(S.children),M=0,$=(0,t.getPosition)(T.selectedItem,S),B=S.infiniteLoop?(0,t.getPosition)(V-1,S)-100:(0,t.getPosition)(V-1,S),q=L?v.x:v.y,D=q;$===M&&q>0&&(D=0),$===B&&q<0&&(D=0);var A=$+100/(T.itemSize/D),P=Math.abs(q)>S.swipeScrollTolerance;return S.infiniteLoop&&P&&(T.selectedItem===0&&A>-100?A-=V*100:T.selectedItem===V-1&&A<-V*100&&(A+=V*100)),(!S.preventMovementUntilSwipeScrollTolerance||P||T.swipeMovementStarted)&&(T.swipeMovementStarted||R({swipeMovementStarted:!0}),b.itemListStyle=(0,t.setPosition)(A,S.axis)),P&&!T.cancelClick&&R({cancelClick:!0}),b};Hr.slideSwipeAnimationHandler=d;var f=function(v,S){var T=(0,t.getPosition)(S.selectedItem,v),R=(0,t.setPosition)(T,v.axis);return{itemListStyle:R}};Hr.slideStopSwipingHandler=f;var m=function(v,S){var T=v.transitionTime+"ms",R="ease-in-out",b={position:"absolute",display:"block",zIndex:-2,minHeight:"100%",opacity:0,top:0,right:0,left:0,bottom:0,transitionTimingFunction:R,msTransitionTimingFunction:R,MozTransitionTimingFunction:R,WebkitTransitionTimingFunction:R,OTransitionTimingFunction:R};return S.swiping||(b=o(o({},b),{},{WebkitTransitionDuration:T,MozTransitionDuration:T,OTransitionDuration:T,transitionDuration:T,msTransitionDuration:T})),{slideStyle:b,selectedStyle:o(o({},b),{},{opacity:1,position:"relative"}),prevStyle:o({},b)}};return Hr.fadeAnimationHandler=m,Hr}var zT;function yN(){if(zT)return kc;zT=1,Object.defineProperty(kc,"__esModule",{value:!0}),kc.default=void 0;var n=m(yo()),e=d(cb()),t=d(db()),r=d(fb()),i=d(mN()),o=d(hb()),l=pb(),c=gN();function d(k){return k&&k.__esModule?k:{default:k}}function f(){if(typeof WeakMap!="function")return null;var k=new WeakMap;return f=function(){return k},k}function m(k){if(k&&k.__esModule)return k;if(k===null||y(k)!=="object"&&typeof k!="function")return{default:k};var x=f();if(x&&x.has(k))return x.get(k);var O={},X=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var F in k)if(Object.prototype.hasOwnProperty.call(k,F)){var pe=X?Object.getOwnPropertyDescriptor(k,F):null;pe&&(pe.get||pe.set)?Object.defineProperty(O,F,pe):O[F]=k[F]}return O.default=k,x&&x.set(k,O),O}function y(k){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?y=function(O){return typeof O}:y=function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},y(k)}function v(){return v=Object.assign||function(k){for(var x=1;x<arguments.length;x++){var O=arguments[x];for(var X in O)Object.prototype.hasOwnProperty.call(O,X)&&(k[X]=O[X])}return k},v.apply(this,arguments)}function S(k,x){var O=Object.keys(k);if(Object.getOwnPropertySymbols){var X=Object.getOwnPropertySymbols(k);x&&(X=X.filter(function(F){return Object.getOwnPropertyDescriptor(k,F).enumerable})),O.push.apply(O,X)}return O}function T(k){for(var x=1;x<arguments.length;x++){var O=arguments[x]!=null?arguments[x]:{};x%2?S(Object(O),!0).forEach(function(X){P(k,X,O[X])}):Object.getOwnPropertyDescriptors?Object.defineProperties(k,Object.getOwnPropertyDescriptors(O)):S(Object(O)).forEach(function(X){Object.defineProperty(k,X,Object.getOwnPropertyDescriptor(O,X))})}return k}function R(k,x){if(!(k instanceof x))throw new TypeError("Cannot call a class as a function")}function b(k,x){for(var O=0;O<x.length;O++){var X=x[O];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(k,X.key,X)}}function L(k,x,O){return x&&b(k.prototype,x),k}function V(k,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(x&&x.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),x&&M(k,x)}function M(k,x){return M=Object.setPrototypeOf||function(X,F){return X.__proto__=F,X},M(k,x)}function $(k){var x=D();return function(){var X=A(k),F;if(x){var pe=A(this).constructor;F=Reflect.construct(X,arguments,pe)}else F=X.apply(this,arguments);return B(this,F)}}function B(k,x){return x&&(y(x)==="object"||typeof x=="function")?x:q(k)}function q(k){if(k===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}function D(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function A(k){return A=Object.setPrototypeOf?Object.getPrototypeOf:function(O){return O.__proto__||Object.getPrototypeOf(O)},A(k)}function P(k,x,O){return x in k?Object.defineProperty(k,x,{value:O,enumerable:!0,configurable:!0,writable:!0}):k[x]=O,k}var E=function(k){V(O,k);var x=$(O);function O(X){var F;R(this,O),F=x.call(this,X),P(q(F),"thumbsRef",void 0),P(q(F),"carouselWrapperRef",void 0),P(q(F),"listRef",void 0),P(q(F),"itemsRef",void 0),P(q(F),"timer",void 0),P(q(F),"animationHandler",void 0),P(q(F),"setThumbsRef",function(oe){F.thumbsRef=oe}),P(q(F),"setCarouselWrapperRef",function(oe){F.carouselWrapperRef=oe}),P(q(F),"setListRef",function(oe){F.listRef=oe}),P(q(F),"setItemsRef",function(oe,Z){F.itemsRef||(F.itemsRef=[]),F.itemsRef[Z]=oe}),P(q(F),"autoPlay",function(){n.Children.count(F.props.children)<=1||(F.clearAutoPlay(),F.props.autoPlay&&(F.timer=setTimeout(function(){F.increment()},F.props.interval)))}),P(q(F),"clearAutoPlay",function(){F.timer&&clearTimeout(F.timer)}),P(q(F),"resetAutoPlay",function(){F.clearAutoPlay(),F.autoPlay()}),P(q(F),"stopOnHover",function(){F.setState({isMouseEntered:!0},F.clearAutoPlay)}),P(q(F),"startOnLeave",function(){F.setState({isMouseEntered:!1},F.autoPlay)}),P(q(F),"isFocusWithinTheCarousel",function(){return F.carouselWrapperRef?!!((0,i.default)().activeElement===F.carouselWrapperRef||F.carouselWrapperRef.contains((0,i.default)().activeElement)):!1}),P(q(F),"navigateWithKeyboard",function(oe){if(F.isFocusWithinTheCarousel()){var Z=F.props.axis,fe=Z==="horizontal",de={ArrowUp:38,ArrowRight:39,ArrowDown:40,ArrowLeft:37},W=fe?de.ArrowRight:de.ArrowDown,ie=fe?de.ArrowLeft:de.ArrowUp;W===oe.keyCode?F.increment():ie===oe.keyCode&&F.decrement()}}),P(q(F),"updateSizes",function(){if(!(!F.state.initialized||!F.itemsRef||F.itemsRef.length===0)){var oe=F.props.axis==="horizontal",Z=F.itemsRef[0];if(Z){var fe=oe?Z.clientWidth:Z.clientHeight;F.setState({itemSize:fe}),F.thumbsRef&&F.thumbsRef.updateSizes()}}}),P(q(F),"setMountState",function(){F.setState({hasMount:!0}),F.updateSizes()}),P(q(F),"handleClickItem",function(oe,Z){if(n.Children.count(F.props.children)!==0){if(F.state.cancelClick){F.setState({cancelClick:!1});return}F.props.onClickItem(oe,Z),oe!==F.state.selectedItem&&F.setState({selectedItem:oe})}}),P(q(F),"handleOnChange",function(oe,Z){n.Children.count(F.props.children)<=1||F.props.onChange(oe,Z)}),P(q(F),"handleClickThumb",function(oe,Z){F.props.onClickThumb(oe,Z),F.moveTo(oe)}),P(q(F),"onSwipeStart",function(oe){F.setState({swiping:!0}),F.props.onSwipeStart(oe)}),P(q(F),"onSwipeEnd",function(oe){F.setState({swiping:!1,cancelClick:!1,swipeMovementStarted:!1}),F.props.onSwipeEnd(oe),F.clearAutoPlay(),F.state.autoPlay&&F.autoPlay()}),P(q(F),"onSwipeMove",function(oe,Z){F.props.onSwipeMove(Z);var fe=F.props.swipeAnimationHandler(oe,F.props,F.state,F.setState.bind(q(F)));return F.setState(T({},fe)),!!Object.keys(fe).length}),P(q(F),"decrement",function(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;F.moveTo(F.state.selectedItem-(typeof oe=="number"?oe:1))}),P(q(F),"increment",function(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;F.moveTo(F.state.selectedItem+(typeof oe=="number"?oe:1))}),P(q(F),"moveTo",function(oe){if(typeof oe=="number"){var Z=n.Children.count(F.props.children)-1;oe<0&&(oe=F.props.infiniteLoop?Z:0),oe>Z&&(oe=F.props.infiniteLoop?0:Z),F.selectItem({selectedItem:oe}),F.state.autoPlay&&F.state.isMouseEntered===!1&&F.resetAutoPlay()}}),P(q(F),"onClickNext",function(){F.increment(1)}),P(q(F),"onClickPrev",function(){F.decrement(1)}),P(q(F),"onSwipeForward",function(){F.increment(1),F.props.emulateTouch&&F.setState({cancelClick:!0})}),P(q(F),"onSwipeBackwards",function(){F.decrement(1),F.props.emulateTouch&&F.setState({cancelClick:!0})}),P(q(F),"changeItem",function(oe){return function(Z){(!(0,l.isKeyboardEvent)(Z)||Z.key==="Enter")&&F.moveTo(oe)}}),P(q(F),"selectItem",function(oe){F.setState(T({previousItem:F.state.selectedItem},oe),function(){F.setState(F.animationHandler(F.props,F.state))}),F.handleOnChange(oe.selectedItem,n.Children.toArray(F.props.children)[oe.selectedItem])}),P(q(F),"getInitialImage",function(){var oe=F.props.selectedItem,Z=F.itemsRef&&F.itemsRef[oe],fe=Z&&Z.getElementsByTagName("img")||[];return fe[0]}),P(q(F),"getVariableItemHeight",function(oe){var Z=F.itemsRef&&F.itemsRef[oe];if(F.state.hasMount&&Z&&Z.children.length){var fe=Z.children[0].getElementsByTagName("img")||[];if(fe.length>0){var de=fe[0];if(!de.complete){var W=function Ce(){F.forceUpdate(),de.removeEventListener("load",Ce)};de.addEventListener("load",W)}}var ie=fe[0]||Z.children[0],Te=ie.clientHeight;return Te>0?Te:null}return null});var pe={initialized:!1,previousItem:X.selectedItem,selectedItem:X.selectedItem,hasMount:!1,isMouseEntered:!1,autoPlay:X.autoPlay,swiping:!1,swipeMovementStarted:!1,cancelClick:!1,itemSize:1,itemListStyle:{},slideStyle:{},selectedStyle:{},prevStyle:{}};return F.animationHandler=typeof X.animationHandler=="function"&&X.animationHandler||X.animationHandler==="fade"&&c.fadeAnimationHandler||c.slideAnimationHandler,F.state=T(T({},pe),F.animationHandler(X,pe)),F}return L(O,[{key:"componentDidMount",value:function(){this.props.children&&this.setupCarousel()}},{key:"componentDidUpdate",value:function(F,pe){!F.children&&this.props.children&&!this.state.initialized&&this.setupCarousel(),!F.autoFocus&&this.props.autoFocus&&this.forceFocus(),pe.swiping&&!this.state.swiping&&this.setState(T({},this.props.stopSwipingHandler(this.props,this.state))),(F.selectedItem!==this.props.selectedItem||F.centerMode!==this.props.centerMode)&&(this.updateSizes(),this.moveTo(this.props.selectedItem)),F.autoPlay!==this.props.autoPlay&&(this.props.autoPlay?this.setupAutoPlay():this.destroyAutoPlay(),this.setState({autoPlay:this.props.autoPlay}))}},{key:"componentWillUnmount",value:function(){this.destroyCarousel()}},{key:"setupCarousel",value:function(){var F=this;this.bindEvents(),this.state.autoPlay&&n.Children.count(this.props.children)>1&&this.setupAutoPlay(),this.props.autoFocus&&this.forceFocus(),this.setState({initialized:!0},function(){var pe=F.getInitialImage();pe&&!pe.complete?pe.addEventListener("load",F.setMountState):F.setMountState()})}},{key:"destroyCarousel",value:function(){this.state.initialized&&(this.unbindEvents(),this.destroyAutoPlay())}},{key:"setupAutoPlay",value:function(){this.autoPlay();var F=this.carouselWrapperRef;this.props.stopOnHover&&F&&(F.addEventListener("mouseenter",this.stopOnHover),F.addEventListener("mouseleave",this.startOnLeave))}},{key:"destroyAutoPlay",value:function(){this.clearAutoPlay();var F=this.carouselWrapperRef;this.props.stopOnHover&&F&&(F.removeEventListener("mouseenter",this.stopOnHover),F.removeEventListener("mouseleave",this.startOnLeave))}},{key:"bindEvents",value:function(){(0,o.default)().addEventListener("resize",this.updateSizes),(0,o.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.props.useKeyboardArrows&&(0,i.default)().addEventListener("keydown",this.navigateWithKeyboard)}},{key:"unbindEvents",value:function(){(0,o.default)().removeEventListener("resize",this.updateSizes),(0,o.default)().removeEventListener("DOMContentLoaded",this.updateSizes);var F=this.getInitialImage();F&&F.removeEventListener("load",this.setMountState),this.props.useKeyboardArrows&&(0,i.default)().removeEventListener("keydown",this.navigateWithKeyboard)}},{key:"forceFocus",value:function(){var F;(F=this.carouselWrapperRef)===null||F===void 0||F.focus()}},{key:"renderItems",value:function(F){var pe=this;return this.props.children?n.Children.map(this.props.children,function(oe,Z){var fe=Z===pe.state.selectedItem,de=Z===pe.state.previousItem,W=fe&&pe.state.selectedStyle||de&&pe.state.prevStyle||pe.state.slideStyle||{};pe.props.centerMode&&pe.props.axis==="horizontal"&&(W=T(T({},W),{},{minWidth:pe.props.centerSlidePercentage+"%"})),pe.state.swiping&&pe.state.swipeMovementStarted&&(W=T(T({},W),{},{pointerEvents:"none"}));var ie={ref:function(Ce){return pe.setItemsRef(Ce,Z)},key:"itemKey"+Z+(F?"clone":""),className:t.default.ITEM(!0,Z===pe.state.selectedItem,Z===pe.state.previousItem),onClick:pe.handleClickItem.bind(pe,Z,oe),style:W};return n.default.createElement("li",ie,pe.props.renderItem(oe,{isSelected:Z===pe.state.selectedItem,isPrevious:Z===pe.state.previousItem}))}):[]}},{key:"renderControls",value:function(){var F=this,pe=this.props,oe=pe.showIndicators,Z=pe.labels,fe=pe.renderIndicator,de=pe.children;return oe?n.default.createElement("ul",{className:"control-dots"},n.Children.map(de,function(W,ie){return fe&&fe(F.changeItem(ie),ie===F.state.selectedItem,ie,Z.item)})):null}},{key:"renderStatus",value:function(){return this.props.showStatus?n.default.createElement("p",{className:"carousel-status"},this.props.statusFormatter(this.state.selectedItem+1,n.Children.count(this.props.children))):null}},{key:"renderThumbs",value:function(){return!this.props.showThumbs||!this.props.children||n.Children.count(this.props.children)===0?null:n.default.createElement(r.default,{ref:this.setThumbsRef,onSelectItem:this.handleClickThumb,selectedItem:this.state.selectedItem,transitionTime:this.props.transitionTime,thumbWidth:this.props.thumbWidth,labels:this.props.labels,emulateTouch:this.props.emulateTouch},this.props.renderThumbs(this.props.children))}},{key:"render",value:function(){var F=this;if(!this.props.children||n.Children.count(this.props.children)===0)return null;var pe=this.props.swipeable&&n.Children.count(this.props.children)>1,oe=this.props.axis==="horizontal",Z=this.props.showArrows&&n.Children.count(this.props.children)>1,fe=Z&&(this.state.selectedItem>0||this.props.infiniteLoop)||!1,de=Z&&(this.state.selectedItem<n.Children.count(this.props.children)-1||this.props.infiniteLoop)||!1,W=this.renderItems(!0),ie=W.shift(),Te=W.pop(),Ce={className:t.default.SLIDER(!0,this.state.swiping),onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:this.state.itemListStyle,tolerance:this.props.swipeScrollTolerance},De={};if(oe){if(Ce.onSwipeLeft=this.onSwipeForward,Ce.onSwipeRight=this.onSwipeBackwards,this.props.dynamicHeight){var Me=this.getVariableItemHeight(this.state.selectedItem);De.height=Me||"auto"}}else Ce.onSwipeUp=this.props.verticalSwipe==="natural"?this.onSwipeBackwards:this.onSwipeForward,Ce.onSwipeDown=this.props.verticalSwipe==="natural"?this.onSwipeForward:this.onSwipeBackwards,Ce.style=T(T({},Ce.style),{},{height:this.state.itemSize}),De.height=this.state.itemSize;return n.default.createElement("div",{"aria-label":this.props.ariaLabel,className:t.default.ROOT(this.props.className),ref:this.setCarouselWrapperRef,tabIndex:this.props.useKeyboardArrows?0:void 0},n.default.createElement("div",{className:t.default.CAROUSEL(!0),style:{width:this.props.width}},this.renderControls(),this.props.renderArrowPrev(this.onClickPrev,fe,this.props.labels.leftArrow),n.default.createElement("div",{className:t.default.WRAPPER(!0,this.props.axis),style:De},pe?n.default.createElement(e.default,v({tagName:"ul",innerRef:this.setListRef},Ce,{allowMouseEvents:this.props.emulateTouch}),this.props.infiniteLoop&&Te,this.renderItems(),this.props.infiniteLoop&&ie):n.default.createElement("ul",{className:t.default.SLIDER(!0,this.state.swiping),ref:function(ze){return F.setListRef(ze)},style:this.state.itemListStyle||{}},this.props.infiniteLoop&&Te,this.renderItems(),this.props.infiniteLoop&&ie)),this.props.renderArrowNext(this.onClickNext,de,this.props.labels.rightArrow),this.renderStatus()),this.renderThumbs())}}]),O}(n.default.Component);return kc.default=E,P(E,"displayName","Carousel"),P(E,"defaultProps",{ariaLabel:void 0,axis:"horizontal",centerSlidePercentage:80,interval:3e3,labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},onClickItem:l.noop,onClickThumb:l.noop,onChange:l.noop,onSwipeStart:function(){},onSwipeEnd:function(){},onSwipeMove:function(){return!1},preventMovementUntilSwipeScrollTolerance:!1,renderArrowPrev:function(x,O,X){return n.default.createElement("button",{type:"button","aria-label":X,className:t.default.ARROW_PREV(!O),onClick:x})},renderArrowNext:function(x,O,X){return n.default.createElement("button",{type:"button","aria-label":X,className:t.default.ARROW_NEXT(!O),onClick:x})},renderIndicator:function(x,O,X,F){return n.default.createElement("li",{className:t.default.DOT(O),onClick:x,onKeyDown:x,value:X,key:X,role:"button",tabIndex:0,"aria-label":"".concat(F," ").concat(X+1)})},renderItem:function(x){return x},renderThumbs:function(x){var O=n.Children.map(x,function(X){var F=X;if(X.type!=="img"&&(F=n.Children.toArray(X.props.children).find(function(pe){return pe.type==="img"})),!!F)return F});return O.filter(function(X){return X}).length===0?(console.warn("No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md"),[]):O},statusFormatter:l.defaultStatusFormatter,selectedItem:0,showArrows:!0,showIndicators:!0,showStatus:!0,showThumbs:!0,stopOnHover:!0,swipeScrollTolerance:5,swipeable:!0,transitionTime:350,verticalSwipe:"standard",width:"100%",animationHandler:"slide",swipeAnimationHandler:c.slideSwipeAnimationHandler,stopSwipingHandler:c.slideStopSwipingHandler}),kc}var $T={},qT;function _N(){return qT||(qT=1),$T}var WT;function vN(){return WT||(WT=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Carousel",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(n,"CarouselProps",{enumerable:!0,get:function(){return t.CarouselProps}}),Object.defineProperty(n,"Thumbs",{enumerable:!0,get:function(){return r.default}});var e=i(yN()),t=_N(),r=i(fb());function i(o){return o&&o.__esModule?o:{default:o}}}(Dy)),Dy}var wN=vN();const EN="/Amazon-project-2/assets/image2-CF1Tr9tk.jpg",TN="/Amazon-project-2/assets/image3-01-VjAFc.jpg",SN="/Amazon-project-2/assets/image4-Bm1eWZbR.jpg",IN=[EN,TN,SN],RN="_hero__img_b8hb0_1",bN={hero__img:RN},AN=()=>U.jsxs("div",{children:[U.jsx(wN.Carousel,{autoPlay:!0,infiniteLoop:!0,showIndicators:!1,showStatus:!1,showThumbs:!1,children:IN.map((n,e)=>U.jsx("img",{src:n,alt:""},e))}),U.jsx("div",{className:bN.hero__img})]}),jy=[{id:1,title:"Solid Gold Petite Micropave ",name:"jewelery",imageLink:"https://fakestoreapi.com/img/61sbMiUnoGL._AC_UL640_QL65_ML3_.jpg"},{id:2,title:"WD 4TB Gaming Drive",name:"electronics",imageLink:"https://fakestoreapi.com/img/61mtL65D4cL._AC_SX679_.jpg"},{id:3,title:"Mens Cotton Jacket",name:"mens clothing",imageLink:"https://fakestoreapi.com/img/71li-ujtlUL._AC_UX679_.jpg"},{id:4,title:"Lock and Love Women's ",name:"women's clothing",imageLink:"https://fakestoreapi.com/img/81XH0e8fefL._AC_UY879_.jpg"}],CN="_category__container_bw74q_1",PN="_category_bw74q_1",mb={category__container:CN,category:PN};function xN({data:n}){return U.jsx("div",{className:mb.category,children:U.jsxs(Gr,{to:`category/${n.name}`,children:[U.jsxs("span",{children:["",U.jsx("h2",{children:n==null?void 0:n.title})]}),U.jsx("img",{src:n==null?void 0:n.imageLink,alt:""}),U.jsx("p",{children:"Shop now"})]})})}function kN(){return U.jsx("div",{className:mb.category__container,children:jy==null?void 0:jy.map((n,e)=>U.jsx(xN,{data:n},e))})}function gb(n,e){return function(){return n.apply(e,arguments)}}const{toString:ON}=Object.prototype,{getPrototypeOf:wv}=Object,rm=(n=>e=>{const t=ON.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Jr=n=>(n=n.toLowerCase(),e=>rm(e)===n),im=n=>e=>typeof e===n,{isArray:Eu}=Array,md=im("undefined");function NN(n){return n!==null&&!md(n)&&n.constructor!==null&&!md(n.constructor)&&ur(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const yb=Jr("ArrayBuffer");function DN(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&yb(n.buffer),e}const VN=im("string"),ur=im("function"),_b=im("number"),sm=n=>n!==null&&typeof n=="object",LN=n=>n===!0||n===!1,Qf=n=>{if(rm(n)!=="object")return!1;const e=wv(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},MN=Jr("Date"),FN=Jr("File"),jN=Jr("Blob"),UN=Jr("FileList"),BN=n=>sm(n)&&ur(n.pipe),zN=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||ur(n.append)&&((e=rm(n))==="formdata"||e==="object"&&ur(n.toString)&&n.toString()==="[object FormData]"))},$N=Jr("URLSearchParams"),[qN,WN,HN,KN]=["ReadableStream","Request","Response","Headers"].map(Jr),GN=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function $d(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,i;if(typeof n!="object"&&(n=[n]),Eu(n))for(r=0,i=n.length;r<i;r++)e.call(null,n[r],r,n);else{const o=t?Object.getOwnPropertyNames(n):Object.keys(n),l=o.length;let c;for(r=0;r<l;r++)c=o[r],e.call(null,n[c],c,n)}}function vb(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,i;for(;r-- >0;)if(i=t[r],e===i.toLowerCase())return i;return null}const ca=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,wb=n=>!md(n)&&n!==ca;function f_(){const{caseless:n}=wb(this)&&this||{},e={},t=(r,i)=>{const o=n&&vb(e,i)||i;Qf(e[o])&&Qf(r)?e[o]=f_(e[o],r):Qf(r)?e[o]=f_({},r):Eu(r)?e[o]=r.slice():e[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&$d(arguments[r],t);return e}const QN=(n,e,t,{allOwnKeys:r}={})=>($d(e,(i,o)=>{t&&ur(i)?n[o]=gb(i,t):n[o]=i},{allOwnKeys:r}),n),YN=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),JN=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},XN=(n,e,t,r)=>{let i,o,l;const c={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),o=i.length;o-- >0;)l=i[o],(!r||r(l,n,e))&&!c[l]&&(e[l]=n[l],c[l]=!0);n=t!==!1&&wv(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},ZN=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},eD=n=>{if(!n)return null;if(Eu(n))return n;let e=n.length;if(!_b(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},tD=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&wv(Uint8Array)),nD=(n,e)=>{const r=(n&&n[Symbol.iterator]).call(n);let i;for(;(i=r.next())&&!i.done;){const o=i.value;e.call(n,o[0],o[1])}},rD=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},iD=Jr("HTMLFormElement"),sD=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),HT=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),oD=Jr("RegExp"),Eb=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};$d(t,(i,o)=>{let l;(l=e(i,o,n))!==!1&&(r[o]=l||i)}),Object.defineProperties(n,r)},aD=n=>{Eb(n,(e,t)=>{if(ur(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(ur(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},lD=(n,e)=>{const t={},r=i=>{i.forEach(o=>{t[o]=!0})};return Eu(n)?r(n):r(String(n).split(e)),t},uD=()=>{},cD=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function dD(n){return!!(n&&ur(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const hD=n=>{const e=new Array(10),t=(r,i)=>{if(sm(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const o=Eu(r)?[]:{};return $d(r,(l,c)=>{const d=t(l,i+1);!md(d)&&(o[c]=d)}),e[i]=void 0,o}}return r};return t(n,0)},fD=Jr("AsyncFunction"),pD=n=>n&&(sm(n)||ur(n))&&ur(n.then)&&ur(n.catch),Tb=((n,e)=>n?setImmediate:e?((t,r)=>(ca.addEventListener("message",({source:i,data:o})=>{i===ca&&o===t&&r.length&&r.shift()()},!1),i=>{r.push(i),ca.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",ur(ca.postMessage)),mD=typeof queueMicrotask<"u"?queueMicrotask.bind(ca):typeof process<"u"&&process.nextTick||Tb,re={isArray:Eu,isArrayBuffer:yb,isBuffer:NN,isFormData:zN,isArrayBufferView:DN,isString:VN,isNumber:_b,isBoolean:LN,isObject:sm,isPlainObject:Qf,isReadableStream:qN,isRequest:WN,isResponse:HN,isHeaders:KN,isUndefined:md,isDate:MN,isFile:FN,isBlob:jN,isRegExp:oD,isFunction:ur,isStream:BN,isURLSearchParams:$N,isTypedArray:tD,isFileList:UN,forEach:$d,merge:f_,extend:QN,trim:GN,stripBOM:YN,inherits:JN,toFlatObject:XN,kindOf:rm,kindOfTest:Jr,endsWith:ZN,toArray:eD,forEachEntry:nD,matchAll:rD,isHTMLForm:iD,hasOwnProperty:HT,hasOwnProp:HT,reduceDescriptors:Eb,freezeMethods:aD,toObjectSet:lD,toCamelCase:sD,noop:uD,toFiniteNumber:cD,findKey:vb,global:ca,isContextDefined:wb,isSpecCompliantForm:dD,toJSONObject:hD,isAsyncFn:fD,isThenable:pD,setImmediate:Tb,asap:mD};function Ve(n,e,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}re.inherits(Ve,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:re.toJSONObject(this.config),code:this.code,status:this.status}}});const Sb=Ve.prototype,Ib={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{Ib[n]={value:n}});Object.defineProperties(Ve,Ib);Object.defineProperty(Sb,"isAxiosError",{value:!0});Ve.from=(n,e,t,r,i,o)=>{const l=Object.create(Sb);return re.toFlatObject(n,l,function(d){return d!==Error.prototype},c=>c!=="isAxiosError"),Ve.call(l,n.message,e,t,r,i),l.cause=n,l.name=n.name,o&&Object.assign(l,o),l};const gD=null;function p_(n){return re.isPlainObject(n)||re.isArray(n)}function Rb(n){return re.endsWith(n,"[]")?n.slice(0,-2):n}function KT(n,e,t){return n?n.concat(e).map(function(i,o){return i=Rb(i),!t&&o?"["+i+"]":i}).join(t?".":""):e}function yD(n){return re.isArray(n)&&!n.some(p_)}const _D=re.toFlatObject(re,{},null,function(e){return/^is[A-Z]/.test(e)});function om(n,e,t){if(!re.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=re.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(R,b){return!re.isUndefined(b[R])});const r=t.metaTokens,i=t.visitor||m,o=t.dots,l=t.indexes,d=(t.Blob||typeof Blob<"u"&&Blob)&&re.isSpecCompliantForm(e);if(!re.isFunction(i))throw new TypeError("visitor must be a function");function f(T){if(T===null)return"";if(re.isDate(T))return T.toISOString();if(!d&&re.isBlob(T))throw new Ve("Blob is not supported. Use a Buffer instead.");return re.isArrayBuffer(T)||re.isTypedArray(T)?d&&typeof Blob=="function"?new Blob([T]):Buffer.from(T):T}function m(T,R,b){let L=T;if(T&&!b&&typeof T=="object"){if(re.endsWith(R,"{}"))R=r?R:R.slice(0,-2),T=JSON.stringify(T);else if(re.isArray(T)&&yD(T)||(re.isFileList(T)||re.endsWith(R,"[]"))&&(L=re.toArray(T)))return R=Rb(R),L.forEach(function(M,$){!(re.isUndefined(M)||M===null)&&e.append(l===!0?KT([R],$,o):l===null?R:R+"[]",f(M))}),!1}return p_(T)?!0:(e.append(KT(b,R,o),f(T)),!1)}const y=[],v=Object.assign(_D,{defaultVisitor:m,convertValue:f,isVisitable:p_});function S(T,R){if(!re.isUndefined(T)){if(y.indexOf(T)!==-1)throw Error("Circular reference detected in "+R.join("."));y.push(T),re.forEach(T,function(L,V){(!(re.isUndefined(L)||L===null)&&i.call(e,L,re.isString(V)?V.trim():V,R,v))===!0&&S(L,R?R.concat(V):[V])}),y.pop()}}if(!re.isObject(n))throw new TypeError("data must be an object");return S(n),e}function GT(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Ev(n,e){this._pairs=[],n&&om(n,this,e)}const bb=Ev.prototype;bb.append=function(e,t){this._pairs.push([e,t])};bb.toString=function(e){const t=e?function(r){return e.call(this,r,GT)}:GT;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function vD(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ab(n,e,t){if(!e)return n;const r=t&&t.encode||vD;re.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let o;if(i?o=i(e,t):o=re.isURLSearchParams(e)?e.toString():new Ev(e,t).toString(r),o){const l=n.indexOf("#");l!==-1&&(n=n.slice(0,l)),n+=(n.indexOf("?")===-1?"?":"&")+o}return n}class QT{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){re.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Cb={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},wD=typeof URLSearchParams<"u"?URLSearchParams:Ev,ED=typeof FormData<"u"?FormData:null,TD=typeof Blob<"u"?Blob:null,SD={isBrowser:!0,classes:{URLSearchParams:wD,FormData:ED,Blob:TD},protocols:["http","https","file","blob","url","data"]},Tv=typeof window<"u"&&typeof document<"u",m_=typeof navigator=="object"&&navigator||void 0,ID=Tv&&(!m_||["ReactNative","NativeScript","NS"].indexOf(m_.product)<0),RD=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",bD=Tv&&window.location.href||"http://localhost",AD=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Tv,hasStandardBrowserEnv:ID,hasStandardBrowserWebWorkerEnv:RD,navigator:m_,origin:bD},Symbol.toStringTag,{value:"Module"})),In={...AD,...SD};function CD(n,e){return om(n,new In.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,o){return In.isNode&&re.isBuffer(t)?(this.append(r,t.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function PD(n){return re.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function xD(n){const e={},t=Object.keys(n);let r;const i=t.length;let o;for(r=0;r<i;r++)o=t[r],e[o]=n[o];return e}function Pb(n){function e(t,r,i,o){let l=t[o++];if(l==="__proto__")return!0;const c=Number.isFinite(+l),d=o>=t.length;return l=!l&&re.isArray(i)?i.length:l,d?(re.hasOwnProp(i,l)?i[l]=[i[l],r]:i[l]=r,!c):((!i[l]||!re.isObject(i[l]))&&(i[l]=[]),e(t,r,i[l],o)&&re.isArray(i[l])&&(i[l]=xD(i[l])),!c)}if(re.isFormData(n)&&re.isFunction(n.entries)){const t={};return re.forEachEntry(n,(r,i)=>{e(PD(r),i,t,0)}),t}return null}function kD(n,e,t){if(re.isString(n))try{return(e||JSON.parse)(n),re.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const qd={transitional:Cb,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,o=re.isObject(e);if(o&&re.isHTMLForm(e)&&(e=new FormData(e)),re.isFormData(e))return i?JSON.stringify(Pb(e)):e;if(re.isArrayBuffer(e)||re.isBuffer(e)||re.isStream(e)||re.isFile(e)||re.isBlob(e)||re.isReadableStream(e))return e;if(re.isArrayBufferView(e))return e.buffer;if(re.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return CD(e,this.formSerializer).toString();if((c=re.isFileList(e))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return om(c?{"files[]":e}:e,d&&new d,this.formSerializer)}}return o||i?(t.setContentType("application/json",!1),kD(e)):e}],transformResponse:[function(e){const t=this.transitional||qd.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(re.isResponse(e)||re.isReadableStream(e))return e;if(e&&re.isString(e)&&(r&&!this.responseType||i)){const l=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(c){if(l)throw c.name==="SyntaxError"?Ve.from(c,Ve.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:In.classes.FormData,Blob:In.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};re.forEach(["delete","get","head","post","put","patch"],n=>{qd.headers[n]={}});const OD=re.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ND=n=>{const e={};let t,r,i;return n&&n.split(`
`).forEach(function(l){i=l.indexOf(":"),t=l.substring(0,i).trim().toLowerCase(),r=l.substring(i+1).trim(),!(!t||e[t]&&OD[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},YT=Symbol("internals");function Fc(n){return n&&String(n).trim().toLowerCase()}function Yf(n){return n===!1||n==null?n:re.isArray(n)?n.map(Yf):String(n)}function DD(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const VD=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function Uy(n,e,t,r,i){if(re.isFunction(r))return r.call(this,e,t);if(i&&(e=t),!!re.isString(e)){if(re.isString(r))return e.indexOf(r)!==-1;if(re.isRegExp(r))return r.test(e)}}function LD(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function MD(n,e){const t=re.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(i,o,l){return this[r].call(this,e,i,o,l)},configurable:!0})})}let Gn=class{constructor(e){e&&this.set(e)}set(e,t,r){const i=this;function o(c,d,f){const m=Fc(d);if(!m)throw new Error("header name must be a non-empty string");const y=re.findKey(i,m);(!y||i[y]===void 0||f===!0||f===void 0&&i[y]!==!1)&&(i[y||d]=Yf(c))}const l=(c,d)=>re.forEach(c,(f,m)=>o(f,m,d));if(re.isPlainObject(e)||e instanceof this.constructor)l(e,t);else if(re.isString(e)&&(e=e.trim())&&!VD(e))l(ND(e),t);else if(re.isHeaders(e))for(const[c,d]of e.entries())o(d,c,r);else e!=null&&o(t,e,r);return this}get(e,t){if(e=Fc(e),e){const r=re.findKey(this,e);if(r){const i=this[r];if(!t)return i;if(t===!0)return DD(i);if(re.isFunction(t))return t.call(this,i,r);if(re.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Fc(e),e){const r=re.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||Uy(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let i=!1;function o(l){if(l=Fc(l),l){const c=re.findKey(r,l);c&&(!t||Uy(r,r[c],c,t))&&(delete r[c],i=!0)}}return re.isArray(e)?e.forEach(o):o(e),i}clear(e){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const o=t[r];(!e||Uy(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const t=this,r={};return re.forEach(this,(i,o)=>{const l=re.findKey(r,o);if(l){t[l]=Yf(i),delete t[o];return}const c=e?LD(o):String(o).trim();c!==o&&delete t[o],t[c]=Yf(i),r[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return re.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=e&&re.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[YT]=this[YT]={accessors:{}}).accessors,i=this.prototype;function o(l){const c=Fc(l);r[c]||(MD(i,l),r[c]=!0)}return re.isArray(e)?e.forEach(o):o(e),this}};Gn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);re.reduceDescriptors(Gn.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});re.freezeMethods(Gn);function By(n,e){const t=this||qd,r=e||t,i=Gn.from(r.headers);let o=r.data;return re.forEach(n,function(c){o=c.call(t,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function xb(n){return!!(n&&n.__CANCEL__)}function Tu(n,e,t){Ve.call(this,n??"canceled",Ve.ERR_CANCELED,e,t),this.name="CanceledError"}re.inherits(Tu,Ve,{__CANCEL__:!0});function kb(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new Ve("Request failed with status code "+t.status,[Ve.ERR_BAD_REQUEST,Ve.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function FD(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function jD(n,e){n=n||10;const t=new Array(n),r=new Array(n);let i=0,o=0,l;return e=e!==void 0?e:1e3,function(d){const f=Date.now(),m=r[o];l||(l=f),t[i]=d,r[i]=f;let y=o,v=0;for(;y!==i;)v+=t[y++],y=y%n;if(i=(i+1)%n,i===o&&(o=(o+1)%n),f-l<e)return;const S=m&&f-m;return S?Math.round(v*1e3/S):void 0}}function UD(n,e){let t=0,r=1e3/e,i,o;const l=(f,m=Date.now())=>{t=m,i=null,o&&(clearTimeout(o),o=null),n.apply(null,f)};return[(...f)=>{const m=Date.now(),y=m-t;y>=r?l(f,m):(i=f,o||(o=setTimeout(()=>{o=null,l(i)},r-y)))},()=>i&&l(i)]}const vp=(n,e,t=3)=>{let r=0;const i=jD(50,250);return UD(o=>{const l=o.loaded,c=o.lengthComputable?o.total:void 0,d=l-r,f=i(d),m=l<=c;r=l;const y={loaded:l,total:c,progress:c?l/c:void 0,bytes:d,rate:f||void 0,estimated:f&&c&&m?(c-l)/f:void 0,event:o,lengthComputable:c!=null,[e?"download":"upload"]:!0};n(y)},t)},JT=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},XT=n=>(...e)=>re.asap(()=>n(...e)),BD=In.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,In.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(In.origin),In.navigator&&/(msie|trident)/i.test(In.navigator.userAgent)):()=>!0,zD=In.hasStandardBrowserEnv?{write(n,e,t,r,i,o){const l=[n+"="+encodeURIComponent(e)];re.isNumber(t)&&l.push("expires="+new Date(t).toGMTString()),re.isString(r)&&l.push("path="+r),re.isString(i)&&l.push("domain="+i),o===!0&&l.push("secure"),document.cookie=l.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function $D(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function qD(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function Ob(n,e,t){let r=!$D(e);return n&&r||t==!1?qD(n,e):e}const ZT=n=>n instanceof Gn?{...n}:n;function ga(n,e){e=e||{};const t={};function r(f,m,y,v){return re.isPlainObject(f)&&re.isPlainObject(m)?re.merge.call({caseless:v},f,m):re.isPlainObject(m)?re.merge({},m):re.isArray(m)?m.slice():m}function i(f,m,y,v){if(re.isUndefined(m)){if(!re.isUndefined(f))return r(void 0,f,y,v)}else return r(f,m,y,v)}function o(f,m){if(!re.isUndefined(m))return r(void 0,m)}function l(f,m){if(re.isUndefined(m)){if(!re.isUndefined(f))return r(void 0,f)}else return r(void 0,m)}function c(f,m,y){if(y in e)return r(f,m);if(y in n)return r(void 0,f)}const d={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:c,headers:(f,m,y)=>i(ZT(f),ZT(m),y,!0)};return re.forEach(Object.keys(Object.assign({},n,e)),function(m){const y=d[m]||i,v=y(n[m],e[m],m);re.isUndefined(v)&&y!==c||(t[m]=v)}),t}const Nb=n=>{const e=ga({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:l,auth:c}=e;e.headers=l=Gn.from(l),e.url=Ab(Ob(e.baseURL,e.url),n.params,n.paramsSerializer),c&&l.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let d;if(re.isFormData(t)){if(In.hasStandardBrowserEnv||In.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((d=l.getContentType())!==!1){const[f,...m]=d?d.split(";").map(y=>y.trim()).filter(Boolean):[];l.setContentType([f||"multipart/form-data",...m].join("; "))}}if(In.hasStandardBrowserEnv&&(r&&re.isFunction(r)&&(r=r(e)),r||r!==!1&&BD(e.url))){const f=i&&o&&zD.read(o);f&&l.set(i,f)}return e},WD=typeof XMLHttpRequest<"u",HD=WD&&function(n){return new Promise(function(t,r){const i=Nb(n);let o=i.data;const l=Gn.from(i.headers).normalize();let{responseType:c,onUploadProgress:d,onDownloadProgress:f}=i,m,y,v,S,T;function R(){S&&S(),T&&T(),i.cancelToken&&i.cancelToken.unsubscribe(m),i.signal&&i.signal.removeEventListener("abort",m)}let b=new XMLHttpRequest;b.open(i.method.toUpperCase(),i.url,!0),b.timeout=i.timeout;function L(){if(!b)return;const M=Gn.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),B={data:!c||c==="text"||c==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:M,config:n,request:b};kb(function(D){t(D),R()},function(D){r(D),R()},B),b=null}"onloadend"in b?b.onloadend=L:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(L)},b.onabort=function(){b&&(r(new Ve("Request aborted",Ve.ECONNABORTED,n,b)),b=null)},b.onerror=function(){r(new Ve("Network Error",Ve.ERR_NETWORK,n,b)),b=null},b.ontimeout=function(){let $=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const B=i.transitional||Cb;i.timeoutErrorMessage&&($=i.timeoutErrorMessage),r(new Ve($,B.clarifyTimeoutError?Ve.ETIMEDOUT:Ve.ECONNABORTED,n,b)),b=null},o===void 0&&l.setContentType(null),"setRequestHeader"in b&&re.forEach(l.toJSON(),function($,B){b.setRequestHeader(B,$)}),re.isUndefined(i.withCredentials)||(b.withCredentials=!!i.withCredentials),c&&c!=="json"&&(b.responseType=i.responseType),f&&([v,T]=vp(f,!0),b.addEventListener("progress",v)),d&&b.upload&&([y,S]=vp(d),b.upload.addEventListener("progress",y),b.upload.addEventListener("loadend",S)),(i.cancelToken||i.signal)&&(m=M=>{b&&(r(!M||M.type?new Tu(null,n,b):M),b.abort(),b=null)},i.cancelToken&&i.cancelToken.subscribe(m),i.signal&&(i.signal.aborted?m():i.signal.addEventListener("abort",m)));const V=FD(i.url);if(V&&In.protocols.indexOf(V)===-1){r(new Ve("Unsupported protocol "+V+":",Ve.ERR_BAD_REQUEST,n));return}b.send(o||null)})},KD=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,i;const o=function(f){if(!i){i=!0,c();const m=f instanceof Error?f:this.reason;r.abort(m instanceof Ve?m:new Tu(m instanceof Error?m.message:m))}};let l=e&&setTimeout(()=>{l=null,o(new Ve(`timeout ${e} of ms exceeded`,Ve.ETIMEDOUT))},e);const c=()=>{n&&(l&&clearTimeout(l),l=null,n.forEach(f=>{f.unsubscribe?f.unsubscribe(o):f.removeEventListener("abort",o)}),n=null)};n.forEach(f=>f.addEventListener("abort",o));const{signal:d}=r;return d.unsubscribe=()=>re.asap(c),d}},GD=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,i;for(;r<t;)i=r+e,yield n.slice(r,i),r=i},QD=async function*(n,e){for await(const t of YD(n))yield*GD(t,e)},YD=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},eS=(n,e,t,r)=>{const i=QD(n,e);let o=0,l,c=d=>{l||(l=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:f,value:m}=await i.next();if(f){c(),d.close();return}let y=m.byteLength;if(t){let v=o+=y;t(v)}d.enqueue(new Uint8Array(m))}catch(f){throw c(f),f}},cancel(d){return c(d),i.return()}},{highWaterMark:2})},am=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Db=am&&typeof ReadableStream=="function",JD=am&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),Vb=(n,...e)=>{try{return!!n(...e)}catch{return!1}},XD=Db&&Vb(()=>{let n=!1;const e=new Request(In.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),tS=64*1024,g_=Db&&Vb(()=>re.isReadableStream(new Response("").body)),wp={stream:g_&&(n=>n.body)};am&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!wp[e]&&(wp[e]=re.isFunction(n[e])?t=>t[e]():(t,r)=>{throw new Ve(`Response type '${e}' is not supported`,Ve.ERR_NOT_SUPPORT,r)})})})(new Response);const ZD=async n=>{if(n==null)return 0;if(re.isBlob(n))return n.size;if(re.isSpecCompliantForm(n))return(await new Request(In.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(re.isArrayBufferView(n)||re.isArrayBuffer(n))return n.byteLength;if(re.isURLSearchParams(n)&&(n=n+""),re.isString(n))return(await JD(n)).byteLength},e2=async(n,e)=>{const t=re.toFiniteNumber(n.getContentLength());return t??ZD(e)},t2=am&&(async n=>{let{url:e,method:t,data:r,signal:i,cancelToken:o,timeout:l,onDownloadProgress:c,onUploadProgress:d,responseType:f,headers:m,withCredentials:y="same-origin",fetchOptions:v}=Nb(n);f=f?(f+"").toLowerCase():"text";let S=KD([i,o&&o.toAbortSignal()],l),T;const R=S&&S.unsubscribe&&(()=>{S.unsubscribe()});let b;try{if(d&&XD&&t!=="get"&&t!=="head"&&(b=await e2(m,r))!==0){let B=new Request(e,{method:"POST",body:r,duplex:"half"}),q;if(re.isFormData(r)&&(q=B.headers.get("content-type"))&&m.setContentType(q),B.body){const[D,A]=JT(b,vp(XT(d)));r=eS(B.body,tS,D,A)}}re.isString(y)||(y=y?"include":"omit");const L="credentials"in Request.prototype;T=new Request(e,{...v,signal:S,method:t.toUpperCase(),headers:m.normalize().toJSON(),body:r,duplex:"half",credentials:L?y:void 0});let V=await fetch(T);const M=g_&&(f==="stream"||f==="response");if(g_&&(c||M&&R)){const B={};["status","statusText","headers"].forEach(P=>{B[P]=V[P]});const q=re.toFiniteNumber(V.headers.get("content-length")),[D,A]=c&&JT(q,vp(XT(c),!0))||[];V=new Response(eS(V.body,tS,D,()=>{A&&A(),R&&R()}),B)}f=f||"text";let $=await wp[re.findKey(wp,f)||"text"](V,n);return!M&&R&&R(),await new Promise((B,q)=>{kb(B,q,{data:$,headers:Gn.from(V.headers),status:V.status,statusText:V.statusText,config:n,request:T})})}catch(L){throw R&&R(),L&&L.name==="TypeError"&&/fetch/i.test(L.message)?Object.assign(new Ve("Network Error",Ve.ERR_NETWORK,n,T),{cause:L.cause||L}):Ve.from(L,L&&L.code,n,T)}}),y_={http:gD,xhr:HD,fetch:t2};re.forEach(y_,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const nS=n=>`- ${n}`,n2=n=>re.isFunction(n)||n===null||n===!1,Lb={getAdapter:n=>{n=re.isArray(n)?n:[n];const{length:e}=n;let t,r;const i={};for(let o=0;o<e;o++){t=n[o];let l;if(r=t,!n2(t)&&(r=y_[(l=String(t)).toLowerCase()],r===void 0))throw new Ve(`Unknown adapter '${l}'`);if(r)break;i[l||"#"+o]=r}if(!r){const o=Object.entries(i).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=e?o.length>1?`since :
`+o.map(nS).join(`
`):" "+nS(o[0]):"as no adapter specified";throw new Ve("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return r},adapters:y_};function zy(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Tu(null,n)}function rS(n){return zy(n),n.headers=Gn.from(n.headers),n.data=By.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),Lb.getAdapter(n.adapter||qd.adapter)(n).then(function(r){return zy(n),r.data=By.call(n,n.transformResponse,r),r.headers=Gn.from(r.headers),r},function(r){return xb(r)||(zy(n),r&&r.response&&(r.response.data=By.call(n,n.transformResponse,r.response),r.response.headers=Gn.from(r.response.headers))),Promise.reject(r)})}const Mb="1.8.2",lm={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{lm[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const iS={};lm.transitional=function(e,t,r){function i(o,l){return"[Axios v"+Mb+"] Transitional option '"+o+"'"+l+(r?". "+r:"")}return(o,l,c)=>{if(e===!1)throw new Ve(i(l," has been removed"+(t?" in "+t:"")),Ve.ERR_DEPRECATED);return t&&!iS[l]&&(iS[l]=!0,console.warn(i(l," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(o,l,c):!0}};lm.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function r2(n,e,t){if(typeof n!="object")throw new Ve("options must be an object",Ve.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let i=r.length;for(;i-- >0;){const o=r[i],l=e[o];if(l){const c=n[o],d=c===void 0||l(c,o,n);if(d!==!0)throw new Ve("option "+o+" must be "+d,Ve.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Ve("Unknown option "+o,Ve.ERR_BAD_OPTION)}}const Jf={assertOptions:r2,validators:lm},ui=Jf.validators;let pa=class{constructor(e){this.defaults=e,this.interceptors={request:new QT,response:new QT}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=ga(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:o}=t;r!==void 0&&Jf.assertOptions(r,{silentJSONParsing:ui.transitional(ui.boolean),forcedJSONParsing:ui.transitional(ui.boolean),clarifyTimeoutError:ui.transitional(ui.boolean)},!1),i!=null&&(re.isFunction(i)?t.paramsSerializer={serialize:i}:Jf.assertOptions(i,{encode:ui.function,serialize:ui.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Jf.assertOptions(t,{baseUrl:ui.spelling("baseURL"),withXsrfToken:ui.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let l=o&&re.merge(o.common,o[t.method]);o&&re.forEach(["delete","get","head","post","put","patch","common"],T=>{delete o[T]}),t.headers=Gn.concat(l,o);const c=[];let d=!0;this.interceptors.request.forEach(function(R){typeof R.runWhen=="function"&&R.runWhen(t)===!1||(d=d&&R.synchronous,c.unshift(R.fulfilled,R.rejected))});const f=[];this.interceptors.response.forEach(function(R){f.push(R.fulfilled,R.rejected)});let m,y=0,v;if(!d){const T=[rS.bind(this),void 0];for(T.unshift.apply(T,c),T.push.apply(T,f),v=T.length,m=Promise.resolve(t);y<v;)m=m.then(T[y++],T[y++]);return m}v=c.length;let S=t;for(y=0;y<v;){const T=c[y++],R=c[y++];try{S=T(S)}catch(b){R.call(this,b);break}}try{m=rS.call(this,S)}catch(T){return Promise.reject(T)}for(y=0,v=f.length;y<v;)m=m.then(f[y++],f[y++]);return m}getUri(e){e=ga(this.defaults,e);const t=Ob(e.baseURL,e.url,e.allowAbsoluteUrls);return Ab(t,e.params,e.paramsSerializer)}};re.forEach(["delete","get","head","options"],function(e){pa.prototype[e]=function(t,r){return this.request(ga(r||{},{method:e,url:t,data:(r||{}).data}))}});re.forEach(["post","put","patch"],function(e){function t(r){return function(o,l,c){return this.request(ga(c||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:l}))}}pa.prototype[e]=t(),pa.prototype[e+"Form"]=t(!0)});let i2=class Fb{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(o){t=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const l=new Promise(c=>{r.subscribe(c),o=c}).then(i);return l.cancel=function(){r.unsubscribe(o)},l},e(function(o,l,c){r.reason||(r.reason=new Tu(o,l,c),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Fb(function(i){e=i}),cancel:e}}};function s2(n){return function(t){return n.apply(null,t)}}function o2(n){return re.isObject(n)&&n.isAxiosError===!0}const __={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(__).forEach(([n,e])=>{__[e]=n});function jb(n){const e=new pa(n),t=gb(pa.prototype.request,e);return re.extend(t,pa.prototype,e,{allOwnKeys:!0}),re.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return jb(ga(n,i))},t}const It=jb(qd);It.Axios=pa;It.CanceledError=Tu;It.CancelToken=i2;It.isCancel=xb;It.VERSION=Mb;It.toFormData=om;It.AxiosError=Ve;It.Cancel=It.CanceledError;It.all=function(e){return Promise.all(e)};It.spread=s2;It.isAxiosError=o2;It.mergeConfig=ga;It.AxiosHeaders=Gn;It.formToJSON=n=>Pb(re.isHTMLForm(n)?new FormData(n):n);It.getAdapter=Lb.getAdapter;It.HttpStatusCode=__;It.default=It;const{Axios:e9,AxiosError:t9,CanceledError:n9,isCancel:r9,CancelToken:i9,VERSION:s9,all:o9,Cancel:a9,isAxiosError:l9,spread:u9,toFormData:c9,AxiosHeaders:d9,HttpStatusCode:h9,formToJSON:f9,getAdapter:p9,mergeConfig:m9}=It;var a2=ub();const At=fv(a2);function Ub(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=Ub(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function id(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=Ub(n))&&(r&&(r+=" "),r+=e);return r}function Bb(n,e=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(n,t))}const l2={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function zb(n,e,t=void 0){const r={};for(const i in n){const o=n[i];let l="",c=!0;for(let d=0;d<o.length;d+=1){const f=o[d];f&&(l+=(c===!0?"":" ")+e(f),c=!1,t&&t[f]&&(l+=" "+t[f]))}r[i]=l}return r}const u2=K.createContext(),c2=()=>K.useContext(u2)??!1;function sS(n){try{return n.matches(":focus-visible")}catch{}return!1}var $y={exports:{}},it={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oS;function d2(){if(oS)return it;oS=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen"),S=Symbol.for("react.client.reference");function T(R){if(typeof R=="object"&&R!==null){var b=R.$$typeof;switch(b){case n:switch(R=R.type,R){case t:case i:case r:case d:case f:return R;default:switch(R=R&&R.$$typeof,R){case l:case c:case y:case m:return R;case o:return R;default:return b}}case e:return b}}}return it.ContextConsumer=o,it.ContextProvider=l,it.Element=n,it.ForwardRef=c,it.Fragment=t,it.Lazy=y,it.Memo=m,it.Portal=e,it.Profiler=i,it.StrictMode=r,it.Suspense=d,it.SuspenseList=f,it.isContextConsumer=function(R){return T(R)===o},it.isContextProvider=function(R){return T(R)===l},it.isElement=function(R){return typeof R=="object"&&R!==null&&R.$$typeof===n},it.isForwardRef=function(R){return T(R)===c},it.isFragment=function(R){return T(R)===t},it.isLazy=function(R){return T(R)===y},it.isMemo=function(R){return T(R)===m},it.isPortal=function(R){return T(R)===e},it.isProfiler=function(R){return T(R)===i},it.isStrictMode=function(R){return T(R)===r},it.isSuspense=function(R){return T(R)===d},it.isSuspenseList=function(R){return T(R)===f},it.isValidElementType=function(R){return typeof R=="string"||typeof R=="function"||R===t||R===i||R===r||R===d||R===f||R===v||typeof R=="object"&&R!==null&&(R.$$typeof===y||R.$$typeof===m||R.$$typeof===l||R.$$typeof===o||R.$$typeof===c||R.$$typeof===S||R.getModuleId!==void 0)},it.typeOf=T,it}var aS;function h2(){return aS||(aS=1,$y.exports=d2()),$y.exports}var $b=h2();function Gi(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function qb(n){if(K.isValidElement(n)||$b.isValidElementType(n)||!Gi(n))return n;const e={};return Object.keys(n).forEach(t=>{e[t]=qb(n[t])}),e}function cr(n,e,t={clone:!0}){const r=t.clone?{...n}:n;return Gi(n)&&Gi(e)&&Object.keys(e).forEach(i=>{K.isValidElement(e[i])||$b.isValidElementType(e[i])?r[i]=e[i]:Gi(e[i])&&Object.prototype.hasOwnProperty.call(n,i)&&Gi(n[i])?r[i]=cr(n[i],e[i],t):t.clone?r[i]=Gi(e[i])?qb(e[i]):e[i]:r[i]=e[i]}),r}function ya(n,...e){const t=new URL(`https://mui.com/production-error/?code=${n}`);return e.forEach(r=>t.searchParams.append("args[]",r)),`Minified MUI error #${n}; visit ${t} for the full message.`}function no(n){if(typeof n!="string")throw new Error(ya(7));return n.charAt(0).toUpperCase()+n.slice(1)}function f2(n,e){typeof n=="function"?n(e):n&&(n.current=e)}let lS=0;function p2(n){const[e,t]=K.useState(n),r=n||e;return K.useEffect(()=>{e==null&&(lS+=1,t(`mui-${lS}`))},[e]),r}const m2={...c_},uS=m2.useId;function Wb(n){if(uS!==void 0){const e=uS();return n??e}return p2(n)}function g2({controlled:n,default:e,name:t,state:r="value"}){const{current:i}=K.useRef(n!==void 0),[o,l]=K.useState(e),c=i?n:o,d=K.useCallback(f=>{i||l(f)},[]);return[c,d]}function y2(...n){return K.useMemo(()=>n.every(e=>e==null)?null:e=>{n.forEach(t=>{f2(t,e)})},n)}function v_(n,e){const t={...e};for(const r in n)if(Object.prototype.hasOwnProperty.call(n,r)){const i=r;if(i==="components"||i==="slots")t[i]={...n[i],...t[i]};else if(i==="componentsProps"||i==="slotProps"){const o=n[i],l=e[i];if(!l)t[i]=o||{};else if(!o)t[i]=l;else{t[i]={...l};for(const c in o)if(Object.prototype.hasOwnProperty.call(o,c)){const d=c;t[i][d]=v_(o[d],l[d])}}}else t[i]===void 0&&(t[i]=n[i])}return t}const cS=n=>n,_2=()=>{let n=cS;return{configure(e){n=e},generate(e){return n(e)},reset(){n=cS}}},v2=_2(),w2={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Sv(n,e,t="Mui"){const r=w2[e];return r?`${t}-${r}`:`${v2.generate(n)}-${e}`}function Hb(n,e,t="Mui"){const r={};return e.forEach(i=>{r[i]=Sv(n,i,t)}),r}function sd(n,e){return e?cr(n,e,{clone:!1}):n}function E2(n,e){if(!n.containerQueries)return e;const t=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{var l,c;const o=/min-width:\s*([0-9.]+)/;return+(((l=r.match(o))==null?void 0:l[1])||0)-+(((c=i.match(o))==null?void 0:c[1])||0)});return t.length?t.reduce((r,i)=>{const o=e[i];return delete r[i],r[i]=o,r},{...e}):e}function T2(n,e){return e==="@"||e.startsWith("@")&&(n.some(t=>e.startsWith(`@${t}`))||!!e.match(/^@\d/))}function S2(n,e){const t=e.match(/^@([^/]+)?\/?(.+)?$/);if(!t)return null;const[,r,i]=t,o=Number.isNaN(+r)?r||0:+r;return n.containerQueries(i).up(o)}function I2(n){const e=(o,l)=>o.replace("@media",l?`@container ${l}`:"@container");function t(o,l){o.up=(...c)=>e(n.breakpoints.up(...c),l),o.down=(...c)=>e(n.breakpoints.down(...c),l),o.between=(...c)=>e(n.breakpoints.between(...c),l),o.only=(...c)=>e(n.breakpoints.only(...c),l),o.not=(...c)=>{const d=e(n.breakpoints.not(...c),l);return d.includes("not all and")?d.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):d}}const r={},i=o=>(t(r,o),r);return t(i),{...n,containerQueries:i}}const um={xs:0,sm:600,md:900,lg:1200,xl:1536},dS={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${um[n]}px)`},R2={containerQueries:n=>({up:e=>{let t=typeof e=="number"?e:um[e]||e;return typeof t=="number"&&(t=`${t}px`),n?`@container ${n} (min-width:${t})`:`@container (min-width:${t})`}})};function ts(n,e,t){const r=n.theme||{};if(Array.isArray(e)){const o=r.breakpoints||dS;return e.reduce((l,c,d)=>(l[o.up(o.keys[d])]=t(e[d]),l),{})}if(typeof e=="object"){const o=r.breakpoints||dS;return Object.keys(e).reduce((l,c)=>{if(T2(o.keys,c)){const d=S2(r.containerQueries?r:R2,c);d&&(l[d]=t(e[c],c))}else if(Object.keys(o.values||um).includes(c)){const d=o.up(c);l[d]=t(e[c],c)}else{const d=c;l[d]=e[d]}return l},{})}return t(e)}function b2(n={}){var t;return((t=n.keys)==null?void 0:t.reduce((r,i)=>{const o=n.up(i);return r[o]={},r},{}))||{}}function A2(n,e){return n.reduce((t,r)=>{const i=t[r];return(!i||Object.keys(i).length===0)&&delete t[r],t},e)}function cm(n,e,t=!0){if(!e||typeof e!="string")return null;if(n&&n.vars&&t){const r=`vars.${e}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,n);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,n)}function Ep(n,e,t,r=t){let i;return typeof n=="function"?i=n(t):Array.isArray(n)?i=n[t]||r:i=cm(n,t)||r,e&&(i=e(i,r,n)),i}function jt(n){const{prop:e,cssProperty:t=n.prop,themeKey:r,transform:i}=n,o=l=>{if(l[e]==null)return null;const c=l[e],d=l.theme,f=cm(d,r)||{};return ts(l,c,y=>{let v=Ep(f,i,y);return y===v&&typeof y=="string"&&(v=Ep(f,i,`${e}${y==="default"?"":no(y)}`,y)),t===!1?v:{[t]:v}})};return o.propTypes={},o.filterProps=[e],o}function C2(n){const e={};return t=>(e[t]===void 0&&(e[t]=n(t)),e[t])}const P2={m:"margin",p:"padding"},x2={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},hS={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},k2=C2(n=>{if(n.length>2)if(hS[n])n=hS[n];else return[n];const[e,t]=n.split(""),r=P2[e],i=x2[t]||"";return Array.isArray(i)?i.map(o=>r+o):[r+i]}),Iv=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Rv=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Iv,...Rv];function Wd(n,e,t,r){const i=cm(n,e,!0)??t;return typeof i=="number"||typeof i=="string"?o=>typeof o=="string"?o:typeof i=="string"?`calc(${o} * ${i})`:i*o:Array.isArray(i)?o=>{if(typeof o=="string")return o;const l=Math.abs(o),c=i[l];return o>=0?c:typeof c=="number"?-c:`-${c}`}:typeof i=="function"?i:()=>{}}function bv(n){return Wd(n,"spacing",8)}function Hd(n,e){return typeof e=="string"||e==null?e:n(e)}function O2(n,e){return t=>n.reduce((r,i)=>(r[i]=Hd(e,t),r),{})}function N2(n,e,t,r){if(!e.includes(t))return null;const i=k2(t),o=O2(i,r),l=n[t];return ts(n,l,o)}function Kb(n,e){const t=bv(n.theme);return Object.keys(n).map(r=>N2(n,e,r,t)).reduce(sd,{})}function kt(n){return Kb(n,Iv)}kt.propTypes={};kt.filterProps=Iv;function Ot(n){return Kb(n,Rv)}Ot.propTypes={};Ot.filterProps=Rv;function dm(...n){const e=n.reduce((r,i)=>(i.filterProps.forEach(o=>{r[o]=i}),r),{}),t=r=>Object.keys(r).reduce((i,o)=>e[o]?sd(i,e[o](r)):i,{});return t.propTypes={},t.filterProps=n.reduce((r,i)=>r.concat(i.filterProps),[]),t}function Rr(n){return typeof n!="number"?n:`${n}px solid`}function Pr(n,e){return jt({prop:n,themeKey:"borders",transform:e})}const D2=Pr("border",Rr),V2=Pr("borderTop",Rr),L2=Pr("borderRight",Rr),M2=Pr("borderBottom",Rr),F2=Pr("borderLeft",Rr),j2=Pr("borderColor"),U2=Pr("borderTopColor"),B2=Pr("borderRightColor"),z2=Pr("borderBottomColor"),$2=Pr("borderLeftColor"),q2=Pr("outline",Rr),W2=Pr("outlineColor"),hm=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const e=Wd(n.theme,"shape.borderRadius",4),t=r=>({borderRadius:Hd(e,r)});return ts(n,n.borderRadius,t)}return null};hm.propTypes={};hm.filterProps=["borderRadius"];dm(D2,V2,L2,M2,F2,j2,U2,B2,z2,$2,hm,q2,W2);const fm=n=>{if(n.gap!==void 0&&n.gap!==null){const e=Wd(n.theme,"spacing",8),t=r=>({gap:Hd(e,r)});return ts(n,n.gap,t)}return null};fm.propTypes={};fm.filterProps=["gap"];const pm=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const e=Wd(n.theme,"spacing",8),t=r=>({columnGap:Hd(e,r)});return ts(n,n.columnGap,t)}return null};pm.propTypes={};pm.filterProps=["columnGap"];const mm=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const e=Wd(n.theme,"spacing",8),t=r=>({rowGap:Hd(e,r)});return ts(n,n.rowGap,t)}return null};mm.propTypes={};mm.filterProps=["rowGap"];const H2=jt({prop:"gridColumn"}),K2=jt({prop:"gridRow"}),G2=jt({prop:"gridAutoFlow"}),Q2=jt({prop:"gridAutoColumns"}),Y2=jt({prop:"gridAutoRows"}),J2=jt({prop:"gridTemplateColumns"}),X2=jt({prop:"gridTemplateRows"}),Z2=jt({prop:"gridTemplateAreas"}),eV=jt({prop:"gridArea"});dm(fm,pm,mm,H2,K2,G2,Q2,Y2,J2,X2,Z2,eV);function zl(n,e){return e==="grey"?e:n}const tV=jt({prop:"color",themeKey:"palette",transform:zl}),nV=jt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:zl}),rV=jt({prop:"backgroundColor",themeKey:"palette",transform:zl});dm(tV,nV,rV);function ar(n){return n<=1&&n!==0?`${n*100}%`:n}const iV=jt({prop:"width",transform:ar}),Av=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const e=t=>{var i,o,l,c,d;const r=((l=(o=(i=n.theme)==null?void 0:i.breakpoints)==null?void 0:o.values)==null?void 0:l[t])||um[t];return r?((d=(c=n.theme)==null?void 0:c.breakpoints)==null?void 0:d.unit)!=="px"?{maxWidth:`${r}${n.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:ar(t)}};return ts(n,n.maxWidth,e)}return null};Av.filterProps=["maxWidth"];const sV=jt({prop:"minWidth",transform:ar}),oV=jt({prop:"height",transform:ar}),aV=jt({prop:"maxHeight",transform:ar}),lV=jt({prop:"minHeight",transform:ar});jt({prop:"size",cssProperty:"width",transform:ar});jt({prop:"size",cssProperty:"height",transform:ar});const uV=jt({prop:"boxSizing"});dm(iV,Av,sV,oV,aV,lV,uV);const gm={border:{themeKey:"borders",transform:Rr},borderTop:{themeKey:"borders",transform:Rr},borderRight:{themeKey:"borders",transform:Rr},borderBottom:{themeKey:"borders",transform:Rr},borderLeft:{themeKey:"borders",transform:Rr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Rr},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:hm},color:{themeKey:"palette",transform:zl},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:zl},backgroundColor:{themeKey:"palette",transform:zl},p:{style:Ot},pt:{style:Ot},pr:{style:Ot},pb:{style:Ot},pl:{style:Ot},px:{style:Ot},py:{style:Ot},padding:{style:Ot},paddingTop:{style:Ot},paddingRight:{style:Ot},paddingBottom:{style:Ot},paddingLeft:{style:Ot},paddingX:{style:Ot},paddingY:{style:Ot},paddingInline:{style:Ot},paddingInlineStart:{style:Ot},paddingInlineEnd:{style:Ot},paddingBlock:{style:Ot},paddingBlockStart:{style:Ot},paddingBlockEnd:{style:Ot},m:{style:kt},mt:{style:kt},mr:{style:kt},mb:{style:kt},ml:{style:kt},mx:{style:kt},my:{style:kt},margin:{style:kt},marginTop:{style:kt},marginRight:{style:kt},marginBottom:{style:kt},marginLeft:{style:kt},marginX:{style:kt},marginY:{style:kt},marginInline:{style:kt},marginInlineStart:{style:kt},marginInlineEnd:{style:kt},marginBlock:{style:kt},marginBlockStart:{style:kt},marginBlockEnd:{style:kt},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:fm},rowGap:{style:mm},columnGap:{style:pm},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:ar},maxWidth:{style:Av},minWidth:{transform:ar},height:{transform:ar},maxHeight:{transform:ar},minHeight:{transform:ar},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function cV(...n){const e=n.reduce((r,i)=>r.concat(Object.keys(i)),[]),t=new Set(e);return n.every(r=>t.size===Object.keys(r).length)}function dV(n,e){return typeof n=="function"?n(e):n}function hV(){function n(t,r,i,o){const l={[t]:r,theme:i},c=o[t];if(!c)return{[t]:r};const{cssProperty:d=t,themeKey:f,transform:m,style:y}=c;if(r==null)return null;if(f==="typography"&&r==="inherit")return{[t]:r};const v=cm(i,f)||{};return y?y(l):ts(l,r,T=>{let R=Ep(v,m,T);return T===R&&typeof T=="string"&&(R=Ep(v,m,`${t}${T==="default"?"":no(T)}`,T)),d===!1?R:{[d]:R}})}function e(t){const{sx:r,theme:i={}}=t||{};if(!r)return null;const o=i.unstable_sxConfig??gm;function l(c){let d=c;if(typeof c=="function")d=c(i);else if(typeof c!="object")return c;if(!d)return null;const f=b2(i.breakpoints),m=Object.keys(f);let y=f;return Object.keys(d).forEach(v=>{const S=dV(d[v],i);if(S!=null)if(typeof S=="object")if(o[v])y=sd(y,n(v,S,i,o));else{const T=ts({theme:i},S,R=>({[v]:R}));cV(T,S)?y[v]=e({sx:S,theme:i}):y=sd(y,T)}else y=sd(y,n(v,S,i,o))}),E2(i,A2(m,y))}return Array.isArray(r)?r.map(l):l(r)}return e}const Ql=hV();Ql.filterProps=["sx"];function w_(){return w_=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},w_.apply(null,arguments)}function fV(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function pV(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var mV=function(){function n(t){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(pV(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=fV(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},n}(),Tn="-ms-",Tp="-moz-",Je="-webkit-",Gb="comm",Cv="rule",Pv="decl",gV="@import",Qb="@keyframes",yV="@layer",_V=Math.abs,ym=String.fromCharCode,vV=Object.assign;function wV(n,e){return pn(n,0)^45?(((e<<2^pn(n,0))<<2^pn(n,1))<<2^pn(n,2))<<2^pn(n,3):0}function Yb(n){return n.trim()}function EV(n,e){return(n=e.exec(n))?n[0]:n}function Xe(n,e,t){return n.replace(e,t)}function E_(n,e){return n.indexOf(e)}function pn(n,e){return n.charCodeAt(e)|0}function gd(n,e,t){return n.slice(e,t)}function hi(n){return n.length}function xv(n){return n.length}function Nf(n,e){return e.push(n),n}function TV(n,e){return n.map(e).join("")}var _m=1,Yl=1,Jb=0,Qn=0,qt=0,Su="";function vm(n,e,t,r,i,o,l){return{value:n,root:e,parent:t,type:r,props:i,children:o,line:_m,column:Yl,length:l,return:""}}function jc(n,e){return vV(vm("",null,null,"",null,null,0),n,{length:-n.length},e)}function SV(){return qt}function IV(){return qt=Qn>0?pn(Su,--Qn):0,Yl--,qt===10&&(Yl=1,_m--),qt}function dr(){return qt=Qn<Jb?pn(Su,Qn++):0,Yl++,qt===10&&(Yl=1,_m++),qt}function yi(){return pn(Su,Qn)}function Xf(){return Qn}function Kd(n,e){return gd(Su,n,e)}function yd(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Xb(n){return _m=Yl=1,Jb=hi(Su=n),Qn=0,[]}function Zb(n){return Su="",n}function Zf(n){return Yb(Kd(Qn-1,T_(n===91?n+2:n===40?n+1:n)))}function RV(n){for(;(qt=yi())&&qt<33;)dr();return yd(n)>2||yd(qt)>3?"":" "}function bV(n,e){for(;--e&&dr()&&!(qt<48||qt>102||qt>57&&qt<65||qt>70&&qt<97););return Kd(n,Xf()+(e<6&&yi()==32&&dr()==32))}function T_(n){for(;dr();)switch(qt){case n:return Qn;case 34:case 39:n!==34&&n!==39&&T_(qt);break;case 40:n===41&&T_(n);break;case 92:dr();break}return Qn}function AV(n,e){for(;dr()&&n+qt!==57;)if(n+qt===84&&yi()===47)break;return"/*"+Kd(e,Qn-1)+"*"+ym(n===47?n:dr())}function CV(n){for(;!yd(yi());)dr();return Kd(n,Qn)}function PV(n){return Zb(ep("",null,null,null,[""],n=Xb(n),0,[0],n))}function ep(n,e,t,r,i,o,l,c,d){for(var f=0,m=0,y=l,v=0,S=0,T=0,R=1,b=1,L=1,V=0,M="",$=i,B=o,q=r,D=M;b;)switch(T=V,V=dr()){case 40:if(T!=108&&pn(D,y-1)==58){E_(D+=Xe(Zf(V),"&","&\f"),"&\f")!=-1&&(L=-1);break}case 34:case 39:case 91:D+=Zf(V);break;case 9:case 10:case 13:case 32:D+=RV(T);break;case 92:D+=bV(Xf()-1,7);continue;case 47:switch(yi()){case 42:case 47:Nf(xV(AV(dr(),Xf()),e,t),d);break;default:D+="/"}break;case 123*R:c[f++]=hi(D)*L;case 125*R:case 59:case 0:switch(V){case 0:case 125:b=0;case 59+m:L==-1&&(D=Xe(D,/\f/g,"")),S>0&&hi(D)-y&&Nf(S>32?pS(D+";",r,t,y-1):pS(Xe(D," ","")+";",r,t,y-2),d);break;case 59:D+=";";default:if(Nf(q=fS(D,e,t,f,m,i,c,M,$=[],B=[],y),o),V===123)if(m===0)ep(D,e,q,q,$,o,y,c,B);else switch(v===99&&pn(D,3)===110?100:v){case 100:case 108:case 109:case 115:ep(n,q,q,r&&Nf(fS(n,q,q,0,0,i,c,M,i,$=[],y),B),i,B,y,c,r?$:B);break;default:ep(D,q,q,q,[""],B,0,c,B)}}f=m=S=0,R=L=1,M=D="",y=l;break;case 58:y=1+hi(D),S=T;default:if(R<1){if(V==123)--R;else if(V==125&&R++==0&&IV()==125)continue}switch(D+=ym(V),V*R){case 38:L=m>0?1:(D+="\f",-1);break;case 44:c[f++]=(hi(D)-1)*L,L=1;break;case 64:yi()===45&&(D+=Zf(dr())),v=yi(),m=y=hi(M=D+=CV(Xf())),V++;break;case 45:T===45&&hi(D)==2&&(R=0)}}return o}function fS(n,e,t,r,i,o,l,c,d,f,m){for(var y=i-1,v=i===0?o:[""],S=xv(v),T=0,R=0,b=0;T<r;++T)for(var L=0,V=gd(n,y+1,y=_V(R=l[T])),M=n;L<S;++L)(M=Yb(R>0?v[L]+" "+V:Xe(V,/&\f/g,v[L])))&&(d[b++]=M);return vm(n,e,t,i===0?Cv:c,d,f,m)}function xV(n,e,t){return vm(n,e,t,Gb,ym(SV()),gd(n,2,-2),0)}function pS(n,e,t,r){return vm(n,e,t,Pv,gd(n,0,r),gd(n,r+1,-1),r)}function $l(n,e){for(var t="",r=xv(n),i=0;i<r;i++)t+=e(n[i],i,n,e)||"";return t}function kV(n,e,t,r){switch(n.type){case yV:if(n.children.length)break;case gV:case Pv:return n.return=n.return||n.value;case Gb:return"";case Qb:return n.return=n.value+"{"+$l(n.children,r)+"}";case Cv:n.value=n.props.join(",")}return hi(t=$l(n.children,r))?n.return=n.value+"{"+t+"}":""}function OV(n){var e=xv(n);return function(t,r,i,o){for(var l="",c=0;c<e;c++)l+=n[c](t,r,i,o)||"";return l}}function NV(n){return function(e){e.root||(e=e.return)&&n(e)}}function eA(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var DV=function(e,t,r){for(var i=0,o=0;i=o,o=yi(),i===38&&o===12&&(t[r]=1),!yd(o);)dr();return Kd(e,Qn)},VV=function(e,t){var r=-1,i=44;do switch(yd(i)){case 0:i===38&&yi()===12&&(t[r]=1),e[r]+=DV(Qn-1,t,r);break;case 2:e[r]+=Zf(i);break;case 4:if(i===44){e[++r]=yi()===58?"&\f":"",t[r]=e[r].length;break}default:e[r]+=ym(i)}while(i=dr());return e},LV=function(e,t){return Zb(VV(Xb(e),t))},mS=new WeakMap,MV=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!mS.get(r))&&!i){mS.set(e,!0);for(var o=[],l=LV(t,o),c=r.props,d=0,f=0;d<l.length;d++)for(var m=0;m<c.length;m++,f++)e.props[f]=o[d]?l[d].replace(/&\f/g,c[m]):c[m]+" "+l[d]}}},FV=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function tA(n,e){switch(wV(n,e)){case 5103:return Je+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Je+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return Je+n+Tp+n+Tn+n+n;case 6828:case 4268:return Je+n+Tn+n+n;case 6165:return Je+n+Tn+"flex-"+n+n;case 5187:return Je+n+Xe(n,/(\w+).+(:[^]+)/,Je+"box-$1$2"+Tn+"flex-$1$2")+n;case 5443:return Je+n+Tn+"flex-item-"+Xe(n,/flex-|-self/,"")+n;case 4675:return Je+n+Tn+"flex-line-pack"+Xe(n,/align-content|flex-|-self/,"")+n;case 5548:return Je+n+Tn+Xe(n,"shrink","negative")+n;case 5292:return Je+n+Tn+Xe(n,"basis","preferred-size")+n;case 6060:return Je+"box-"+Xe(n,"-grow","")+Je+n+Tn+Xe(n,"grow","positive")+n;case 4554:return Je+Xe(n,/([^-])(transform)/g,"$1"+Je+"$2")+n;case 6187:return Xe(Xe(Xe(n,/(zoom-|grab)/,Je+"$1"),/(image-set)/,Je+"$1"),n,"")+n;case 5495:case 3959:return Xe(n,/(image-set\([^]*)/,Je+"$1$`$1");case 4968:return Xe(Xe(n,/(.+:)(flex-)?(.*)/,Je+"box-pack:$3"+Tn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Je+n+n;case 4095:case 3583:case 4068:case 2532:return Xe(n,/(.+)-inline(.+)/,Je+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(hi(n)-1-e>6)switch(pn(n,e+1)){case 109:if(pn(n,e+4)!==45)break;case 102:return Xe(n,/(.+:)(.+)-([^]+)/,"$1"+Je+"$2-$3$1"+Tp+(pn(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~E_(n,"stretch")?tA(Xe(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(pn(n,e+1)!==115)break;case 6444:switch(pn(n,hi(n)-3-(~E_(n,"!important")&&10))){case 107:return Xe(n,":",":"+Je)+n;case 101:return Xe(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Je+(pn(n,14)===45?"inline-":"")+"box$3$1"+Je+"$2$3$1"+Tn+"$2box$3")+n}break;case 5936:switch(pn(n,e+11)){case 114:return Je+n+Tn+Xe(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return Je+n+Tn+Xe(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return Je+n+Tn+Xe(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return Je+n+Tn+n+n}return n}var jV=function(e,t,r,i){if(e.length>-1&&!e.return)switch(e.type){case Pv:e.return=tA(e.value,e.length);break;case Qb:return $l([jc(e,{value:Xe(e.value,"@","@"+Je)})],i);case Cv:if(e.length)return TV(e.props,function(o){switch(EV(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return $l([jc(e,{props:[Xe(o,/:(read-\w+)/,":"+Tp+"$1")]})],i);case"::placeholder":return $l([jc(e,{props:[Xe(o,/:(plac\w+)/,":"+Je+"input-$1")]}),jc(e,{props:[Xe(o,/:(plac\w+)/,":"+Tp+"$1")]}),jc(e,{props:[Xe(o,/:(plac\w+)/,Tn+"input-$1")]})],i)}return""})}},UV=[jV],BV=function(e){var t=e.key;if(t==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(R){var b=R.getAttribute("data-emotion");b.indexOf(" ")!==-1&&(document.head.appendChild(R),R.setAttribute("data-s",""))})}var i=e.stylisPlugins||UV,o={},l,c=[];l=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(R){for(var b=R.getAttribute("data-emotion").split(" "),L=1;L<b.length;L++)o[b[L]]=!0;c.push(R)});var d,f=[MV,FV];{var m,y=[kV,NV(function(R){m.insert(R)})],v=OV(f.concat(i,y)),S=function(b){return $l(PV(b),v)};d=function(b,L,V,M){m=V,S(b?b+"{"+L.styles+"}":L.styles),M&&(T.inserted[L.name]=!0)}}var T={key:t,sheet:new mV({key:t,container:l,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:d};return T.sheet.hydrate(c),T},zV=!0;function $V(n,e,t){var r="";return t.split(" ").forEach(function(i){n[i]!==void 0?e.push(n[i]+";"):i&&(r+=i+" ")}),r}var nA=function(e,t,r){var i=e.key+"-"+t.name;(r===!1||zV===!1)&&e.registered[i]===void 0&&(e.registered[i]=t.styles)},qV=function(e,t,r){nA(e,t,r);var i=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var o=t;do e.insert(t===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function WV(n){for(var e=0,t,r=0,i=n.length;i>=4;++r,i-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var HV={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},KV=/[A-Z]|^ms/g,GV=/_EMO_([^_]+?)_([^]*?)_EMO_/g,rA=function(e){return e.charCodeAt(1)===45},gS=function(e){return e!=null&&typeof e!="boolean"},qy=eA(function(n){return rA(n)?n:n.replace(KV,"-$&").toLowerCase()}),yS=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(GV,function(r,i,o){return fi={name:i,styles:o,next:fi},i})}return HV[e]!==1&&!rA(e)&&typeof t=="number"&&t!==0?t+"px":t};function _d(n,e,t){if(t==null)return"";var r=t;if(r.__emotion_styles!==void 0)return r;switch(typeof t){case"boolean":return"";case"object":{var i=t;if(i.anim===1)return fi={name:i.name,styles:i.styles,next:fi},i.name;var o=t;if(o.styles!==void 0){var l=o.next;if(l!==void 0)for(;l!==void 0;)fi={name:l.name,styles:l.styles,next:fi},l=l.next;var c=o.styles+";";return c}return QV(n,e,t)}case"function":{if(n!==void 0){var d=fi,f=t(n);return fi=d,_d(n,e,f)}break}}var m=t;if(e==null)return m;var y=e[m];return y!==void 0?y:m}function QV(n,e,t){var r="";if(Array.isArray(t))for(var i=0;i<t.length;i++)r+=_d(n,e,t[i])+";";else for(var o in t){var l=t[o];if(typeof l!="object"){var c=l;e!=null&&e[c]!==void 0?r+=o+"{"+e[c]+"}":gS(c)&&(r+=qy(o)+":"+yS(o,c)+";")}else if(Array.isArray(l)&&typeof l[0]=="string"&&(e==null||e[l[0]]===void 0))for(var d=0;d<l.length;d++)gS(l[d])&&(r+=qy(o)+":"+yS(o,l[d])+";");else{var f=_d(n,e,l);switch(o){case"animation":case"animationName":{r+=qy(o)+":"+f+";";break}default:r+=o+"{"+f+"}"}}}return r}var _S=/label:\s*([^\s;{]+)\s*(;|$)/g,fi;function iA(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var r=!0,i="";fi=void 0;var o=n[0];if(o==null||o.raw===void 0)r=!1,i+=_d(t,e,o);else{var l=o;i+=l[0]}for(var c=1;c<n.length;c++)if(i+=_d(t,e,n[c]),r){var d=o;i+=d[c]}_S.lastIndex=0;for(var f="",m;(m=_S.exec(i))!==null;)f+="-"+m[1];var y=WV(i)+f;return{name:y,styles:i,next:fi}}var YV=function(e){return e()},JV=c_.useInsertionEffect?c_.useInsertionEffect:!1,XV=JV||YV,sA=K.createContext(typeof HTMLElement<"u"?BV({key:"css"}):null);sA.Provider;var ZV=function(e){return K.forwardRef(function(t,r){var i=K.useContext(sA);return e(t,i,r)})},eL=K.createContext({}),tL=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,nL=eA(function(n){return tL.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),rL=nL,iL=function(e){return e!=="theme"},vS=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?rL:iL},wS=function(e,t,r){var i;if(t){var o=t.shouldForwardProp;i=e.__emotion_forwardProp&&o?function(l){return e.__emotion_forwardProp(l)&&o(l)}:o}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},sL=function(e){var t=e.cache,r=e.serialized,i=e.isStringTag;return nA(t,r,i),XV(function(){return qV(t,r,i)}),null},oL=function n(e,t){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,o,l;t!==void 0&&(o=t.label,l=t.target);var c=wS(e,t,r),d=c||vS(i),f=!d("as");return function(){var m=arguments,y=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&y.push("label:"+o+";"),m[0]==null||m[0].raw===void 0)y.push.apply(y,m);else{var v=m[0];y.push(v[0]);for(var S=m.length,T=1;T<S;T++)y.push(m[T],v[T])}var R=ZV(function(b,L,V){var M=f&&b.as||i,$="",B=[],q=b;if(b.theme==null){q={};for(var D in b)q[D]=b[D];q.theme=K.useContext(eL)}typeof b.className=="string"?$=$V(L.registered,B,b.className):b.className!=null&&($=b.className+" ");var A=iA(y.concat(B),L.registered,q);$+=L.key+"-"+A.name,l!==void 0&&($+=" "+l);var P=f&&c===void 0?vS(M):d,E={};for(var k in b)f&&k==="as"||P(k)&&(E[k]=b[k]);return E.className=$,V&&(E.ref=V),K.createElement(K.Fragment,null,K.createElement(sL,{cache:L,serialized:A,isStringTag:typeof M=="string"}),K.createElement(M,E))});return R.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",R.defaultProps=e.defaultProps,R.__emotion_real=R,R.__emotion_base=i,R.__emotion_styles=y,R.__emotion_forwardProp=c,Object.defineProperty(R,"toString",{value:function(){return"."+l}}),R.withComponent=function(b,L){var V=n(b,w_({},t,L,{shouldForwardProp:wS(R,L,!0)}));return V.apply(void 0,y)},R}},aL=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],S_=oL.bind(null);aL.forEach(function(n){S_[n]=S_(n)});/**
 * @mui/styled-engine v6.4.6
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function lL(n,e){return S_(n,e)}function uL(n,e){Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=e(n.__emotion_styles))}const ES=[];function TS(n){return ES[0]=n,iA(ES)}const cL=n=>{const e=Object.keys(n).map(t=>({key:t,val:n[t]}))||[];return e.sort((t,r)=>t.val-r.val),e.reduce((t,r)=>({...t,[r.key]:r.val}),{})};function dL(n){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:r=5,...i}=n,o=cL(e),l=Object.keys(o);function c(v){return`@media (min-width:${typeof e[v]=="number"?e[v]:v}${t})`}function d(v){return`@media (max-width:${(typeof e[v]=="number"?e[v]:v)-r/100}${t})`}function f(v,S){const T=l.indexOf(S);return`@media (min-width:${typeof e[v]=="number"?e[v]:v}${t}) and (max-width:${(T!==-1&&typeof e[l[T]]=="number"?e[l[T]]:S)-r/100}${t})`}function m(v){return l.indexOf(v)+1<l.length?f(v,l[l.indexOf(v)+1]):c(v)}function y(v){const S=l.indexOf(v);return S===0?c(l[1]):S===l.length-1?d(l[S]):f(v,l[l.indexOf(v)+1]).replace("@media","@media not all and")}return{keys:l,values:o,up:c,down:d,between:f,only:m,not:y,unit:t,...i}}const hL={borderRadius:4};function oA(n=8,e=bv({spacing:n})){if(n.mui)return n;const t=(...r)=>(r.length===0?[1]:r).map(o=>{const l=e(o);return typeof l=="number"?`${l}px`:l}).join(" ");return t.mui=!0,t}function fL(n,e){var r;const t=this;if(t.vars){if(!((r=t.colorSchemes)!=null&&r[n])||typeof t.getColorSchemeSelector!="function")return{};let i=t.getColorSchemeSelector(n);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return t.palette.mode===n?e:{}}function aA(n={},...e){const{breakpoints:t={},palette:r={},spacing:i,shape:o={},...l}=n,c=dL(t),d=oA(i);let f=cr({breakpoints:c,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:d,shape:{...hL,...o}},l);return f=I2(f),f.applyStyles=fL,f=e.reduce((m,y)=>cr(m,y),f),f.unstable_sxConfig={...gm,...l==null?void 0:l.unstable_sxConfig},f.unstable_sx=function(y){return Ql({sx:y,theme:this})},f}function lA(n){const{variants:e,...t}=n,r={variants:e,style:TS(t),isProcessed:!0};return r.style===t||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=TS(i.style))}),r}const pL=aA();function Wy(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}function mL(n){return n?(e,t)=>t[n]:null}function gL(n,e,t){n.theme=vL(n.theme)?t:n.theme[e]||n.theme}function tp(n,e){const t=typeof e=="function"?e(n):e;if(Array.isArray(t))return t.flatMap(r=>tp(n,r));if(Array.isArray(t==null?void 0:t.variants)){let r;if(t.isProcessed)r=t.style;else{const{variants:i,...o}=t;r=o}return uA(n,t.variants,[r])}return t!=null&&t.isProcessed?t.style:t}function uA(n,e,t=[]){var i;let r;e:for(let o=0;o<e.length;o+=1){const l=e[o];if(typeof l.props=="function"){if(r??(r={...n,...n.ownerState,ownerState:n.ownerState}),!l.props(r))continue}else for(const c in l.props)if(n[c]!==l.props[c]&&((i=n.ownerState)==null?void 0:i[c])!==l.props[c])continue e;typeof l.style=="function"?(r??(r={...n,...n.ownerState,ownerState:n.ownerState}),t.push(l.style(r))):t.push(l.style)}return t}function yL(n={}){const{themeId:e,defaultTheme:t=pL,rootShouldForwardProp:r=Wy,slotShouldForwardProp:i=Wy}=n;function o(c){gL(c,e,t)}return(c,d={})=>{uL(c,B=>B.filter(q=>q!==Ql));const{name:f,slot:m,skipVariantsResolver:y,skipSx:v,overridesResolver:S=mL(EL(m)),...T}=d,R=y!==void 0?y:m&&m!=="Root"&&m!=="root"||!1,b=v||!1;let L=Wy;m==="Root"||m==="root"?L=r:m?L=i:wL(c)&&(L=void 0);const V=lL(c,{shouldForwardProp:L,label:_L(),...T}),M=B=>{if(typeof B=="function"&&B.__emotion_real!==B)return function(D){return tp(D,B)};if(Gi(B)){const q=lA(B);return q.variants?function(A){return tp(A,q)}:q.style}return B},$=(...B)=>{const q=[],D=B.map(M),A=[];if(q.push(o),f&&S&&A.push(function(x){var pe,oe;const X=(oe=(pe=x.theme.components)==null?void 0:pe[f])==null?void 0:oe.styleOverrides;if(!X)return null;const F={};for(const Z in X)F[Z]=tp(x,X[Z]);return S(x,F)}),f&&!R&&A.push(function(x){var F,pe;const O=x.theme,X=(pe=(F=O==null?void 0:O.components)==null?void 0:F[f])==null?void 0:pe.variants;return X?uA(x,X):null}),b||A.push(Ql),Array.isArray(D[0])){const k=D.shift(),x=new Array(q.length).fill(""),O=new Array(A.length).fill("");let X;X=[...x,...k,...O],X.raw=[...x,...k.raw,...O],q.unshift(X)}const P=[...q,...D,...A],E=V(...P);return c.muiName&&(E.muiName=c.muiName),E};return V.withConfig&&($.withConfig=V.withConfig),$}}function _L(n,e){return void 0}function vL(n){for(const e in n)return!1;return!0}function wL(n){return typeof n=="string"&&n.charCodeAt(0)>96}function EL(n){return n&&n.charAt(0).toLowerCase()+n.slice(1)}function kv(n,e=0,t=1){return Bb(n,e,t)}function TL(n){n=n.slice(1);const e=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let t=n.match(e);return t&&t[0].length===1&&(t=t.map(r=>r+r)),t?`rgb${t.length===4?"a":""}(${t.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function ro(n){if(n.type)return n;if(n.charAt(0)==="#")return ro(TL(n));const e=n.indexOf("("),t=n.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(t))throw new Error(ya(9,n));let r=n.substring(e+1,n.length-1),i;if(t==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(ya(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:t,values:r,colorSpace:i}}const SL=n=>{const e=ro(n);return e.values.slice(0,3).map((t,r)=>e.type.includes("hsl")&&r!==0?`${t}%`:t).join(" ")},Qc=(n,e)=>{try{return SL(n)}catch{return n}};function wm(n){const{type:e,colorSpace:t}=n;let{values:r}=n;return e.includes("rgb")?r=r.map((i,o)=>o<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${t} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function cA(n){n=ro(n);const{values:e}=n,t=e[0],r=e[1]/100,i=e[2]/100,o=r*Math.min(i,1-i),l=(f,m=(f+t/30)%12)=>i-o*Math.max(Math.min(m-3,9-m,1),-1);let c="rgb";const d=[Math.round(l(0)*255),Math.round(l(8)*255),Math.round(l(4)*255)];return n.type==="hsla"&&(c+="a",d.push(e[3])),wm({type:c,values:d})}function I_(n){n=ro(n);let e=n.type==="hsl"||n.type==="hsla"?ro(cA(n)).values:n.values;return e=e.map(t=>(n.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function IL(n,e){const t=I_(n),r=I_(e);return(Math.max(t,r)+.05)/(Math.min(t,r)+.05)}function RL(n,e){return n=ro(n),e=kv(e),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${e}`:n.values[3]=e,wm(n)}function Df(n,e,t){try{return RL(n,e)}catch{return n}}function Ov(n,e){if(n=ro(n),e=kv(e),n.type.includes("hsl"))n.values[2]*=1-e;else if(n.type.includes("rgb")||n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]*=1-e;return wm(n)}function ot(n,e,t){try{return Ov(n,e)}catch{return n}}function Nv(n,e){if(n=ro(n),e=kv(e),n.type.includes("hsl"))n.values[2]+=(100-n.values[2])*e;else if(n.type.includes("rgb"))for(let t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;else if(n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]+=(1-n.values[t])*e;return wm(n)}function at(n,e,t){try{return Nv(n,e)}catch{return n}}function bL(n,e=.15){return I_(n)>.5?Ov(n,e):Nv(n,e)}function Vf(n,e,t){try{return bL(n,e)}catch{return n}}const AL=K.createContext(void 0);function CL(n){const{theme:e,name:t,props:r}=n;if(!e||!e.components||!e.components[t])return r;const i=e.components[t];return i.defaultProps?v_(i.defaultProps,r):!i.styleOverrides&&!i.variants?v_(i,r):r}function PL({props:n,name:e}){const t=K.useContext(AL);return CL({props:n,name:e,theme:{components:t}})}const SS={theme:void 0};function xL(n){let e,t;return function(i){let o=e;return(o===void 0||i.theme!==t)&&(SS.theme=i.theme,o=lA(n(SS)),e=o,t=i.theme),o}}function kL(n=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${n?`${n}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${n?`${n}-`:""}${r}${e(...i)})`}const IS=(n,e,t,r=[])=>{let i=n;e.forEach((o,l)=>{l===e.length-1?Array.isArray(i)?i[Number(o)]=t:i&&typeof i=="object"&&(i[o]=t):i&&typeof i=="object"&&(i[o]||(i[o]=r.includes(o)?[]:{}),i=i[o])})},OL=(n,e,t)=>{function r(i,o=[],l=[]){Object.entries(i).forEach(([c,d])=>{(!t||t&&!t([...o,c]))&&d!=null&&(typeof d=="object"&&Object.keys(d).length>0?r(d,[...o,c],Array.isArray(d)?[...l,c]:l):e([...o,c],d,l))})}r(n)},NL=(n,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>n.includes(r))||n[n.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function Hy(n,e){const{prefix:t,shouldSkipGeneratingVar:r}=e||{},i={},o={},l={};return OL(n,(c,d,f)=>{if((typeof d=="string"||typeof d=="number")&&(!r||!r(c,d))){const m=`--${t?`${t}-`:""}${c.join("-")}`,y=NL(c,d);Object.assign(i,{[m]:y}),IS(o,c,`var(${m})`,f),IS(l,c,`var(${m}, ${y})`,f)}},c=>c[0]==="vars"),{css:i,vars:o,varsWithDefaults:l}}function DL(n,e={}){const{getSelector:t=b,disableCssColorScheme:r,colorSchemeSelector:i}=e,{colorSchemes:o={},components:l,defaultColorScheme:c="light",...d}=n,{vars:f,css:m,varsWithDefaults:y}=Hy(d,e);let v=y;const S={},{[c]:T,...R}=o;if(Object.entries(R||{}).forEach(([M,$])=>{const{vars:B,css:q,varsWithDefaults:D}=Hy($,e);v=cr(v,D),S[M]={css:q,vars:B}}),T){const{css:M,vars:$,varsWithDefaults:B}=Hy(T,e);v=cr(v,B),S[c]={css:M,vars:$}}function b(M,$){var q,D;let B=i;if(i==="class"&&(B=".%s"),i==="data"&&(B="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(B=`[${i}="%s"]`),M){if(B==="media")return n.defaultColorScheme===M?":root":{[`@media (prefers-color-scheme: ${((D=(q=o[M])==null?void 0:q.palette)==null?void 0:D.mode)||M})`]:{":root":$}};if(B)return n.defaultColorScheme===M?`:root, ${B.replace("%s",String(M))}`:B.replace("%s",String(M))}return":root"}return{vars:v,generateThemeVars:()=>{let M={...f};return Object.entries(S).forEach(([,{vars:$}])=>{M=cr(M,$)}),M},generateStyleSheets:()=>{var A,P;const M=[],$=n.defaultColorScheme||"light";function B(E,k){Object.keys(k).length&&M.push(typeof E=="string"?{[E]:{...k}}:E)}B(t(void 0,{...m}),m);const{[$]:q,...D}=S;if(q){const{css:E}=q,k=(P=(A=o[$])==null?void 0:A.palette)==null?void 0:P.mode,x=!r&&k?{colorScheme:k,...E}:{...E};B(t($,{...x}),x)}return Object.entries(D).forEach(([E,{css:k}])=>{var X,F;const x=(F=(X=o[E])==null?void 0:X.palette)==null?void 0:F.mode,O=!r&&x?{colorScheme:x,...k}:{...k};B(t(E,{...O}),O)}),M}}}function VL(n){return function(t){return n==="media"?`@media (prefers-color-scheme: ${t})`:n?n.startsWith("data-")&&!n.includes("%s")?`[${n}="${t}"] &`:n==="class"?`.${t} &`:n==="data"?`[data-${t}] &`:`${n.replace("%s",t)} &`:"&"}}const vd={black:"#000",white:"#fff"},LL={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Il={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Rl={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Uc={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},bl={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Al={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Cl={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"};function dA(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:vd.white,default:vd.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const ML=dA();function hA(){return{text:{primary:vd.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:vd.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const RS=hA();function bS(n,e,t,r){const i=r.light||r,o=r.dark||r*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=Nv(n.main,i):e==="dark"&&(n.dark=Ov(n.main,o)))}function FL(n="light"){return n==="dark"?{main:bl[200],light:bl[50],dark:bl[400]}:{main:bl[700],light:bl[400],dark:bl[800]}}function jL(n="light"){return n==="dark"?{main:Il[200],light:Il[50],dark:Il[400]}:{main:Il[500],light:Il[300],dark:Il[700]}}function UL(n="light"){return n==="dark"?{main:Rl[500],light:Rl[300],dark:Rl[700]}:{main:Rl[700],light:Rl[400],dark:Rl[800]}}function BL(n="light"){return n==="dark"?{main:Al[400],light:Al[300],dark:Al[700]}:{main:Al[700],light:Al[500],dark:Al[900]}}function zL(n="light"){return n==="dark"?{main:Cl[400],light:Cl[300],dark:Cl[700]}:{main:Cl[800],light:Cl[500],dark:Cl[900]}}function $L(n="light"){return n==="dark"?{main:Uc[400],light:Uc[300],dark:Uc[700]}:{main:"#ed6c02",light:Uc[500],dark:Uc[900]}}function Dv(n){const{mode:e="light",contrastThreshold:t=3,tonalOffset:r=.2,...i}=n,o=n.primary||FL(e),l=n.secondary||jL(e),c=n.error||UL(e),d=n.info||BL(e),f=n.success||zL(e),m=n.warning||$L(e);function y(R){return IL(R,RS.text.primary)>=t?RS.text.primary:ML.text.primary}const v=({color:R,name:b,mainShade:L=500,lightShade:V=300,darkShade:M=700})=>{if(R={...R},!R.main&&R[L]&&(R.main=R[L]),!R.hasOwnProperty("main"))throw new Error(ya(11,b?` (${b})`:"",L));if(typeof R.main!="string")throw new Error(ya(12,b?` (${b})`:"",JSON.stringify(R.main)));return bS(R,"light",V,r),bS(R,"dark",M,r),R.contrastText||(R.contrastText=y(R.main)),R};let S;return e==="light"?S=dA():e==="dark"&&(S=hA()),cr({common:{...vd},mode:e,primary:v({color:o,name:"primary"}),secondary:v({color:l,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:v({color:c,name:"error"}),warning:v({color:m,name:"warning"}),info:v({color:d,name:"info"}),success:v({color:f,name:"success"}),grey:LL,contrastThreshold:t,getContrastText:y,augmentColor:v,tonalOffset:r,...S},i)}function qL(n){const e={};return Object.entries(n).forEach(r=>{const[i,o]=r;typeof o=="object"&&(e[i]=`${o.fontStyle?`${o.fontStyle} `:""}${o.fontVariant?`${o.fontVariant} `:""}${o.fontWeight?`${o.fontWeight} `:""}${o.fontStretch?`${o.fontStretch} `:""}${o.fontSize||""}${o.lineHeight?`/${o.lineHeight} `:""}${o.fontFamily||""}`)}),e}function WL(n,e){return{toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}},...e}}function HL(n){return Math.round(n*1e5)/1e5}const AS={textTransform:"uppercase"},CS='"Roboto", "Helvetica", "Arial", sans-serif';function KL(n,e){const{fontFamily:t=CS,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:o=400,fontWeightMedium:l=500,fontWeightBold:c=700,htmlFontSize:d=16,allVariants:f,pxToRem:m,...y}=typeof e=="function"?e(n):e,v=r/14,S=m||(b=>`${b/d*v}rem`),T=(b,L,V,M,$)=>({fontFamily:t,fontWeight:b,fontSize:S(L),lineHeight:V,...t===CS?{letterSpacing:`${HL(M/L)}em`}:{},...$,...f}),R={h1:T(i,96,1.167,-1.5),h2:T(i,60,1.2,-.5),h3:T(o,48,1.167,0),h4:T(o,34,1.235,.25),h5:T(o,24,1.334,0),h6:T(l,20,1.6,.15),subtitle1:T(o,16,1.75,.15),subtitle2:T(l,14,1.57,.1),body1:T(o,16,1.5,.15),body2:T(o,14,1.43,.15),button:T(l,14,1.75,.4,AS),caption:T(o,12,1.66,.4),overline:T(o,12,2.66,1,AS),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return cr({htmlFontSize:d,pxToRem:S,fontFamily:t,fontSize:r,fontWeightLight:i,fontWeightRegular:o,fontWeightMedium:l,fontWeightBold:c,...R},y,{clone:!1})}const GL=.2,QL=.14,YL=.12;function vt(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${GL})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${QL})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${YL})`].join(",")}const JL=["none",vt(0,2,1,-1,0,1,1,0,0,1,3,0),vt(0,3,1,-2,0,2,2,0,0,1,5,0),vt(0,3,3,-2,0,3,4,0,0,1,8,0),vt(0,2,4,-1,0,4,5,0,0,1,10,0),vt(0,3,5,-1,0,5,8,0,0,1,14,0),vt(0,3,5,-1,0,6,10,0,0,1,18,0),vt(0,4,5,-2,0,7,10,1,0,2,16,1),vt(0,5,5,-3,0,8,10,1,0,3,14,2),vt(0,5,6,-3,0,9,12,1,0,3,16,2),vt(0,6,6,-3,0,10,14,1,0,4,18,3),vt(0,6,7,-4,0,11,15,1,0,4,20,3),vt(0,7,8,-4,0,12,17,2,0,5,22,4),vt(0,7,8,-4,0,13,19,2,0,5,24,4),vt(0,7,9,-4,0,14,21,2,0,5,26,4),vt(0,8,9,-5,0,15,22,2,0,6,28,5),vt(0,8,10,-5,0,16,24,2,0,6,30,5),vt(0,8,11,-5,0,17,26,2,0,6,32,5),vt(0,9,11,-5,0,18,28,2,0,7,34,6),vt(0,9,12,-6,0,19,29,2,0,7,36,6),vt(0,10,13,-6,0,20,31,3,0,8,38,7),vt(0,10,13,-6,0,21,33,3,0,8,40,7),vt(0,10,14,-6,0,22,35,3,0,8,42,7),vt(0,11,14,-7,0,23,36,3,0,9,44,8),vt(0,11,15,-7,0,24,38,3,0,9,46,8)],XL={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},ZL={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function PS(n){return`${Math.round(n)}ms`}function eM(n){if(!n)return 0;const e=n/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function tM(n){const e={...XL,...n.easing},t={...ZL,...n.duration};return{getAutoHeightDuration:eM,create:(i=["all"],o={})=>{const{duration:l=t.standard,easing:c=e.easeInOut,delay:d=0,...f}=o;return(Array.isArray(i)?i:[i]).map(m=>`${m} ${typeof l=="string"?l:PS(l)} ${c} ${typeof d=="string"?d:PS(d)}`).join(",")},...n,easing:e,duration:t}}const nM={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function rM(n){return Gi(n)||typeof n>"u"||typeof n=="string"||typeof n=="boolean"||typeof n=="number"||Array.isArray(n)}function fA(n={}){const e={...n};function t(r){const i=Object.entries(r);for(let o=0;o<i.length;o++){const[l,c]=i[o];!rM(c)||l.startsWith("unstable_")?delete r[l]:Gi(c)&&(r[l]={...c},t(r[l]))}}return t(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function R_(n={},...e){const{breakpoints:t,mixins:r={},spacing:i,palette:o={},transitions:l={},typography:c={},shape:d,...f}=n;if(n.vars&&n.generateThemeVars===void 0)throw new Error(ya(20));const m=Dv(o),y=aA(n);let v=cr(y,{mixins:WL(y.breakpoints,r),palette:m,shadows:JL.slice(),typography:KL(m,c),transitions:tM(l),zIndex:{...nM}});return v=cr(v,f),v=e.reduce((S,T)=>cr(S,T),v),v.unstable_sxConfig={...gm,...f==null?void 0:f.unstable_sxConfig},v.unstable_sx=function(T){return Ql({sx:T,theme:this})},v.toRuntimeSource=fA,v}function iM(n){let e;return n<1?e=5.11916*n**2:e=4.5*Math.log(n+1)+2,Math.round(e*10)/1e3}const sM=[...Array(25)].map((n,e)=>{if(e===0)return"none";const t=iM(e);return`linear-gradient(rgba(255 255 255 / ${t}), rgba(255 255 255 / ${t}))`});function pA(n){return{inputPlaceholder:n==="dark"?.5:.42,inputUnderline:n==="dark"?.7:.42,switchTrackDisabled:n==="dark"?.2:.12,switchTrack:n==="dark"?.3:.38}}function mA(n){return n==="dark"?sM:[]}function oM(n){const{palette:e={mode:"light"},opacity:t,overlays:r,...i}=n,o=Dv(e);return{palette:o,opacity:{...pA(o.mode),...t},overlays:r||mA(o.mode),...i}}function aM(n){var e;return!!n[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!n[0].match(/sxConfig$/)||n[0]==="palette"&&!!((e=n[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const lM=n=>[...[...Array(25)].map((e,t)=>`--${n?`${n}-`:""}overlays-${t}`),`--${n?`${n}-`:""}palette-AppBar-darkBg`,`--${n?`${n}-`:""}palette-AppBar-darkColor`],uM=n=>(e,t)=>{const r=n.rootSelector||":root",i=n.colorSchemeSelector;let o=i;if(i==="class"&&(o=".%s"),i==="data"&&(o="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(o=`[${i}="%s"]`),n.defaultColorScheme===e){if(e==="dark"){const l={};return lM(n.cssVarPrefix).forEach(c=>{l[c]=t[c],delete t[c]}),o==="media"?{[r]:t,"@media (prefers-color-scheme: dark)":{[r]:l}}:o?{[o.replace("%s",e)]:l,[`${r}, ${o.replace("%s",e)}`]:t}:{[r]:{...t,...l}}}if(o&&o!=="media")return`${r}, ${o.replace("%s",String(e))}`}else if(e){if(o==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:t}};if(o)return o.replace("%s",String(e))}return r};function cM(n,e){e.forEach(t=>{n[t]||(n[t]={})})}function se(n,e,t){!n[e]&&t&&(n[e]=t)}function Yc(n){return typeof n!="string"||!n.startsWith("hsl")?n:cA(n)}function Wi(n,e){`${e}Channel`in n||(n[`${e}Channel`]=Qc(Yc(n[e])))}function dM(n){return typeof n=="number"?`${n}px`:typeof n=="string"||typeof n=="function"||Array.isArray(n)?n:"8px"}const ci=n=>{try{return n()}catch{}},hM=(n="mui")=>kL(n);function Ky(n,e,t,r){if(!e)return;e=e===!0?{}:e;const i=r==="dark"?"dark":"light";if(!t){n[r]=oM({...e,palette:{mode:i,...e==null?void 0:e.palette}});return}const{palette:o,...l}=R_({...t,palette:{mode:i,...e==null?void 0:e.palette}});return n[r]={...e,palette:o,opacity:{...pA(i),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||mA(i)},l}function fM(n={},...e){const{colorSchemes:t={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:o="mui",shouldSkipGeneratingVar:l=aM,colorSchemeSelector:c=t.light&&t.dark?"media":void 0,rootSelector:d=":root",...f}=n,m=Object.keys(t)[0],y=r||(t.light&&m!=="light"?"light":m),v=hM(o),{[y]:S,light:T,dark:R,...b}=t,L={...b};let V=S;if((y==="dark"&&!("dark"in t)||y==="light"&&!("light"in t))&&(V=!0),!V)throw new Error(ya(21,y));const M=Ky(L,V,f,y);T&&!L.light&&Ky(L,T,void 0,"light"),R&&!L.dark&&Ky(L,R,void 0,"dark");let $={defaultColorScheme:y,...M,cssVarPrefix:o,colorSchemeSelector:c,rootSelector:d,getCssVar:v,colorSchemes:L,font:{...qL(M.typography),...M.font},spacing:dM(f.spacing)};Object.keys($.colorSchemes).forEach(P=>{const E=$.colorSchemes[P].palette,k=x=>{const O=x.split("-"),X=O[1],F=O[2];return v(x,E[X][F])};if(E.mode==="light"&&(se(E.common,"background","#fff"),se(E.common,"onBackground","#000")),E.mode==="dark"&&(se(E.common,"background","#000"),se(E.common,"onBackground","#fff")),cM(E,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),E.mode==="light"){se(E.Alert,"errorColor",ot(E.error.light,.6)),se(E.Alert,"infoColor",ot(E.info.light,.6)),se(E.Alert,"successColor",ot(E.success.light,.6)),se(E.Alert,"warningColor",ot(E.warning.light,.6)),se(E.Alert,"errorFilledBg",k("palette-error-main")),se(E.Alert,"infoFilledBg",k("palette-info-main")),se(E.Alert,"successFilledBg",k("palette-success-main")),se(E.Alert,"warningFilledBg",k("palette-warning-main")),se(E.Alert,"errorFilledColor",ci(()=>E.getContrastText(E.error.main))),se(E.Alert,"infoFilledColor",ci(()=>E.getContrastText(E.info.main))),se(E.Alert,"successFilledColor",ci(()=>E.getContrastText(E.success.main))),se(E.Alert,"warningFilledColor",ci(()=>E.getContrastText(E.warning.main))),se(E.Alert,"errorStandardBg",at(E.error.light,.9)),se(E.Alert,"infoStandardBg",at(E.info.light,.9)),se(E.Alert,"successStandardBg",at(E.success.light,.9)),se(E.Alert,"warningStandardBg",at(E.warning.light,.9)),se(E.Alert,"errorIconColor",k("palette-error-main")),se(E.Alert,"infoIconColor",k("palette-info-main")),se(E.Alert,"successIconColor",k("palette-success-main")),se(E.Alert,"warningIconColor",k("palette-warning-main")),se(E.AppBar,"defaultBg",k("palette-grey-100")),se(E.Avatar,"defaultBg",k("palette-grey-400")),se(E.Button,"inheritContainedBg",k("palette-grey-300")),se(E.Button,"inheritContainedHoverBg",k("palette-grey-A100")),se(E.Chip,"defaultBorder",k("palette-grey-400")),se(E.Chip,"defaultAvatarColor",k("palette-grey-700")),se(E.Chip,"defaultIconColor",k("palette-grey-700")),se(E.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),se(E.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),se(E.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),se(E.LinearProgress,"primaryBg",at(E.primary.main,.62)),se(E.LinearProgress,"secondaryBg",at(E.secondary.main,.62)),se(E.LinearProgress,"errorBg",at(E.error.main,.62)),se(E.LinearProgress,"infoBg",at(E.info.main,.62)),se(E.LinearProgress,"successBg",at(E.success.main,.62)),se(E.LinearProgress,"warningBg",at(E.warning.main,.62)),se(E.Skeleton,"bg",`rgba(${k("palette-text-primaryChannel")} / 0.11)`),se(E.Slider,"primaryTrack",at(E.primary.main,.62)),se(E.Slider,"secondaryTrack",at(E.secondary.main,.62)),se(E.Slider,"errorTrack",at(E.error.main,.62)),se(E.Slider,"infoTrack",at(E.info.main,.62)),se(E.Slider,"successTrack",at(E.success.main,.62)),se(E.Slider,"warningTrack",at(E.warning.main,.62));const x=Vf(E.background.default,.8);se(E.SnackbarContent,"bg",x),se(E.SnackbarContent,"color",ci(()=>E.getContrastText(x))),se(E.SpeedDialAction,"fabHoverBg",Vf(E.background.paper,.15)),se(E.StepConnector,"border",k("palette-grey-400")),se(E.StepContent,"border",k("palette-grey-400")),se(E.Switch,"defaultColor",k("palette-common-white")),se(E.Switch,"defaultDisabledColor",k("palette-grey-100")),se(E.Switch,"primaryDisabledColor",at(E.primary.main,.62)),se(E.Switch,"secondaryDisabledColor",at(E.secondary.main,.62)),se(E.Switch,"errorDisabledColor",at(E.error.main,.62)),se(E.Switch,"infoDisabledColor",at(E.info.main,.62)),se(E.Switch,"successDisabledColor",at(E.success.main,.62)),se(E.Switch,"warningDisabledColor",at(E.warning.main,.62)),se(E.TableCell,"border",at(Df(E.divider,1),.88)),se(E.Tooltip,"bg",Df(E.grey[700],.92))}if(E.mode==="dark"){se(E.Alert,"errorColor",at(E.error.light,.6)),se(E.Alert,"infoColor",at(E.info.light,.6)),se(E.Alert,"successColor",at(E.success.light,.6)),se(E.Alert,"warningColor",at(E.warning.light,.6)),se(E.Alert,"errorFilledBg",k("palette-error-dark")),se(E.Alert,"infoFilledBg",k("palette-info-dark")),se(E.Alert,"successFilledBg",k("palette-success-dark")),se(E.Alert,"warningFilledBg",k("palette-warning-dark")),se(E.Alert,"errorFilledColor",ci(()=>E.getContrastText(E.error.dark))),se(E.Alert,"infoFilledColor",ci(()=>E.getContrastText(E.info.dark))),se(E.Alert,"successFilledColor",ci(()=>E.getContrastText(E.success.dark))),se(E.Alert,"warningFilledColor",ci(()=>E.getContrastText(E.warning.dark))),se(E.Alert,"errorStandardBg",ot(E.error.light,.9)),se(E.Alert,"infoStandardBg",ot(E.info.light,.9)),se(E.Alert,"successStandardBg",ot(E.success.light,.9)),se(E.Alert,"warningStandardBg",ot(E.warning.light,.9)),se(E.Alert,"errorIconColor",k("palette-error-main")),se(E.Alert,"infoIconColor",k("palette-info-main")),se(E.Alert,"successIconColor",k("palette-success-main")),se(E.Alert,"warningIconColor",k("palette-warning-main")),se(E.AppBar,"defaultBg",k("palette-grey-900")),se(E.AppBar,"darkBg",k("palette-background-paper")),se(E.AppBar,"darkColor",k("palette-text-primary")),se(E.Avatar,"defaultBg",k("palette-grey-600")),se(E.Button,"inheritContainedBg",k("palette-grey-800")),se(E.Button,"inheritContainedHoverBg",k("palette-grey-700")),se(E.Chip,"defaultBorder",k("palette-grey-700")),se(E.Chip,"defaultAvatarColor",k("palette-grey-300")),se(E.Chip,"defaultIconColor",k("palette-grey-300")),se(E.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),se(E.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),se(E.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),se(E.LinearProgress,"primaryBg",ot(E.primary.main,.5)),se(E.LinearProgress,"secondaryBg",ot(E.secondary.main,.5)),se(E.LinearProgress,"errorBg",ot(E.error.main,.5)),se(E.LinearProgress,"infoBg",ot(E.info.main,.5)),se(E.LinearProgress,"successBg",ot(E.success.main,.5)),se(E.LinearProgress,"warningBg",ot(E.warning.main,.5)),se(E.Skeleton,"bg",`rgba(${k("palette-text-primaryChannel")} / 0.13)`),se(E.Slider,"primaryTrack",ot(E.primary.main,.5)),se(E.Slider,"secondaryTrack",ot(E.secondary.main,.5)),se(E.Slider,"errorTrack",ot(E.error.main,.5)),se(E.Slider,"infoTrack",ot(E.info.main,.5)),se(E.Slider,"successTrack",ot(E.success.main,.5)),se(E.Slider,"warningTrack",ot(E.warning.main,.5));const x=Vf(E.background.default,.98);se(E.SnackbarContent,"bg",x),se(E.SnackbarContent,"color",ci(()=>E.getContrastText(x))),se(E.SpeedDialAction,"fabHoverBg",Vf(E.background.paper,.15)),se(E.StepConnector,"border",k("palette-grey-600")),se(E.StepContent,"border",k("palette-grey-600")),se(E.Switch,"defaultColor",k("palette-grey-300")),se(E.Switch,"defaultDisabledColor",k("palette-grey-600")),se(E.Switch,"primaryDisabledColor",ot(E.primary.main,.55)),se(E.Switch,"secondaryDisabledColor",ot(E.secondary.main,.55)),se(E.Switch,"errorDisabledColor",ot(E.error.main,.55)),se(E.Switch,"infoDisabledColor",ot(E.info.main,.55)),se(E.Switch,"successDisabledColor",ot(E.success.main,.55)),se(E.Switch,"warningDisabledColor",ot(E.warning.main,.55)),se(E.TableCell,"border",ot(Df(E.divider,1),.68)),se(E.Tooltip,"bg",Df(E.grey[700],.92))}Wi(E.background,"default"),Wi(E.background,"paper"),Wi(E.common,"background"),Wi(E.common,"onBackground"),Wi(E,"divider"),Object.keys(E).forEach(x=>{const O=E[x];x!=="tonalOffset"&&O&&typeof O=="object"&&(O.main&&se(E[x],"mainChannel",Qc(Yc(O.main))),O.light&&se(E[x],"lightChannel",Qc(Yc(O.light))),O.dark&&se(E[x],"darkChannel",Qc(Yc(O.dark))),O.contrastText&&se(E[x],"contrastTextChannel",Qc(Yc(O.contrastText))),x==="text"&&(Wi(E[x],"primary"),Wi(E[x],"secondary")),x==="action"&&(O.active&&Wi(E[x],"active"),O.selected&&Wi(E[x],"selected")))})}),$=e.reduce((P,E)=>cr(P,E),$);const B={prefix:o,disableCssColorScheme:i,shouldSkipGeneratingVar:l,getSelector:uM($)},{vars:q,generateThemeVars:D,generateStyleSheets:A}=DL($,B);return $.vars=q,Object.entries($.colorSchemes[$.defaultColorScheme]).forEach(([P,E])=>{$[P]=E}),$.generateThemeVars=D,$.generateStyleSheets=A,$.generateSpacing=function(){return oA(f.spacing,bv(this))},$.getColorSchemeSelector=VL(c),$.spacing=$.generateSpacing(),$.shouldSkipGeneratingVar=l,$.unstable_sxConfig={...gm,...f==null?void 0:f.unstable_sxConfig},$.unstable_sx=function(E){return Ql({sx:E,theme:this})},$.toRuntimeSource=fA,$}function xS(n,e,t){n.colorSchemes&&t&&(n.colorSchemes[e]={...t!==!0&&t,palette:Dv({...t===!0?{}:t.palette,mode:e})})}function pM(n={},...e){const{palette:t,cssVariables:r=!1,colorSchemes:i=t?void 0:{light:!0},defaultColorScheme:o=t==null?void 0:t.mode,...l}=n,c=o||"light",d=i==null?void 0:i[c],f={...i,...t?{[c]:{...typeof d!="boolean"&&d,palette:t}}:void 0};if(r===!1){if(!("colorSchemes"in n))return R_(n,...e);let m=t;"palette"in n||f[c]&&(f[c]!==!0?m=f[c].palette:c==="dark"&&(m={mode:"dark"}));const y=R_({...n,palette:m},...e);return y.defaultColorScheme=c,y.colorSchemes=f,y.palette.mode==="light"&&(y.colorSchemes.light={...f.light!==!0&&f.light,palette:y.palette},xS(y,"dark",f.dark)),y.palette.mode==="dark"&&(y.colorSchemes.dark={...f.dark!==!0&&f.dark,palette:y.palette},xS(y,"light",f.light)),y}return!t&&!("light"in f)&&c==="light"&&(f.light=!0),fM({...l,colorSchemes:f,defaultColorScheme:c,...typeof r!="boolean"&&r},...e)}const mM=pM(),gM="$$material";function gA(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const yM=n=>gA(n)&&n!=="classes",Gd=yL({themeId:gM,defaultTheme:mM,rootShouldForwardProp:yM}),Vv=xL;function yA(n){return PL(n)}function _M(n){return Sv("MuiSvgIcon",n)}Hb("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const vM=n=>{const{color:e,fontSize:t,classes:r}=n,i={root:["root",e!=="inherit"&&`color${no(e)}`,`fontSize${no(t)}`]};return zb(i,_M,r)},wM=Gd("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="inherit"&&e[`color${no(t.color)}`],e[`fontSize${no(t.fontSize)}`]]}})(Vv(({theme:n})=>{var e,t,r,i,o,l,c,d,f,m,y,v,S,T;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(i=(e=n.transitions)==null?void 0:e.create)==null?void 0:i.call(e,"fill",{duration:(r=(t=(n.vars??n).transitions)==null?void 0:t.duration)==null?void 0:r.shorter}),variants:[{props:R=>!R.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((l=(o=n.typography)==null?void 0:o.pxToRem)==null?void 0:l.call(o,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((d=(c=n.typography)==null?void 0:c.pxToRem)==null?void 0:d.call(c,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((m=(f=n.typography)==null?void 0:f.pxToRem)==null?void 0:m.call(f,35))||"2.1875rem"}},...Object.entries((n.vars??n).palette).filter(([,R])=>R&&R.main).map(([R])=>{var b,L;return{props:{color:R},style:{color:(L=(b=(n.vars??n).palette)==null?void 0:b[R])==null?void 0:L.main}}}),{props:{color:"action"},style:{color:(v=(y=(n.vars??n).palette)==null?void 0:y.action)==null?void 0:v.active}},{props:{color:"disabled"},style:{color:(T=(S=(n.vars??n).palette)==null?void 0:S.action)==null?void 0:T.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),b_=K.forwardRef(function(e,t){const r=yA({props:e,name:"MuiSvgIcon"}),{children:i,className:o,color:l="inherit",component:c="svg",fontSize:d="medium",htmlColor:f,inheritViewBox:m=!1,titleAccess:y,viewBox:v="0 0 24 24",...S}=r,T=K.isValidElement(i)&&i.type==="svg",R={...r,color:l,component:c,fontSize:d,instanceFontSize:e.fontSize,inheritViewBox:m,viewBox:v,hasSvgAsChild:T},b={};m||(b.viewBox=v);const L=vM(R);return U.jsxs(wM,{as:c,className:id(L.root,o),focusable:"false",color:f,"aria-hidden":y?void 0:!0,role:y?"img":void 0,ref:t,...b,...S,...T&&i.props,ownerState:R,children:[T?i.props.children:i,y?U.jsx("title",{children:y}):null]})});b_.muiName="SvgIcon";function _A(n,e){function t(r,i){return U.jsx(b_,{"data-testid":`${e}Icon`,ref:i,...r,children:n})}return t.muiName=b_.muiName,K.memo(K.forwardRef(t))}const EM=_A(U.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),TM=_A(U.jsx("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}),"StarBorder");function SM(n){return Sv("MuiRating",n)}const Bc=Hb("MuiRating",["root","sizeSmall","sizeMedium","sizeLarge","readOnly","disabled","focusVisible","visuallyHidden","pristine","label","labelEmptyValueActive","icon","iconEmpty","iconFilled","iconHover","iconFocus","iconActive","decimal"]);function IM(n){const e=n.toString().split(".")[1];return e?e.length:0}function Gy(n,e){if(n==null)return n;const t=Math.round(n/e)*e;return Number(t.toFixed(IM(e)))}const RM=n=>{const{classes:e,size:t,readOnly:r,disabled:i,emptyValueFocused:o,focusVisible:l}=n,c={root:["root",`size${no(t)}`,i&&"disabled",l&&"focusVisible",r&&"readOnly"],label:["label","pristine"],labelEmptyValue:[o&&"labelEmptyValueActive"],icon:["icon"],iconEmpty:["iconEmpty"],iconFilled:["iconFilled"],iconHover:["iconHover"],iconFocus:["iconFocus"],iconActive:["iconActive"],decimal:["decimal"],visuallyHidden:["visuallyHidden"]};return zb(c,SM,e)},bM=Gd("span",{name:"MuiRating",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${Bc.visuallyHidden}`]:e.visuallyHidden},e.root,e[`size${no(t.size)}`],t.readOnly&&e.readOnly]}})(Vv(({theme:n})=>({display:"inline-flex",position:"relative",fontSize:n.typography.pxToRem(24),color:"#faaf00",cursor:"pointer",textAlign:"left",width:"min-content",WebkitTapHighlightColor:"transparent",[`&.${Bc.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${Bc.focusVisible} .${Bc.iconActive}`]:{outline:"1px solid #999"},[`& .${Bc.visuallyHidden}`]:l2,variants:[{props:{size:"small"},style:{fontSize:n.typography.pxToRem(18)}},{props:{size:"large"},style:{fontSize:n.typography.pxToRem(30)}},{props:({ownerState:e})=>e.readOnly,style:{pointerEvents:"none"}}]}))),vA=Gd("label",{name:"MuiRating",slot:"Label",overridesResolver:({ownerState:n},e)=>[e.label,n.emptyValueFocused&&e.labelEmptyValueActive]})({cursor:"inherit",variants:[{props:({ownerState:n})=>n.emptyValueFocused,style:{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"}}]}),AM=Gd("span",{name:"MuiRating",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.iconEmpty&&e.iconEmpty,t.iconFilled&&e.iconFilled,t.iconHover&&e.iconHover,t.iconFocus&&e.iconFocus,t.iconActive&&e.iconActive]}})(Vv(({theme:n})=>({display:"flex",transition:n.transitions.create("transform",{duration:n.transitions.duration.shortest}),pointerEvents:"none",variants:[{props:({ownerState:e})=>e.iconActive,style:{transform:"scale(1.2)"}},{props:({ownerState:e})=>e.iconEmpty,style:{color:(n.vars||n).palette.action.disabled}}]}))),CM=Gd("span",{name:"MuiRating",slot:"Decimal",shouldForwardProp:n=>gA(n)&&n!=="iconActive",overridesResolver:(n,e)=>{const{iconActive:t}=n;return[e.decimal,t&&e.iconActive]}})({position:"relative",variants:[{props:({iconActive:n})=>n,style:{transform:"scale(1.2)"}}]});function PM(n){const{value:e,...t}=n;return U.jsx("span",{...t})}function kS(n){const{classes:e,disabled:t,emptyIcon:r,focus:i,getLabelText:o,highlightSelectedOnly:l,hover:c,icon:d,IconContainerComponent:f,isActive:m,itemValue:y,labelProps:v,name:S,onBlur:T,onChange:R,onClick:b,onFocus:L,readOnly:V,ownerState:M,ratingValue:$,ratingValueRounded:B}=n,q=l?y===$:y<=$,D=y<=c,A=y<=i,P=y===B,E=`${S}-${Wb()}`,k=U.jsx(AM,{as:f,value:y,className:id(e.icon,q?e.iconFilled:e.iconEmpty,D&&e.iconHover,A&&e.iconFocus,m&&e.iconActive),ownerState:{...M,iconEmpty:!q,iconFilled:q,iconHover:D,iconFocus:A,iconActive:m},children:r&&!q?r:d});return V?U.jsx("span",{...v,children:k}):U.jsxs(K.Fragment,{children:[U.jsxs(vA,{ownerState:{...M,emptyValueFocused:void 0},htmlFor:E,...v,children:[k,U.jsx("span",{className:e.visuallyHidden,children:o(y)})]}),U.jsx("input",{className:e.visuallyHidden,onFocus:L,onBlur:T,onChange:R,onClick:b,disabled:t,value:y,id:E,type:"radio",name:S,checked:P})]})}const xM=U.jsx(EM,{fontSize:"inherit"}),kM=U.jsx(TM,{fontSize:"inherit"});function OM(n){return`${n||"0"} Star${n!==1?"s":""}`}const NM=K.forwardRef(function(e,t){const r=yA({name:"MuiRating",props:e}),{component:i="span",className:o,defaultValue:l=null,disabled:c=!1,emptyIcon:d=kM,emptyLabelText:f="Empty",getLabelText:m=OM,highlightSelectedOnly:y=!1,icon:v=xM,IconContainerComponent:S=PM,max:T=5,name:R,onChange:b,onChangeActive:L,onMouseLeave:V,onMouseMove:M,precision:$=1,readOnly:B=!1,size:q="medium",value:D,...A}=r,P=Wb(R),[E,k]=g2({controlled:D,default:l,name:"Rating"}),x=Gy(E,$),O=c2(),[{hover:X,focus:F},pe]=K.useState({hover:-1,focus:-1});let oe=x;X!==-1&&(oe=X),F!==-1&&(oe=F);const[Z,fe]=K.useState(!1),de=K.useRef(),W=y2(de,t),ie=et=>{M&&M(et);const ht=de.current,{right:Kt,left:xr,width:fr}=ht.getBoundingClientRect();let pr;O?pr=(Kt-et.clientX)/fr:pr=(et.clientX-xr)/fr;let Vn=Gy(T*pr+$/2,$);Vn=Bb(Vn,$,T),pe(Ln=>Ln.hover===Vn&&Ln.focus===Vn?Ln:{hover:Vn,focus:Vn}),fe(!1),L&&X!==Vn&&L(et,Vn)},Te=et=>{V&&V(et);const ht=-1;pe({hover:ht,focus:ht}),L&&X!==ht&&L(et,ht)},Ce=et=>{let ht=et.target.value===""?null:parseFloat(et.target.value);X!==-1&&(ht=X),k(ht),b&&b(et,ht)},De=et=>{et.clientX===0&&et.clientY===0||(pe({hover:-1,focus:-1}),k(null),b&&parseFloat(et.target.value)===x&&b(et,null))},Me=et=>{sS(et.target)&&fe(!0);const ht=parseFloat(et.target.value);pe(Kt=>({hover:Kt.hover,focus:ht}))},We=et=>{if(X!==-1)return;sS(et.target)||fe(!1);const ht=-1;pe(Kt=>({hover:Kt.hover,focus:ht}))},[ze,Ze]=K.useState(!1),gt={...r,component:i,defaultValue:l,disabled:c,emptyIcon:d,emptyLabelText:f,emptyValueFocused:ze,focusVisible:Z,getLabelText:m,icon:v,IconContainerComponent:S,max:T,precision:$,readOnly:B,size:q},tn=RM(gt);return U.jsxs(bM,{as:i,ref:W,onMouseMove:ie,onMouseLeave:Te,className:id(tn.root,o,B&&"MuiRating-readOnly"),ownerState:gt,role:B?"img":null,"aria-label":B?m(oe):null,...A,children:[Array.from(new Array(T)).map((et,ht)=>{const Kt=ht+1,xr={classes:tn,disabled:c,emptyIcon:d,focus:F,getLabelText:m,highlightSelectedOnly:y,hover:X,icon:v,IconContainerComponent:S,name:P,onBlur:We,onChange:Ce,onClick:De,onFocus:Me,ratingValue:oe,ratingValueRounded:x,readOnly:B,ownerState:gt},fr=Kt===Math.ceil(oe)&&(X!==-1||F!==-1);if($<1){const pr=Array.from(new Array(1/$));return U.jsx(CM,{className:id(tn.decimal,fr&&tn.iconActive),ownerState:gt,iconActive:fr,children:pr.map((Vn,Ln)=>{const Yn=Gy(Kt-1+(Ln+1)*$,$);return U.jsx(kS,{...xr,isActive:!1,itemValue:Yn,labelProps:{style:pr.length-1===Ln?{}:{width:Yn===oe?`${(Ln+1)*$*100}%`:"0%",overflow:"hidden",position:"absolute"}}},Yn)})},Kt)}return U.jsx(kS,{...xr,isActive:fr,itemValue:Kt},Kt)}),!B&&!c&&U.jsxs(vA,{className:id(tn.label,tn.labelEmptyValue),ownerState:gt,children:[U.jsx("input",{className:tn.visuallyHidden,value:"",id:`${P}-empty`,type:"radio",name:P,checked:x==null,onFocus:()=>Ze(!0),onBlur:()=>Ze(!1),onChange:Ce}),U.jsx("span",{className:tn.visuallyHidden,children:f})]})]})});var np={exports:{}};/*! @preserve
 * numeral.js
 * version : 2.0.6
 * author : Adam Draper
 * license : MIT
 * http://adamwdraper.github.com/Numeral-js/
 */var DM=np.exports,OS;function VM(){return OS||(OS=1,function(n){(function(e,t){n.exports?n.exports=t():e.numeral=t()})(DM,function(){var e,t,r="2.0.6",i={},o={},l={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},c={currentLocale:l.currentLocale,zeroFormat:l.zeroFormat,nullFormat:l.nullFormat,defaultFormat:l.defaultFormat,scalePercentBy100:l.scalePercentBy100};function d(f,m){this._input=f,this._value=m}return e=function(f){var m,y,v,S;if(e.isNumeral(f))m=f.value();else if(f===0||typeof f>"u")m=0;else if(f===null||t.isNaN(f))m=null;else if(typeof f=="string")if(c.zeroFormat&&f===c.zeroFormat)m=0;else if(c.nullFormat&&f===c.nullFormat||!f.replace(/[^0-9]+/g,"").length)m=null;else{for(y in i)if(S=typeof i[y].regexps.unformat=="function"?i[y].regexps.unformat():i[y].regexps.unformat,S&&f.match(S)){v=i[y].unformat;break}v=v||e._.stringToNumber,m=v(f)}else m=Number(f)||null;return new d(f,m)},e.version=r,e.isNumeral=function(f){return f instanceof d},e._=t={numberToFormat:function(f,m,y){var v=o[e.options.currentLocale],S=!1,T=!1,R=0,b="",L=1e12,V=1e9,M=1e6,$=1e3,B="",q=!1,D,A,P,E,k,x,O;if(f=f||0,A=Math.abs(f),e._.includes(m,"(")?(S=!0,m=m.replace(/[\(|\)]/g,"")):(e._.includes(m,"+")||e._.includes(m,"-"))&&(k=e._.includes(m,"+")?m.indexOf("+"):f<0?m.indexOf("-"):-1,m=m.replace(/[\+|\-]/g,"")),e._.includes(m,"a")&&(D=m.match(/a(k|m|b|t)?/),D=D?D[1]:!1,e._.includes(m," a")&&(b=" "),m=m.replace(new RegExp(b+"a[kmbt]?"),""),A>=L&&!D||D==="t"?(b+=v.abbreviations.trillion,f=f/L):A<L&&A>=V&&!D||D==="b"?(b+=v.abbreviations.billion,f=f/V):A<V&&A>=M&&!D||D==="m"?(b+=v.abbreviations.million,f=f/M):(A<M&&A>=$&&!D||D==="k")&&(b+=v.abbreviations.thousand,f=f/$)),e._.includes(m,"[.]")&&(T=!0,m=m.replace("[.]",".")),P=f.toString().split(".")[0],E=m.split(".")[1],x=m.indexOf(","),R=(m.split(".")[0].split(",")[0].match(/0/g)||[]).length,E?(e._.includes(E,"[")?(E=E.replace("]",""),E=E.split("["),B=e._.toFixed(f,E[0].length+E[1].length,y,E[1].length)):B=e._.toFixed(f,E.length,y),P=B.split(".")[0],e._.includes(B,".")?B=v.delimiters.decimal+B.split(".")[1]:B="",T&&Number(B.slice(1))===0&&(B="")):P=e._.toFixed(f,0,y),b&&!D&&Number(P)>=1e3&&b!==v.abbreviations.trillion)switch(P=String(Number(P)/1e3),b){case v.abbreviations.thousand:b=v.abbreviations.million;break;case v.abbreviations.million:b=v.abbreviations.billion;break;case v.abbreviations.billion:b=v.abbreviations.trillion;break}if(e._.includes(P,"-")&&(P=P.slice(1),q=!0),P.length<R)for(var X=R-P.length;X>0;X--)P="0"+P;return x>-1&&(P=P.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+v.delimiters.thousands)),m.indexOf(".")===0&&(P=""),O=P+B+(b||""),S?O=(S&&q?"(":"")+O+(S&&q?")":""):k>=0?O=k===0?(q?"-":"+")+O:O+(q?"-":"+"):q&&(O="-"+O),O},stringToNumber:function(f){var m=o[c.currentLocale],y=f,v={thousand:3,million:6,billion:9,trillion:12},S,T,R;if(c.zeroFormat&&f===c.zeroFormat)T=0;else if(c.nullFormat&&f===c.nullFormat||!f.replace(/[^0-9]+/g,"").length)T=null;else{T=1,m.delimiters.decimal!=="."&&(f=f.replace(/\./g,"").replace(m.delimiters.decimal,"."));for(S in v)if(R=new RegExp("[^a-zA-Z]"+m.abbreviations[S]+"(?:\\)|(\\"+m.currency.symbol+")?(?:\\))?)?$"),y.match(R)){T*=Math.pow(10,v[S]);break}T*=(f.split("-").length+Math.min(f.split("(").length-1,f.split(")").length-1))%2?1:-1,f=f.replace(/[^0-9\.]+/g,""),T*=Number(f)}return T},isNaN:function(f){return typeof f=="number"&&isNaN(f)},includes:function(f,m){return f.indexOf(m)!==-1},insert:function(f,m,y){return f.slice(0,y)+m+f.slice(y)},reduce:function(f,m){if(this===null)throw new TypeError("Array.prototype.reduce called on null or undefined");if(typeof m!="function")throw new TypeError(m+" is not a function");var y=Object(f),v=y.length>>>0,S=0,T;if(arguments.length===3)T=arguments[2];else{for(;S<v&&!(S in y);)S++;if(S>=v)throw new TypeError("Reduce of empty array with no initial value");T=y[S++]}for(;S<v;S++)S in y&&(T=m(T,y[S],S,y));return T},multiplier:function(f){var m=f.toString().split(".");return m.length<2?1:Math.pow(10,m[1].length)},correctionFactor:function(){var f=Array.prototype.slice.call(arguments);return f.reduce(function(m,y){var v=t.multiplier(y);return m>v?m:v},1)},toFixed:function(f,m,y,v){var S=f.toString().split("."),T=m-(v||0),R,b,L,V;return S.length===2?R=Math.min(Math.max(S[1].length,T),m):R=T,L=Math.pow(10,R),V=(y(f+"e+"+R)/L).toFixed(R),v>m-R&&(b=new RegExp("\\.?0{1,"+(v-(m-R))+"}$"),V=V.replace(b,"")),V}},e.options=c,e.formats=i,e.locales=o,e.locale=function(f){return f&&(c.currentLocale=f.toLowerCase()),c.currentLocale},e.localeData=function(f){if(!f)return o[c.currentLocale];if(f=f.toLowerCase(),!o[f])throw new Error("Unknown locale : "+f);return o[f]},e.reset=function(){for(var f in l)c[f]=l[f]},e.zeroFormat=function(f){c.zeroFormat=typeof f=="string"?f:null},e.nullFormat=function(f){c.nullFormat=typeof f=="string"?f:null},e.defaultFormat=function(f){c.defaultFormat=typeof f=="string"?f:"0.0"},e.register=function(f,m,y){if(m=m.toLowerCase(),this[f+"s"][m])throw new TypeError(m+" "+f+" already registered.");return this[f+"s"][m]=y,y},e.validate=function(f,m){var y,v,S,T,R,b,L,V;if(typeof f!="string"&&(f+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",f)),f=f.trim(),f.match(/^\d+$/))return!0;if(f==="")return!1;try{L=e.localeData(m)}catch{L=e.localeData(e.locale())}return S=L.currency.symbol,R=L.abbreviations,y=L.delimiters.decimal,L.delimiters.thousands==="."?v="\\.":v=L.delimiters.thousands,V=f.match(/^[^\d]+/),V!==null&&(f=f.substr(1),V[0]!==S)||(V=f.match(/[^\d]+$/),V!==null&&(f=f.slice(0,-1),V[0]!==R.thousand&&V[0]!==R.million&&V[0]!==R.billion&&V[0]!==R.trillion))?!1:(b=new RegExp(v+"{2}"),f.match(/[^\d.,]/g)?!1:(T=f.split(y),T.length>2?!1:T.length<2?!!T[0].match(/^\d+.*\d$/)&&!T[0].match(b):T[0].length===1?!!T[0].match(/^\d+$/)&&!T[0].match(b)&&!!T[1].match(/^\d+$/):!!T[0].match(/^\d+.*\d$/)&&!T[0].match(b)&&!!T[1].match(/^\d+$/)))},e.fn=d.prototype={clone:function(){return e(this)},format:function(f,m){var y=this._value,v=f||c.defaultFormat,S,T,R;if(m=m||Math.round,y===0&&c.zeroFormat!==null)T=c.zeroFormat;else if(y===null&&c.nullFormat!==null)T=c.nullFormat;else{for(S in i)if(v.match(i[S].regexps.format)){R=i[S].format;break}R=R||e._.numberToFormat,T=R(y,v,m)}return T},value:function(){return this._value},input:function(){return this._input},set:function(f){return this._value=Number(f),this},add:function(f){var m=t.correctionFactor.call(null,this._value,f);function y(v,S,T,R){return v+Math.round(m*S)}return this._value=t.reduce([this._value,f],y,0)/m,this},subtract:function(f){var m=t.correctionFactor.call(null,this._value,f);function y(v,S,T,R){return v-Math.round(m*S)}return this._value=t.reduce([f],y,Math.round(this._value*m))/m,this},multiply:function(f){function m(y,v,S,T){var R=t.correctionFactor(y,v);return Math.round(y*R)*Math.round(v*R)/Math.round(R*R)}return this._value=t.reduce([this._value,f],m,1),this},divide:function(f){function m(y,v,S,T){var R=t.correctionFactor(y,v);return Math.round(y*R)/Math.round(v*R)}return this._value=t.reduce([this._value,f],m),this},difference:function(f){return Math.abs(e(this._value).subtract(f).value())}},e.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(f){var m=f%10;return~~(f%100/10)===1?"th":m===1?"st":m===2?"nd":m===3?"rd":"th"},currency:{symbol:"$"}}),function(){e.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(f,m,y){var v=e._.includes(m," BPS")?" ":"",S;return f=f*1e4,m=m.replace(/\s?BPS/,""),S=e._.numberToFormat(f,m,y),e._.includes(S,")")?(S=S.split(""),S.splice(-1,0,v+"BPS"),S=S.join("")):S=S+v+"BPS",S},unformat:function(f){return+(e._.stringToNumber(f)*1e-4).toFixed(15)}})}(),function(){var f={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},m={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},y=f.suffixes.concat(m.suffixes.filter(function(S){return f.suffixes.indexOf(S)<0})),v=y.join("|");v="("+v.replace("B","B(?!PS)")+")",e.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(v)},format:function(S,T,R){var b,L=e._.includes(T,"ib")?m:f,V=e._.includes(T," b")||e._.includes(T," ib")?" ":"",M,$,B;for(T=T.replace(/\s?i?b/,""),M=0;M<=L.suffixes.length;M++)if($=Math.pow(L.base,M),B=Math.pow(L.base,M+1),S===null||S===0||S>=$&&S<B){V+=L.suffixes[M],$>0&&(S=S/$);break}return b=e._.numberToFormat(S,T,R),b+V},unformat:function(S){var T=e._.stringToNumber(S),R,b;if(T){for(R=f.suffixes.length-1;R>=0;R--){if(e._.includes(S,f.suffixes[R])){b=Math.pow(f.base,R);break}if(e._.includes(S,m.suffixes[R])){b=Math.pow(m.base,R);break}}T*=b||1}return T}})}(),function(){e.register("format","currency",{regexps:{format:/(\$)/},format:function(f,m,y){var v=e.locales[e.options.currentLocale],S={before:m.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:m.match(/([\+|\-|\)|\s|\$]*)$/)[0]},T,R,b;for(m=m.replace(/\s?\$\s?/,""),T=e._.numberToFormat(f,m,y),f>=0?(S.before=S.before.replace(/[\-\(]/,""),S.after=S.after.replace(/[\-\)]/,"")):f<0&&!e._.includes(S.before,"-")&&!e._.includes(S.before,"(")&&(S.before="-"+S.before),b=0;b<S.before.length;b++)switch(R=S.before[b],R){case"$":T=e._.insert(T,v.currency.symbol,b);break;case" ":T=e._.insert(T," ",b+v.currency.symbol.length-1);break}for(b=S.after.length-1;b>=0;b--)switch(R=S.after[b],R){case"$":T=b===S.after.length-1?T+v.currency.symbol:e._.insert(T,v.currency.symbol,-(S.after.length-(1+b)));break;case" ":T=b===S.after.length-1?T+" ":e._.insert(T," ",-(S.after.length-(1+b)+v.currency.symbol.length-1));break}return T}})}(),function(){e.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(f,m,y){var v,S=typeof f=="number"&&!e._.isNaN(f)?f.toExponential():"0e+0",T=S.split("e");return m=m.replace(/e[\+|\-]{1}0/,""),v=e._.numberToFormat(Number(T[0]),m,y),v+"e"+T[1]},unformat:function(f){var m=e._.includes(f,"e+")?f.split("e+"):f.split("e-"),y=Number(m[0]),v=Number(m[1]);v=e._.includes(f,"e-")?v*=-1:v;function S(T,R,b,L){var V=e._.correctionFactor(T,R),M=T*V*(R*V)/(V*V);return M}return e._.reduce([y,Math.pow(10,v)],S,1)}})}(),function(){e.register("format","ordinal",{regexps:{format:/(o)/},format:function(f,m,y){var v=e.locales[e.options.currentLocale],S,T=e._.includes(m," o")?" ":"";return m=m.replace(/\s?o/,""),T+=v.ordinal(f),S=e._.numberToFormat(f,m,y),S+T}})}(),function(){e.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(f,m,y){var v=e._.includes(m," %")?" ":"",S;return e.options.scalePercentBy100&&(f=f*100),m=m.replace(/\s?\%/,""),S=e._.numberToFormat(f,m,y),e._.includes(S,")")?(S=S.split(""),S.splice(-1,0,v+"%"),S=S.join("")):S=S+v+"%",S},unformat:function(f){var m=e._.stringToNumber(f);return e.options.scalePercentBy100?m*.01:m}})}(),function(){e.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(f,m,y){var v=Math.floor(f/60/60),S=Math.floor((f-v*60*60)/60),T=Math.round(f-v*60*60-S*60);return v+":"+(S<10?"0"+S:S)+":"+(T<10?"0"+T:T)},unformat:function(f){var m=f.split(":"),y=0;return m.length===3?(y=y+Number(m[0])*60*60,y=y+Number(m[1])*60,y=y+Number(m[2])):m.length===2&&(y=y+Number(m[0])*60,y=y+Number(m[1])),Number(y)}})}(),e})}(np)),np.exports}var LM=VM();const MM=fv(LM);function Lv({value:n}){const e=MM(n).format("$0,0.00");return U.jsx("div",{children:e})}const FM="_card__container_1flhx_1",jM="_button_1flhx_17",UM="_rating_1flhx_69",BM="_products_container_1flhx_79",zM="_product__flexed_1flhx_101",Jc={card__container:FM,button:jM,rating:UM,products_container:BM,product__flexed:zM},us=K.createContext(),$M=({children:n,reducer:e,initialState:t})=>U.jsx(us.Provider,{value:K.useReducer(e,t),children:n}),br={ADD_TO_BASKET:"ADD_TO_BASKET",REMOVE_FROM_BASKET:"REMOVE_FROM_BASKET",SET_USER:" SET_USER"};function Iu({product:n,flex:e,renderDesc:t,renderAdd:r}){const{image:i,title:o,id:l,rating:c={},price:d,description:f}=n,[m,y]=K.useContext(us),v=()=>{y({type:br.ADD_TO_BASKET,item:{image:i,title:o,id:l,rating:c,price:d,description:f}})};return U.jsxs("div",{className:`${Jc.card__container} ${e?Jc.product__flexed:""}`,children:[U.jsx(Gr,{to:`/products/${l}`,children:U.jsx("img",{src:i,alt:""})}),U.jsxs("div",{children:[U.jsx("h4",{children:o}),t&&U.jsx("div",{style:{maxWidth:"750px"},children:f}),U.jsxs("div",{className:Jc.rating,children:[U.jsx(NM,{value:c.rate,precision:.1}),U.jsx("small",{children:c.count})]}),U.jsx("div",{children:U.jsx(Lv,{value:d})}),r&&U.jsx("button",{className:Jc.button,onClick:v,children:"add to cart"})]})]})}function qM(){const[n,e]=K.useState([]);return K.useEffect(()=>{It.get("https://fakestoreapi.com/products").then(t=>{console.log(t);const r=t.data;e(r)}).catch(t=>{console.log(t)})},[]),U.jsx("section",{className:Jc.products_container,children:n==null?void 0:n.map((t,r)=>U.jsx(Iu,{renderAdd:!0,renderDesc:!1,product:t},r))})}var wA={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},NS=qe.createContext&&qe.createContext(wA),WM=["attr","size","title"];function HM(n,e){if(n==null)return{};var t=KM(n,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function KM(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function Sp(){return Sp=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Sp.apply(this,arguments)}function DS(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Ip(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?DS(Object(t),!0).forEach(function(r){GM(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):DS(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function GM(n,e,t){return e=QM(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function QM(n){var e=YM(n,"string");return typeof e=="symbol"?e:e+""}function YM(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function EA(n){return n&&n.map((e,t)=>qe.createElement(e.tag,Ip({key:t},e.attr),EA(e.child)))}function Ru(n){return e=>qe.createElement(JM,Sp({attr:Ip({},n.attr)},e),EA(n.child))}function JM(n){var e=t=>{var{attr:r,size:i,title:o}=n,l=HM(n,WM),c=i||t.size||"1em",d;return t.className&&(d=t.className),n.className&&(d=(d?d+" ":"")+n.className),qe.createElement("svg",Sp({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,l,{className:d,style:Ip(Ip({color:n.color||t.color},t.style),n.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),o&&qe.createElement("title",null,o),n.children)};return NS!==void 0?qe.createElement(NS.Consumer,null,t=>e(t)):e(wA)}function XM(n){return Ru({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"},child:[]}]})(n)}function ZM(n){return Ru({attr:{version:"1.1",viewBox:"0 0 17 17"},child:[{tag:"g",attr:{},child:[]},{tag:"path",attr:{d:"M8.5 0.5c-3.032 0-5.5 2.467-5.5 5.5 0 4.373 4.913 10.086 5.122 10.328l0.378 0.435 0.378-0.436c0.209-0.241 5.122-5.954 5.122-10.327 0-3.033-2.468-5.5-5.5-5.5zM8.5 15.215c-1.146-1.424-4.5-5.879-4.5-9.215 0-2.481 2.019-4.5 4.5-4.5s4.5 2.019 4.5 4.5c0 3.333-3.354 7.791-4.5 9.215zM8.5 3.139c-1.654 0-3 1.346-3 3s1.346 3 3 3 3-1.346 3-3-1.346-3-3-3zM8.5 8.139c-1.103 0-2-0.897-2-2s0.897-2 2-2 2 0.897 2 2-0.897 2-2 2z"},child:[]}]})(n)}function eF(n){return Ru({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M21.822 7.431A1 1 0 0 0 21 7H7.333L6.179 4.23A1.994 1.994 0 0 0 4.333 3H2v2h2.333l4.744 11.385A1 1 0 0 0 10 17h8c.417 0 .79-.259.937-.648l3-8a1 1 0 0 0-.115-.921zM17.307 15h-6.64l-2.5-6h11.39l-2.25 6z"},child:[]},{tag:"circle",attr:{cx:"10.5",cy:"19.5",r:"1.5"},child:[]},{tag:"circle",attr:{cx:"17.5",cy:"19.5",r:"1.5"},child:[]}]})(n)}const tF="_fixed_zr06o_9",nF="_header__container_zr06o_19",rF="_logo__container_zr06o_35",iF="_delivery_zr06o_59",sF="_search_zr06o_83",oF="_order__container_zr06o_167",aF="_language_zr06o_197",lF="_cart_zr06o_223",uF="_lower__container_zr06o_255",Ki={fixed:tF,header__container:nF,logo__container:rF,delivery:iF,search:sF,order__container:oF,language:aF,cart:lF,lower__container:uF};function cF(n){return Ru({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"},child:[]}]})(n)}function dF(){return U.jsx("div",{className:Ki.lower__container,children:U.jsxs("ul",{children:[U.jsxs("li",{children:[U.jsx(cF,{}),U.jsx("p",{children:"All"})]}),U.jsx("li",{children:"todays Deal"}),U.jsx("li",{children:"Customer Service"}),U.jsx("li",{children:"Registry"}),U.jsx("li",{children:"Gift Card"}),U.jsx("li",{children:"Sell"})]})})}const hF=()=>{};var VS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},fF=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=n[t++],l=n[t++],c=n[t++],d=((i&7)<<18|(o&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const o=n[t++],l=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|l&63)}}return e.join("")},SA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const o=n[i],l=i+1<n.length,c=l?n[i+1]:0,d=i+2<n.length,f=d?n[i+2]:0,m=o>>2,y=(o&3)<<4|c>>4;let v=(c&15)<<2|f>>6,S=f&63;d||(S=64,l||(v=64)),r.push(t[m],t[y],t[v],t[S])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(TA(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):fF(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const o=t[n.charAt(i++)],c=i<n.length?t[n.charAt(i)]:0;++i;const f=i<n.length?t[n.charAt(i)]:64;++i;const y=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||c==null||f==null||y==null)throw new pF;const v=o<<2|c>>4;if(r.push(v),f!==64){const S=c<<4&240|f>>2;if(r.push(S),y!==64){const T=f<<6&192|y;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class pF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mF=function(n){const e=TA(n);return SA.encodeByteArray(e,!0)},Rp=function(n){return mF(n).replace(/\./g,"")},Mv=function(n){try{return SA.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function bp(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!gF(t)||(n[t]=bp(n[t],e[t]));return n}function gF(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yF=()=>IA().__FIREBASE_DEFAULTS__,_F=()=>{if(typeof process>"u"||typeof VS>"u")return;const n=VS.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},vF=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Mv(n[1]);return e&&JSON.parse(e)},Em=()=>{try{return hF()||yF()||_F()||vF()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},wF=n=>{var e,t;return(t=(e=Em())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},RA=()=>{var n;return(n=Em())===null||n===void 0?void 0:n.config},bA=n=>{var e;return(e=Em())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EF{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TF(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Rp(JSON.stringify(t)),Rp(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function SF(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zt())}function IF(){var n;const e=(n=Em())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function RF(){return typeof window<"u"||AA()}function AA(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function bF(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function AF(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function CF(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function PF(){const n=Zt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function CA(){return!IF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function PA(){try{return typeof indexedDB=="object"}catch{return!1}}function xF(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kF="FirebaseError";class Ci extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=kF,Object.setPrototypeOf(this,Ci.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pa.prototype.create)}}class Pa{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],l=o?OF(o,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new Ci(i,c,r)}}function OF(n,e){return n.replace(NF,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const NF=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LS(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function DF(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ns(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const o=n[i],l=e[i];if(MS(o)&&MS(l)){if(!ns(o,l))return!1}else if(o!==l)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function MS(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qd(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Xc(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Zc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function xA(n,e){const t=new VF(n,e);return t.subscribe.bind(t)}class VF{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");LF(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Qy),i.error===void 0&&(i.error=Qy),i.complete===void 0&&(i.complete=Qy);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function LF(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Qy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lt(n){return n&&n._delegate?n._delegate:n}class rs{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MF{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new EF;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jF(e))try{this.getOrInitializeService({instanceIdentifier:na})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=na){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=na){return this.instances.has(e)}getOptions(e=na){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);r===c&&l.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:FF(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=na){return this.component?this.component.multipleInstances?e:na:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function FF(n){return n===na?void 0:n}function jF(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new MF(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv=[];var je;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(je||(je={}));const OA={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},UF=je.INFO,BF={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},zF=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=BF[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Tm{constructor(e){this.name=e,this._logLevel=UF,this._logHandler=zF,this._userLogHandler=null,Fv.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?OA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}function $F(n){Fv.forEach(e=>{e.setLogLevel(n)})}function qF(n,e){for(const t of Fv){let r=null;e&&e.level&&(r=OA[e.level]),n===null?t.userLogHandler=null:t.userLogHandler=(i,o,...l)=>{const c=l.map(d=>{if(d==null)return null;if(typeof d=="string")return d;if(typeof d=="number"||typeof d=="boolean")return d.toString();if(d instanceof Error)return d.message;try{return JSON.stringify(d)}catch{return null}}).filter(d=>d).join(" ");o>=(r??i.logLevel)&&n({level:je[o].toLowerCase(),message:c,args:l,type:i.name})}}}const WF=(n,e)=>e.some(t=>n instanceof t);let FS,jS;function HF(){return FS||(FS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function KF(){return jS||(jS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const NA=new WeakMap,A_=new WeakMap,DA=new WeakMap,Yy=new WeakMap,jv=new WeakMap;function GF(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",l)},o=()=>{t(Js(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&NA.set(t,n)}).catch(()=>{}),jv.set(e,n),e}function QF(n){if(A_.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",l),n.removeEventListener("abort",l)},o=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",l),n.addEventListener("abort",l)});A_.set(n,e)}let C_={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return A_.get(n);if(e==="objectStoreNames")return n.objectStoreNames||DA.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Js(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function YF(n){C_=n(C_)}function JF(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Jy(this),e,...t);return DA.set(r,e.sort?e.sort():[e]),Js(r)}:KF().includes(n)?function(...e){return n.apply(Jy(this),e),Js(NA.get(this))}:function(...e){return Js(n.apply(Jy(this),e))}}function XF(n){return typeof n=="function"?JF(n):(n instanceof IDBTransaction&&QF(n),WF(n,HF())?new Proxy(n,C_):n)}function Js(n){if(n instanceof IDBRequest)return GF(n);if(Yy.has(n))return Yy.get(n);const e=XF(n);return e!==n&&(Yy.set(n,e),jv.set(e,n)),e}const Jy=n=>jv.get(n);function ZF(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const l=indexedDB.open(n,e),c=Js(l);return r&&l.addEventListener("upgradeneeded",d=>{r(Js(l.result),d.oldVersion,d.newVersion,Js(l.transaction),d)}),t&&l.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),c.then(d=>{o&&d.addEventListener("close",()=>o()),i&&d.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const e4=["get","getKey","getAll","getAllKeys","count"],t4=["put","add","delete","clear"],Xy=new Map;function US(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Xy.get(e))return Xy.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=t4.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||e4.includes(t)))return;const o=async function(l,...c){const d=this.transaction(l,i?"readwrite":"readonly");let f=d.store;return r&&(f=f.index(c.shift())),(await Promise.all([f[t](...c),i&&d.done]))[0]};return Xy.set(e,o),o}YF(n=>({...n,get:(e,t,r)=>US(e,t)||n.get(e,t,r),has:(e,t)=>!!US(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(r4(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function r4(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ap="@firebase/app",P_="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is=new Tm("@firebase/app"),i4="@firebase/app-compat",s4="@firebase/analytics-compat",o4="@firebase/analytics",a4="@firebase/app-check-compat",l4="@firebase/app-check",u4="@firebase/auth",c4="@firebase/auth-compat",d4="@firebase/database",h4="@firebase/data-connect",f4="@firebase/database-compat",p4="@firebase/functions",m4="@firebase/functions-compat",g4="@firebase/installations",y4="@firebase/installations-compat",_4="@firebase/messaging",v4="@firebase/messaging-compat",w4="@firebase/performance",E4="@firebase/performance-compat",T4="@firebase/remote-config",S4="@firebase/remote-config-compat",I4="@firebase/storage",R4="@firebase/storage-compat",b4="@firebase/firestore",A4="@firebase/vertexai",C4="@firebase/firestore-compat",P4="firebase",x4="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io="[DEFAULT]",k4={[Ap]:"fire-core",[i4]:"fire-core-compat",[o4]:"fire-analytics",[s4]:"fire-analytics-compat",[l4]:"fire-app-check",[a4]:"fire-app-check-compat",[u4]:"fire-auth",[c4]:"fire-auth-compat",[d4]:"fire-rtdb",[h4]:"fire-data-connect",[f4]:"fire-rtdb-compat",[p4]:"fire-fn",[m4]:"fire-fn-compat",[g4]:"fire-iid",[y4]:"fire-iid-compat",[_4]:"fire-fcm",[v4]:"fire-fcm-compat",[w4]:"fire-perf",[E4]:"fire-perf-compat",[T4]:"fire-rc",[S4]:"fire-rc-compat",[I4]:"fire-gcs",[R4]:"fire-gcs-compat",[b4]:"fire-fst",[C4]:"fire-fst-compat",[A4]:"fire-vertex","fire-js":"fire-js",[P4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so=new Map,Jl=new Map,Xl=new Map;function wd(n,e){try{n.container.addComponent(e)}catch(t){is.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function VA(n,e){n.container.addOrOverwriteComponent(e)}function oo(n){const e=n.name;if(Xl.has(e))return is.debug(`There were multiple attempts to register component ${e}.`),!1;Xl.set(e,n);for(const t of so.values())wd(t,n);for(const t of Jl.values())wd(t,n);return!0}function Sm(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function O4(n,e,t=io){Sm(n,e).clearInstance(t)}function LA(n){return n.options!==void 0}function lr(n){return n==null?!1:n.settings!==void 0}function N4(){Xl.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Cr=new Pa("app","Firebase",D4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let MA=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new rs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Cr.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BS(n,e){const t=Mv(n.split(".")[1]);if(t===null){console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`);return}if(JSON.parse(t).exp===void 0){console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`);return}const i=JSON.parse(t).exp*1e3,o=new Date().getTime();i-o<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`)}class V4 extends MA{constructor(e,t,r,i){const o=t.automaticDataCollectionEnabled!==void 0?t.automaticDataCollectionEnabled:!1,l={name:r,automaticDataCollectionEnabled:o};if(e.apiKey!==void 0)super(e,l,i);else{const c=e;super(c.options,l,i)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:o},t),this._serverConfig.authIdToken&&BS(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&BS(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,Qr(Ap,P_,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Bv(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Cr.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vo=x4;function Uv(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:io,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Cr.create("bad-app-name",{appName:String(i)});if(t||(t=RA()),!t)throw Cr.create("no-options");const o=so.get(i);if(o){if(ns(t,o.options)&&ns(r,o.config))return o;throw Cr.create("duplicate-app",{appName:i})}const l=new kA(i);for(const d of Xl.values())l.addComponent(d);const c=new MA(t,r,l);return so.set(i,c),c}function L4(n,e){if(RF()&&!AA())throw Cr.create("invalid-server-app-environment");e.automaticDataCollectionEnabled===void 0&&(e.automaticDataCollectionEnabled=!1);let t;LA(n)?t=n.options:t=n;const r=Object.assign(Object.assign({},e),t);r.releaseOnDeref!==void 0&&delete r.releaseOnDeref;const i=f=>[...f].reduce((m,y)=>Math.imul(31,m)+y.charCodeAt(0)|0,0);if(e.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw Cr.create("finalization-registry-not-supported",{});const o=""+i(JSON.stringify(r)),l=Jl.get(o);if(l)return l.incRefCount(e.releaseOnDeref),l;const c=new kA(o);for(const f of Xl.values())c.addComponent(f);const d=new V4(t,e,o,c);return Jl.set(o,d),d}function FA(n=io){const e=so.get(n);if(!e&&n===io&&RA())return Uv();if(!e)throw Cr.create("no-app",{appName:n});return e}function M4(){return Array.from(so.values())}async function Bv(n){let e=!1;const t=n.name;so.has(t)?(e=!0,so.delete(t)):Jl.has(t)&&n.decRefCount()<=0&&(Jl.delete(t),e=!0),e&&(await Promise.all(n.container.getProviders().map(r=>r.delete())),n.isDeleted=!0)}function Qr(n,e,t){var r;let i=(r=k4[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),is.warn(c.join(" "));return}oo(new rs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function jA(n,e){if(n!==null&&typeof n!="function")throw Cr.create("invalid-log-argument");qF(n,e)}function UA(n){$F(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F4="firebase-heartbeat-database",j4=1,Ed="firebase-heartbeat-store";let Zy=null;function BA(){return Zy||(Zy=ZF(F4,j4,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Ed)}catch(t){console.warn(t)}}}}).catch(n=>{throw Cr.create("idb-open",{originalErrorMessage:n.message})})),Zy}async function U4(n){try{const t=(await BA()).transaction(Ed),r=await t.objectStore(Ed).get(zA(n));return await t.done,r}catch(e){if(e instanceof Ci)is.warn(e.message);else{const t=Cr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});is.warn(t.message)}}}async function zS(n,e){try{const r=(await BA()).transaction(Ed,"readwrite");await r.objectStore(Ed).put(e,zA(n)),await r.done}catch(t){if(t instanceof Ci)is.warn(t.message);else{const r=Cr.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});is.warn(r.message)}}}function zA(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B4=1024,z4=30;class $4{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new W4(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=$S();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>z4){const l=H4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){is.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=$S(),{heartbeatsToSend:r,unsentEntries:i}=q4(this._heartbeatsCache.heartbeats),o=Rp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return is.warn(t),""}}}function $S(){return new Date().toISOString().substring(0,10)}function q4(n,e=B4){const t=[];let r=n.slice();for(const i of n){const o=t.find(l=>l.agent===i.agent);if(o){if(o.dates.push(i.date),qS(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),qS(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class W4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return PA()?xF().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await U4(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return zS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return zS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function qS(n){return Rp(JSON.stringify({version:2,heartbeats:n})).length}function H4(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K4(n){oo(new rs("platform-logger",e=>new n4(e),"PRIVATE")),oo(new rs("heartbeat",e=>new $4(e),"PRIVATE")),Qr(Ap,P_,n),Qr(Ap,P_,"esm2017"),Qr("fire-js","")}K4("");const G4=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:Ci,SDK_VERSION:vo,_DEFAULT_ENTRY_NAME:io,_addComponent:wd,_addOrOverwriteComponent:VA,_apps:so,_clearComponents:N4,_components:Xl,_getProvider:Sm,_isFirebaseApp:LA,_isFirebaseServerApp:lr,_registerComponent:oo,_removeServiceInstance:O4,_serverApps:Jl,deleteApp:Bv,getApp:FA,getApps:M4,initializeApp:Uv,initializeServerApp:L4,onLog:jA,registerVersion:Qr,setLogLevel:UA},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(e,t){this._delegate=e,this.firebase=t,wd(e,new rs("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),Bv(this._delegate)))}_getService(e,t=io){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:t})}_removeServiceInstance(e,t=io){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){wd(this._delegate,e)}_addOrOverwriteComponent(e){VA(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y4={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},WS=new Pa("app-compat","Firebase",Y4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J4(n){const e={},t={__esModule:!0,initializeApp:o,app:i,registerVersion:Qr,setLogLevel:UA,onLog:jA,apps:null,SDK_VERSION:vo,INTERNAL:{registerComponent:c,removeApp:r,useAsService:d,modularAPIs:G4}};t.default=t,Object.defineProperty(t,"apps",{get:l});function r(f){delete e[f]}function i(f){if(f=f||io,!LS(e,f))throw WS.create("no-app",{appName:f});return e[f]}i.App=n;function o(f,m={}){const y=Uv(f,m);if(LS(e,y.name))return e[y.name];const v=new n(y,t);return e[y.name]=v,v}function l(){return Object.keys(e).map(f=>e[f])}function c(f){const m=f.name,y=m.replace("-compat","");if(oo(f)&&f.type==="PUBLIC"){const v=(S=i())=>{if(typeof S[y]!="function")throw WS.create("invalid-app-argument",{appName:m});return S[y]()};f.serviceProps!==void 0&&bp(v,f.serviceProps),t[y]=v,n.prototype[y]=function(...S){return this._getService.bind(this,m).apply(this,f.multipleInstances?S:[])}}return f.type==="PUBLIC"?t[y]:null}function d(f,m){return m==="serverAuth"?null:m}return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(){const n=J4(Q4);n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:$A,extendNamespace:e,createSubscribe:xA,ErrorFactory:Pa,deepExtend:bp});function e(t){bp(n,t)}return n}const X4=$A();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS=new Tm("@firebase/app-compat"),Z4="@firebase/app-compat",ej="0.2.51";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tj(n){Qr(Z4,ej,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const n=IA();if(n.firebase!==void 0){HS.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=n.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&HS.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const zv=X4;tj();var nj="firebase",rj="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zv.registerVersion(nj,rj,"app-compat");function $v(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function qA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ij=qA,WA=new Pa("auth","Firebase",qA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cp=new Tm("@firebase/auth");function sj(n,...e){Cp.logLevel<=je.WARN&&Cp.warn(`Auth (${vo}): ${n}`,...e)}function rp(n,...e){Cp.logLevel<=je.ERROR&&Cp.error(`Auth (${vo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yr(n,...e){throw qv(n,...e)}function _i(n,...e){return qv(n,...e)}function HA(n,e,t){const r=Object.assign(Object.assign({},ij()),{[e]:t});return new Pa("auth","Firebase",r).create(e,{appName:n.name})}function es(n){return HA(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qv(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return WA.create(n,...e)}function ke(n,e,...t){if(!n)throw qv(e,...t)}function Qi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw rp(e),new Error(e)}function ss(n,e){n||Qi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function oj(){return KS()==="http:"||KS()==="https:"}function KS(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(oj()||AF()||"connection"in navigator)?navigator.onLine:!0}function lj(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(e,t){this.shortDelay=e,this.longDelay=t,ss(t>e,"Short delay should be less than long delay!"),this.isMobile=SF()||CF()}get(){return aj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wv(n,e){ss(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cj=new Yd(3e4,6e4);function wo(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Eo(n,e,t,r,i={}){return GA(n,i,async()=>{let o={},l={};r&&(e==="GET"?l=r:o={body:JSON.stringify(r)});const c=Qd(Object.assign({key:n.config.apiKey},l)).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const f=Object.assign({method:e,headers:d},o);return bF()||(f.referrerPolicy="no-referrer"),KA.fetch()(QA(n,n.config.apiHost,t,c),f)})}async function GA(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},uj),e);try{const i=new hj(n),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw Lf(n,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const c=o.ok?l.errorMessage:l.error.message,[d,f]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lf(n,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw Lf(n,"email-already-in-use",l);if(d==="USER_DISABLED")throw Lf(n,"user-disabled",l);const m=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw HA(n,m,f);Yr(n,m)}}catch(i){if(i instanceof Ci)throw i;Yr(n,"network-request-failed",{message:String(i)})}}async function Jd(n,e,t,r,i={}){const o=await Eo(n,e,t,r,i);return"mfaPendingCredential"in o&&Yr(n,"multi-factor-auth-required",{_serverResponse:o}),o}function QA(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?Wv(n.config,i):`${n.config.apiScheme}://${i}`}function dj(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class hj{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(_i(this.auth,"network-request-failed")),cj.get())})}}function Lf(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=_i(n,e,r);return i.customData._tokenResponse=t,i}function GS(n){return n!==void 0&&n.enterprise!==void 0}class fj{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return dj(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function pj(n,e){return Eo(n,"GET","/v2/recaptchaConfig",wo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mj(n,e){return Eo(n,"POST","/v1/accounts:delete",e)}async function YA(n,e){return Eo(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function od(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function gj(n,e=!1){const t=lt(n),r=await t.getIdToken(e),i=Hv(r);ke(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:od(e_(i.auth_time)),issuedAtTime:od(e_(i.iat)),expirationTime:od(e_(i.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function e_(n){return Number(n)*1e3}function Hv(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return rp("JWT malformed, contained fewer than 3 sections"),null;try{const i=Mv(t);return i?JSON.parse(i):(rp("Failed to decode base64 JWT payload"),null)}catch(i){return rp("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function QS(n){const e=Hv(n);return ke(e,"internal-error"),ke(typeof e.exp<"u","internal-error"),ke(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Td(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Ci&&yj(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function yj({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _j{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=od(this.lastLoginAt),this.creationTime=od(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pp(n){var e;const t=n.auth,r=await n.getIdToken(),i=await Td(n,YA(t,{idToken:r}));ke(i==null?void 0:i.users.length,t,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?JA(o.providerUserInfo):[],c=wj(n.providerData,l),d=n.isAnonymous,f=!(n.email&&o.passwordHash)&&!(c!=null&&c.length),m=d?f:!1,y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new k_(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(n,y)}async function vj(n){const e=lt(n);await Pp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function wj(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function JA(n){return n.map(e=>{var{providerId:t}=e,r=$v(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ej(n,e){const t=await GA(n,{},async()=>{const r=Qd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,l=QA(n,i,"/v1/token",`key=${o}`),c=await n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",KA.fetch()(l,{method:"POST",headers:c,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Tj(n,e){return Eo(n,"POST","/v2/accounts:revokeToken",wo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ke(e.idToken,"internal-error"),ke(typeof e.idToken<"u","internal-error"),ke(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):QS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ke(e.length!==0,"internal-error");const t=QS(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ke(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:o}=await Ej(e,t);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:o}=t,l=new ql;return r&&(ke(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(ke(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),o&&(ke(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ql,this.toJSON())}_performRefresh(){return Qi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fs(n,e){ke(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Yi{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=$v(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _j(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new k_(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Td(this,this.stsTokenManager.getToken(this.auth,e));return ke(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return gj(this,e)}reload(){return vj(this)}_assign(e){this!==e&&(ke(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Yi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Pp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(lr(this.auth.app))return Promise.reject(es(this.auth));const e=await this.getIdToken();return await Td(this,mj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,l,c,d,f,m;const y=(r=t.displayName)!==null&&r!==void 0?r:void 0,v=(i=t.email)!==null&&i!==void 0?i:void 0,S=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,T=(l=t.photoURL)!==null&&l!==void 0?l:void 0,R=(c=t.tenantId)!==null&&c!==void 0?c:void 0,b=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,L=(f=t.createdAt)!==null&&f!==void 0?f:void 0,V=(m=t.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:M,emailVerified:$,isAnonymous:B,providerData:q,stsTokenManager:D}=t;ke(M&&D,e,"internal-error");const A=ql.fromJSON(this.name,D);ke(typeof M=="string",e,"internal-error"),Fs(y,e.name),Fs(v,e.name),ke(typeof $=="boolean",e,"internal-error"),ke(typeof B=="boolean",e,"internal-error"),Fs(S,e.name),Fs(T,e.name),Fs(R,e.name),Fs(b,e.name),Fs(L,e.name),Fs(V,e.name);const P=new Yi({uid:M,auth:e,email:v,emailVerified:$,displayName:y,isAnonymous:B,photoURL:T,phoneNumber:S,tenantId:R,stsTokenManager:A,createdAt:L,lastLoginAt:V});return q&&Array.isArray(q)&&(P.providerData=q.map(E=>Object.assign({},E))),b&&(P._redirectEventId=b),P}static async _fromIdTokenResponse(e,t,r=!1){const i=new ql;i.updateFromServerResponse(t);const o=new Yi({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Pp(o),o}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];ke(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?JA(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),c=new ql;c.updateFromIdToken(r);const d=new Yi({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new k_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(d,f),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS=new Map;function Ji(n){ss(n instanceof Function,"Expected a class definition");let e=YS.get(n);return e?(ss(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,YS.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}XA.type="NONE";const JS=XA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ip(n,e,t){return`firebase:${n}:${e}:${t}`}class Wl{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=ip(this.userKey,i.apiKey,o),this.fullPersistenceKey=ip("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Yi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Wl(Ji(JS),e,r);const i=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=i[0]||Ji(JS);const l=ip(r,e.config.apiKey,e.name);let c=null;for(const f of t)try{const m=await f._get(l);if(m){const y=Yi._fromJSON(e,m);f!==o&&(c=y),o=f;break}}catch{}const d=i.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new Wl(o,e,r):(o=d[0],c&&await o._set(l,c.toJSON()),await Promise.all(t.map(async f=>{if(f!==o)try{await f._remove(l)}catch{}})),new Wl(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XS(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(nC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ZA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(iC(e))return"Blackberry";if(sC(e))return"Webos";if(eC(e))return"Safari";if((e.includes("chrome/")||tC(e))&&!e.includes("edge/"))return"Chrome";if(rC(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function ZA(n=Zt()){return/firefox\//i.test(n)}function eC(n=Zt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function tC(n=Zt()){return/crios\//i.test(n)}function nC(n=Zt()){return/iemobile/i.test(n)}function rC(n=Zt()){return/android/i.test(n)}function iC(n=Zt()){return/blackberry/i.test(n)}function sC(n=Zt()){return/webos/i.test(n)}function Kv(n=Zt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Sj(n=Zt()){var e;return Kv(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Ij(){return PF()&&document.documentMode===10}function oC(n=Zt()){return Kv(n)||rC(n)||sC(n)||iC(n)||/windows phone/i.test(n)||nC(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aC(n,e=[]){let t;switch(n){case"Browser":t=XS(Zt());break;case"Worker":t=`${XS(Zt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${vo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((l,c)=>{try{const d=e(o);l(d)}catch(d){c(d)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bj(n,e={}){return Eo(n,"GET","/v2/passwordPolicy",wo(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aj=6;class Cj{constructor(e){var t,r,i,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:Aj,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,l,c;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(i=d.containsLowercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(o=d.containsUppercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(c=d.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),d}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pj{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ZS(this),this.idTokenSubscription=new ZS(this),this.beforeStateQueue=new Rj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=WA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ji(t)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Wl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await YA(this,{idToken:e}),r=await Yi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(lr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=i==null?void 0:i._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&(d!=null&&d.user)&&(i=d.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ke(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Pp(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=lj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(lr(this.app))return Promise.reject(es(this));const t=e?lt(e):null;return t&&ke(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ke(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return lr(this.app)?Promise.reject(es(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return lr(this.app)?Promise.reject(es(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ji(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await bj(this),t=new Cj(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Pa("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await Tj(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ji(e)||this._popupRedirectResolver;ke(t,this,"argument-error"),this.redirectPersistenceManager=await Wl.create(this,[Ji(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(ke(c,this,"internal-error"),c.then(()=>{l||o(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,r,i);return()=>{l=!0,d()}}else{const d=e.addObserver(t);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=aC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(lr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&sj(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function xa(n){return lt(n)}class ZS{constructor(e){this.auth=e,this.observer=null,this.addObserver=xA(t=>this.observer=t)}get next(){return ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Im={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function xj(n){Im=n}function lC(n){return Im.loadJS(n)}function kj(){return Im.recaptchaEnterpriseScript}function Oj(){return Im.gapiScript}function Nj(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class Dj{constructor(){this.enterprise=new Vj}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Vj{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Lj="recaptcha-enterprise",uC="NO_RECAPTCHA";class Mj{constructor(e){this.type=Lj,this.auth=xa(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,c)=>{pj(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const f=new fj(d);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,l(f.siteKey)}}).catch(d=>{c(d)})})}function i(o,l,c){const d=window.grecaptcha;GS(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(f=>{l(f)}).catch(()=>{l(uC)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Dj().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{r(this.auth).then(c=>{if(!t&&GS(window.grecaptcha))i(c,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=kj();d.length!==0&&(d+=c),lC(d).then(()=>{i(c,o,l)}).catch(f=>{l(f)})}}).catch(c=>{l(c)})})}}async function eI(n,e,t,r=!1,i=!1){const o=new Mj(n);let l;if(i)l=uC;else try{l=await o.verify(t)}catch{l=await o.verify(t,!0)}const c=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const d=c.phoneEnrollmentInfo.phoneNumber,f=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const d=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function O_(n,e,t,r,i){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await eI(n,e,t,t==="getOobCode");return r(n,l)}else return r(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await eI(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fj(n,e){const t=Sm(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),o=t.getOptions();if(ns(o,e??{}))return i;Yr(i,"already-initialized")}return t.initialize({options:e})}function jj(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Ji);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Uj(n,e,t){const r=xa(n);ke(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=cC(e),{host:l,port:c}=Bj(e),d=c===null?"":`:${c}`,f={url:`${o}//${l}${d}/`},m=Object.freeze({host:l,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ke(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ke(ns(f,r.config.emulator)&&ns(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,zj()}function cC(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Bj(n){const e=cC(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:tI(r.substr(o.length+1))}}else{const[o,l]=r.split(":");return{host:o,port:tI(l)}}}function tI(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function zj(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Qi("not implemented")}_getIdTokenResponse(e){return Qi("not implemented")}_linkToIdToken(e,t){return Qi("not implemented")}_getReauthenticationResolver(e){return Qi("not implemented")}}async function $j(n,e){return Eo(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qj(n,e){return Jd(n,"POST","/v1/accounts:signInWithPassword",wo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wj(n,e){return Jd(n,"POST","/v1/accounts:signInWithEmailLink",wo(n,e))}async function Hj(n,e){return Jd(n,"POST","/v1/accounts:signInWithEmailLink",wo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd extends Gv{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Sd(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Sd(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return O_(e,t,"signInWithPassword",qj);case"emailLink":return Wj(e,{email:this._email,oobCode:this._password});default:Yr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return O_(e,r,"signUpPassword",$j);case"emailLink":return Hj(e,{idToken:t,email:this._email,oobCode:this._password});default:Yr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hl(n,e){return Jd(n,"POST","/v1/accounts:signInWithIdp",wo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kj="http://localhost";class _a extends Gv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new _a(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Yr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,o=$v(t,["providerId","signInMethod"]);if(!r||!i)return null;const l=new _a(r,i);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return Hl(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Hl(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Hl(e,t)}buildRequest(){const e={requestUri:Kj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Qd(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gj(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Qj(n){const e=Xc(Zc(n)).link,t=e?Xc(Zc(e)).deep_link_id:null,r=Xc(Zc(n)).deep_link_id;return(r?Xc(Zc(r)).link:null)||r||t||e||n}class Qv{constructor(e){var t,r,i,o,l,c;const d=Xc(Zc(e)),f=(t=d.apiKey)!==null&&t!==void 0?t:null,m=(r=d.oobCode)!==null&&r!==void 0?r:null,y=Gj((i=d.mode)!==null&&i!==void 0?i:null);ke(f&&m&&y,"argument-error"),this.apiKey=f,this.operation=y,this.code=m,this.continueUrl=(o=d.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(l=d.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(c=d.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const t=Qj(e);try{return new Qv(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(){this.providerId=bu.PROVIDER_ID}static credential(e,t){return Sd._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Qv.parseLink(t);return ke(r,"argument-error"),Sd._fromEmailAndCode(e,r.code,r.tenantId)}}bu.PROVIDER_ID="password";bu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";bu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd extends dC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs extends Xd{constructor(){super("facebook.com")}static credential(e){return _a._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qs.credentialFromTaggedObject(e)}static credentialFromError(e){return qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qs.credential(e.oauthAccessToken)}catch{return null}}}qs.FACEBOOK_SIGN_IN_METHOD="facebook.com";qs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws extends Xd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return _a._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ws.credentialFromTaggedObject(e)}static credentialFromError(e){return Ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Ws.credential(t,r)}catch{return null}}}Ws.GOOGLE_SIGN_IN_METHOD="google.com";Ws.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs extends Xd{constructor(){super("github.com")}static credential(e){return _a._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hs.credentialFromTaggedObject(e)}static credentialFromError(e){return Hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hs.credential(e.oauthAccessToken)}catch{return null}}}Hs.GITHUB_SIGN_IN_METHOD="github.com";Hs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks extends Xd{constructor(){super("twitter.com")}static credential(e,t){return _a._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ks.credentialFromTaggedObject(e)}static credentialFromError(e){return Ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Ks.credential(t,r)}catch{return null}}}Ks.TWITTER_SIGN_IN_METHOD="twitter.com";Ks.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yj(n,e){return Jd(n,"POST","/v1/accounts:signUp",wo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const o=await Yi._fromIdTokenResponse(e,r,i),l=nI(r);return new va({user:o,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=nI(r);return new va({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function nI(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp extends Ci{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,xp.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new xp(e,t,r,i)}}function hC(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?xp._fromErrorAndOperation(n,o,e,r):o})}async function Jj(n,e,t=!1){const r=await Td(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return va._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xj(n,e,t=!1){const{auth:r}=n;if(lr(r.app))return Promise.reject(es(r));const i="reauthenticate";try{const o=await Td(n,hC(r,i,e,n),t);ke(o.idToken,r,"internal-error");const l=Hv(o.idToken);ke(l,r,"internal-error");const{sub:c}=l;return ke(n.uid===c,r,"user-mismatch"),va._forOperation(n,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Yr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fC(n,e,t=!1){if(lr(n.app))return Promise.reject(es(n));const r="signIn",i=await hC(n,r,e),o=await va._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(o.user),o}async function Zj(n,e){return fC(xa(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pC(n){const e=xa(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function eU(n,e,t){if(lr(n.app))return Promise.reject(es(n));const r=xa(n),l=await O_(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Yj).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&pC(n),d}),c=await va._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(c.user),c}function tU(n,e,t){return lr(n.app)?Promise.reject(es(n)):Zj(lt(n),bu.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&pC(n),r})}function nU(n,e,t,r){return lt(n).onIdTokenChanged(e,t,r)}function rU(n,e,t){return lt(n).beforeAuthStateChanged(e,t)}const kp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(kp,"1"),this.storage.removeItem(kp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iU=1e3,sU=10;class gC extends mC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=oC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,c,d)=>{this.notifyListeners(l,d)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);Ij()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,sU):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},iU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}gC.type="LOCAL";const oU=gC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC extends mC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}yC.type="SESSION";const _C=yC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aU(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new Rm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:o}=t.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(l).map(async f=>f(t.origin,o)),d=await aU(c);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Rm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yv(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,l;return new Promise((c,d)=>{const f=Yv("",20);i.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(y){const v=y;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(v.data.response);break;default:clearTimeout(m),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vi(){return window}function uU(n){vi().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(){return typeof vi().WorkerGlobalScope<"u"&&typeof vi().importScripts=="function"}async function cU(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function dU(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function hU(){return vC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC="firebaseLocalStorageDb",fU=1,Op="firebaseLocalStorage",EC="fbase_key";class Zd{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function bm(n,e){return n.transaction([Op],e?"readwrite":"readonly").objectStore(Op)}function pU(){const n=indexedDB.deleteDatabase(wC);return new Zd(n).toPromise()}function N_(){const n=indexedDB.open(wC,fU);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Op,{keyPath:EC})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Op)?e(r):(r.close(),await pU(),e(await N_()))})})}async function rI(n,e,t){const r=bm(n,!0).put({[EC]:e,value:t});return new Zd(r).toPromise()}async function mU(n,e){const t=bm(n,!1).get(e),r=await new Zd(t).toPromise();return r===void 0?null:r.value}function iI(n,e){const t=bm(n,!0).delete(e);return new Zd(t).toPromise()}const gU=800,yU=3;class TC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await N_(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>yU)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rm._getInstance(hU()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await cU(),!this.activeServiceWorker)return;this.sender=new lU(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||dU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await N_();return await rI(e,kp,"1"),await iI(e,kp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>rI(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>mU(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>iI(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=bm(i,!1).getAll();return new Zd(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),gU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}TC.type="LOCAL";const _U=TC;new Yd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vU(n,e){return e?Ji(e):(ke(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv extends Gv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Hl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Hl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Hl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function wU(n){return fC(n.auth,new Jv(n),n.bypassAuthState)}function EU(n){const{auth:e,user:t}=n;return ke(t,e,"internal-error"),Xj(t,new Jv(n),n.bypassAuthState)}async function TU(n){const{auth:e,user:t}=n;return ke(t,e,"internal-error"),Jj(t,new Jv(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:l,type:c}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wU;case"linkViaPopup":case"linkViaRedirect":return TU;case"reauthViaPopup":case"reauthViaRedirect":return EU;default:Yr(this.auth,"internal-error")}}resolve(e){ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SU=new Yd(2e3,1e4);class Ul extends SC{constructor(e,t,r,i,o){super(e,t,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Ul.currentPopupAction&&Ul.currentPopupAction.cancel(),Ul.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ke(e,this.auth,"internal-error"),e}async onExecution(){ss(this.filter.length===1,"Popup operations only handle one event");const e=Yv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(_i(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(_i(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ul.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_i(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,SU.get())};e()}}Ul.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IU="pendingRedirect",sp=new Map;class RU extends SC{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=sp.get(this.auth._key());if(!e){try{const r=await bU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}sp.set(this.auth._key(),e)}return this.bypassAuthState||sp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function bU(n,e){const t=PU(e),r=CU(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function AU(n,e){sp.set(n._key(),e)}function CU(n){return Ji(n._redirectPersistence)}function PU(n){return ip(IU,n.config.apiKey,n.name)}async function xU(n,e,t=!1){if(lr(n.app))return Promise.reject(es(n));const r=xa(n),i=vU(r,e),l=await new RU(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kU=10*60*1e3;class OU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!NU(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!IC(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(_i(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=kU&&this.cachedEventUids.clear(),this.cachedEventUids.has(sI(e))}saveEventToCache(e){this.cachedEventUids.add(sI(e)),this.lastProcessedEventTime=Date.now()}}function sI(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function IC({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function NU(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return IC(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DU(n,e={}){return Eo(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,LU=/^https?/;async function MU(n){if(n.config.emulator)return;const{authorizedDomains:e}=await DU(n);for(const t of e)try{if(FU(t))return}catch{}Yr(n,"unauthorized-domain")}function FU(n){const e=x_(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!LU.test(t))return!1;if(VU.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jU=new Yd(3e4,6e4);function oI(){const n=vi().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function UU(n){return new Promise((e,t)=>{var r,i,o;function l(){oI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{oI(),t(_i(n,"network-request-failed"))},timeout:jU.get()})}if(!((i=(r=vi().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=vi().gapi)===null||o===void 0)&&o.load)l();else{const c=Nj("iframefcb");return vi()[c]=()=>{gapi.load?l():t(_i(n,"network-request-failed"))},lC(`${Oj()}?onload=${c}`).catch(d=>t(d))}}).catch(e=>{throw op=null,e})}let op=null;function BU(n){return op=op||UU(n),op}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zU=new Yd(5e3,15e3),$U="__/auth/iframe",qU="emulator/auth/iframe",WU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},HU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function KU(n){const e=n.config;ke(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Wv(e,qU):`https://${n.config.authDomain}/${$U}`,r={apiKey:e.apiKey,appName:n.name,v:vo},i=HU.get(n.config.apiHost);i&&(r.eid=i);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Qd(r).slice(1)}`}async function GU(n){const e=await BU(n),t=vi().gapi;return ke(t,n,"internal-error"),e.open({where:document.body,url:KU(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:WU,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const l=_i(n,"network-request-failed"),c=vi().setTimeout(()=>{o(l)},zU.get());function d(){vi().clearTimeout(c),i(r)}r.ping(d).then(d,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},YU=500,JU=600,XU="_blank",ZU="http://localhost";class aI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function eB(n,e,t,r=YU,i=JU){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const d=Object.assign(Object.assign({},QU),{width:r.toString(),height:i.toString(),top:o,left:l}),f=Zt().toLowerCase();t&&(c=tC(f)?XU:t),ZA(f)&&(e=e||ZU,d.scrollbars="yes");const m=Object.entries(d).reduce((v,[S,T])=>`${v}${S}=${T},`,"");if(Sj(f)&&c!=="_self")return tB(e||"",c),new aI(null);const y=window.open(e||"",c,m);ke(y,n,"popup-blocked");try{y.focus()}catch{}return new aI(y)}function tB(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nB="__/auth/handler",rB="emulator/auth/handler",iB=encodeURIComponent("fac");async function lI(n,e,t,r,i,o){ke(n.config.authDomain,n,"auth-domain-config-required"),ke(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:vo,eventId:i};if(e instanceof dC){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",DF(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,y]of Object.entries({}))l[m]=y}if(e instanceof Xd){const m=e.getScopes().filter(y=>y!=="");m.length>0&&(l.scopes=m.join(","))}n.tenantId&&(l.tid=n.tenantId);const c=l;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const d=await n._getAppCheckToken(),f=d?`#${iB}=${encodeURIComponent(d)}`:"";return`${sB(n)}?${Qd(c).slice(1)}${f}`}function sB({config:n}){return n.emulator?Wv(n,rB):`https://${n.authDomain}/${nB}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_="webStorageSupport";class oB{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_C,this._completeRedirectFn=xU,this._overrideRedirectResult=AU}async _openPopup(e,t,r,i){var o;ss((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await lI(e,t,r,x_(),i);return eB(e,l,Yv())}async _openRedirect(e,t,r,i){await this._originValidation(e);const o=await lI(e,t,r,x_(),i);return uU(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(ss(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await GU(e),r=new OU(e);return t.register("authEvent",i=>(ke(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(t_,{type:t_},i=>{var o;const l=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[t_];l!==void 0&&t(!!l),Yr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=MU(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return oC()||eC()||Kv()}}const aB=oB;var uI="@firebase/auth",cI="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lB{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uB(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function cB(n){oo(new rs("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;ke(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aC(n)},f=new Pj(r,i,o,d);return jj(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),oo(new rs("auth-internal",e=>{const t=xa(e.getProvider("auth").getImmediate());return(r=>new lB(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qr(uI,cI,uB(n)),Qr(uI,cI,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dB=5*60,hB=bA("authIdTokenMaxAge")||dB;let dI=null;const fB=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>hB)return;const i=t==null?void 0:t.token;dI!==i&&(dI=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function pB(n=FA()){const e=Sm(n,"auth");if(e.isInitialized())return e.getImmediate();const t=Fj(n,{popupRedirectResolver:aB,persistence:[_U,oU,_C]}),r=bA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const l=fB(o.toString());rU(t,l,()=>l(t.currentUser)),nU(t,c=>l(c))}}const i=wF("auth");return i&&Uj(t,`http://${i}`),t}function mB(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}xj({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const o=_i("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",mB().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});cB("Browser");var hI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xs,RC;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,A){function P(){}P.prototype=A.prototype,D.D=A.prototype,D.prototype=new P,D.prototype.constructor=D,D.C=function(E,k,x){for(var O=Array(arguments.length-2),X=2;X<arguments.length;X++)O[X-2]=arguments[X];return A.prototype[k].apply(E,O)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,A,P){P||(P=0);var E=Array(16);if(typeof A=="string")for(var k=0;16>k;++k)E[k]=A.charCodeAt(P++)|A.charCodeAt(P++)<<8|A.charCodeAt(P++)<<16|A.charCodeAt(P++)<<24;else for(k=0;16>k;++k)E[k]=A[P++]|A[P++]<<8|A[P++]<<16|A[P++]<<24;A=D.g[0],P=D.g[1],k=D.g[2];var x=D.g[3],O=A+(x^P&(k^x))+E[0]+3614090360&4294967295;A=P+(O<<7&4294967295|O>>>25),O=x+(k^A&(P^k))+E[1]+3905402710&4294967295,x=A+(O<<12&4294967295|O>>>20),O=k+(P^x&(A^P))+E[2]+606105819&4294967295,k=x+(O<<17&4294967295|O>>>15),O=P+(A^k&(x^A))+E[3]+3250441966&4294967295,P=k+(O<<22&4294967295|O>>>10),O=A+(x^P&(k^x))+E[4]+4118548399&4294967295,A=P+(O<<7&4294967295|O>>>25),O=x+(k^A&(P^k))+E[5]+1200080426&4294967295,x=A+(O<<12&4294967295|O>>>20),O=k+(P^x&(A^P))+E[6]+2821735955&4294967295,k=x+(O<<17&4294967295|O>>>15),O=P+(A^k&(x^A))+E[7]+4249261313&4294967295,P=k+(O<<22&4294967295|O>>>10),O=A+(x^P&(k^x))+E[8]+1770035416&4294967295,A=P+(O<<7&4294967295|O>>>25),O=x+(k^A&(P^k))+E[9]+2336552879&4294967295,x=A+(O<<12&4294967295|O>>>20),O=k+(P^x&(A^P))+E[10]+4294925233&4294967295,k=x+(O<<17&4294967295|O>>>15),O=P+(A^k&(x^A))+E[11]+2304563134&4294967295,P=k+(O<<22&4294967295|O>>>10),O=A+(x^P&(k^x))+E[12]+1804603682&4294967295,A=P+(O<<7&4294967295|O>>>25),O=x+(k^A&(P^k))+E[13]+4254626195&4294967295,x=A+(O<<12&4294967295|O>>>20),O=k+(P^x&(A^P))+E[14]+2792965006&4294967295,k=x+(O<<17&4294967295|O>>>15),O=P+(A^k&(x^A))+E[15]+1236535329&4294967295,P=k+(O<<22&4294967295|O>>>10),O=A+(k^x&(P^k))+E[1]+4129170786&4294967295,A=P+(O<<5&4294967295|O>>>27),O=x+(P^k&(A^P))+E[6]+3225465664&4294967295,x=A+(O<<9&4294967295|O>>>23),O=k+(A^P&(x^A))+E[11]+643717713&4294967295,k=x+(O<<14&4294967295|O>>>18),O=P+(x^A&(k^x))+E[0]+3921069994&4294967295,P=k+(O<<20&4294967295|O>>>12),O=A+(k^x&(P^k))+E[5]+3593408605&4294967295,A=P+(O<<5&4294967295|O>>>27),O=x+(P^k&(A^P))+E[10]+38016083&4294967295,x=A+(O<<9&4294967295|O>>>23),O=k+(A^P&(x^A))+E[15]+3634488961&4294967295,k=x+(O<<14&4294967295|O>>>18),O=P+(x^A&(k^x))+E[4]+3889429448&4294967295,P=k+(O<<20&4294967295|O>>>12),O=A+(k^x&(P^k))+E[9]+568446438&4294967295,A=P+(O<<5&4294967295|O>>>27),O=x+(P^k&(A^P))+E[14]+3275163606&4294967295,x=A+(O<<9&4294967295|O>>>23),O=k+(A^P&(x^A))+E[3]+4107603335&4294967295,k=x+(O<<14&4294967295|O>>>18),O=P+(x^A&(k^x))+E[8]+1163531501&4294967295,P=k+(O<<20&4294967295|O>>>12),O=A+(k^x&(P^k))+E[13]+2850285829&4294967295,A=P+(O<<5&4294967295|O>>>27),O=x+(P^k&(A^P))+E[2]+4243563512&4294967295,x=A+(O<<9&4294967295|O>>>23),O=k+(A^P&(x^A))+E[7]+1735328473&4294967295,k=x+(O<<14&4294967295|O>>>18),O=P+(x^A&(k^x))+E[12]+2368359562&4294967295,P=k+(O<<20&4294967295|O>>>12),O=A+(P^k^x)+E[5]+4294588738&4294967295,A=P+(O<<4&4294967295|O>>>28),O=x+(A^P^k)+E[8]+2272392833&4294967295,x=A+(O<<11&4294967295|O>>>21),O=k+(x^A^P)+E[11]+1839030562&4294967295,k=x+(O<<16&4294967295|O>>>16),O=P+(k^x^A)+E[14]+4259657740&4294967295,P=k+(O<<23&4294967295|O>>>9),O=A+(P^k^x)+E[1]+2763975236&4294967295,A=P+(O<<4&4294967295|O>>>28),O=x+(A^P^k)+E[4]+1272893353&4294967295,x=A+(O<<11&4294967295|O>>>21),O=k+(x^A^P)+E[7]+4139469664&4294967295,k=x+(O<<16&4294967295|O>>>16),O=P+(k^x^A)+E[10]+3200236656&4294967295,P=k+(O<<23&4294967295|O>>>9),O=A+(P^k^x)+E[13]+681279174&4294967295,A=P+(O<<4&4294967295|O>>>28),O=x+(A^P^k)+E[0]+3936430074&4294967295,x=A+(O<<11&4294967295|O>>>21),O=k+(x^A^P)+E[3]+3572445317&4294967295,k=x+(O<<16&4294967295|O>>>16),O=P+(k^x^A)+E[6]+76029189&4294967295,P=k+(O<<23&4294967295|O>>>9),O=A+(P^k^x)+E[9]+3654602809&4294967295,A=P+(O<<4&4294967295|O>>>28),O=x+(A^P^k)+E[12]+3873151461&4294967295,x=A+(O<<11&4294967295|O>>>21),O=k+(x^A^P)+E[15]+530742520&4294967295,k=x+(O<<16&4294967295|O>>>16),O=P+(k^x^A)+E[2]+3299628645&4294967295,P=k+(O<<23&4294967295|O>>>9),O=A+(k^(P|~x))+E[0]+4096336452&4294967295,A=P+(O<<6&4294967295|O>>>26),O=x+(P^(A|~k))+E[7]+1126891415&4294967295,x=A+(O<<10&4294967295|O>>>22),O=k+(A^(x|~P))+E[14]+2878612391&4294967295,k=x+(O<<15&4294967295|O>>>17),O=P+(x^(k|~A))+E[5]+4237533241&4294967295,P=k+(O<<21&4294967295|O>>>11),O=A+(k^(P|~x))+E[12]+1700485571&4294967295,A=P+(O<<6&4294967295|O>>>26),O=x+(P^(A|~k))+E[3]+2399980690&4294967295,x=A+(O<<10&4294967295|O>>>22),O=k+(A^(x|~P))+E[10]+4293915773&4294967295,k=x+(O<<15&4294967295|O>>>17),O=P+(x^(k|~A))+E[1]+2240044497&4294967295,P=k+(O<<21&4294967295|O>>>11),O=A+(k^(P|~x))+E[8]+1873313359&4294967295,A=P+(O<<6&4294967295|O>>>26),O=x+(P^(A|~k))+E[15]+4264355552&4294967295,x=A+(O<<10&4294967295|O>>>22),O=k+(A^(x|~P))+E[6]+2734768916&4294967295,k=x+(O<<15&4294967295|O>>>17),O=P+(x^(k|~A))+E[13]+1309151649&4294967295,P=k+(O<<21&4294967295|O>>>11),O=A+(k^(P|~x))+E[4]+4149444226&4294967295,A=P+(O<<6&4294967295|O>>>26),O=x+(P^(A|~k))+E[11]+3174756917&4294967295,x=A+(O<<10&4294967295|O>>>22),O=k+(A^(x|~P))+E[2]+718787259&4294967295,k=x+(O<<15&4294967295|O>>>17),O=P+(x^(k|~A))+E[9]+3951481745&4294967295,D.g[0]=D.g[0]+A&4294967295,D.g[1]=D.g[1]+(k+(O<<21&4294967295|O>>>11))&4294967295,D.g[2]=D.g[2]+k&4294967295,D.g[3]=D.g[3]+x&4294967295}r.prototype.u=function(D,A){A===void 0&&(A=D.length);for(var P=A-this.blockSize,E=this.B,k=this.h,x=0;x<A;){if(k==0)for(;x<=P;)i(this,D,x),x+=this.blockSize;if(typeof D=="string"){for(;x<A;)if(E[k++]=D.charCodeAt(x++),k==this.blockSize){i(this,E),k=0;break}}else for(;x<A;)if(E[k++]=D[x++],k==this.blockSize){i(this,E),k=0;break}}this.h=k,this.o+=A},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var A=1;A<D.length-8;++A)D[A]=0;var P=8*this.o;for(A=D.length-8;A<D.length;++A)D[A]=P&255,P/=256;for(this.u(D),D=Array(16),A=P=0;4>A;++A)for(var E=0;32>E;E+=8)D[P++]=this.g[A]>>>E&255;return D};function o(D,A){var P=c;return Object.prototype.hasOwnProperty.call(P,D)?P[D]:P[D]=A(D)}function l(D,A){this.h=A;for(var P=[],E=!0,k=D.length-1;0<=k;k--){var x=D[k]|0;E&&x==A||(P[k]=x,E=!1)}this.g=P}var c={};function d(D){return-128<=D&&128>D?o(D,function(A){return new l([A|0],0>A?-1:0)}):new l([D|0],0>D?-1:0)}function f(D){if(isNaN(D)||!isFinite(D))return y;if(0>D)return b(f(-D));for(var A=[],P=1,E=0;D>=P;E++)A[E]=D/P|0,P*=4294967296;return new l(A,0)}function m(D,A){if(D.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(D.charAt(0)=="-")return b(m(D.substring(1),A));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=f(Math.pow(A,8)),E=y,k=0;k<D.length;k+=8){var x=Math.min(8,D.length-k),O=parseInt(D.substring(k,k+x),A);8>x?(x=f(Math.pow(A,x)),E=E.j(x).add(f(O))):(E=E.j(P),E=E.add(f(O)))}return E}var y=d(0),v=d(1),S=d(16777216);n=l.prototype,n.m=function(){if(R(this))return-b(this).m();for(var D=0,A=1,P=0;P<this.g.length;P++){var E=this.i(P);D+=(0<=E?E:4294967296+E)*A,A*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(T(this))return"0";if(R(this))return"-"+b(this).toString(D);for(var A=f(Math.pow(D,6)),P=this,E="";;){var k=$(P,A).g;P=L(P,k.j(A));var x=((0<P.g.length?P.g[0]:P.h)>>>0).toString(D);if(P=k,T(P))return x+E;for(;6>x.length;)x="0"+x;E=x+E}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function T(D){if(D.h!=0)return!1;for(var A=0;A<D.g.length;A++)if(D.g[A]!=0)return!1;return!0}function R(D){return D.h==-1}n.l=function(D){return D=L(this,D),R(D)?-1:T(D)?0:1};function b(D){for(var A=D.g.length,P=[],E=0;E<A;E++)P[E]=~D.g[E];return new l(P,~D.h).add(v)}n.abs=function(){return R(this)?b(this):this},n.add=function(D){for(var A=Math.max(this.g.length,D.g.length),P=[],E=0,k=0;k<=A;k++){var x=E+(this.i(k)&65535)+(D.i(k)&65535),O=(x>>>16)+(this.i(k)>>>16)+(D.i(k)>>>16);E=O>>>16,x&=65535,O&=65535,P[k]=O<<16|x}return new l(P,P[P.length-1]&-2147483648?-1:0)};function L(D,A){return D.add(b(A))}n.j=function(D){if(T(this)||T(D))return y;if(R(this))return R(D)?b(this).j(b(D)):b(b(this).j(D));if(R(D))return b(this.j(b(D)));if(0>this.l(S)&&0>D.l(S))return f(this.m()*D.m());for(var A=this.g.length+D.g.length,P=[],E=0;E<2*A;E++)P[E]=0;for(E=0;E<this.g.length;E++)for(var k=0;k<D.g.length;k++){var x=this.i(E)>>>16,O=this.i(E)&65535,X=D.i(k)>>>16,F=D.i(k)&65535;P[2*E+2*k]+=O*F,V(P,2*E+2*k),P[2*E+2*k+1]+=x*F,V(P,2*E+2*k+1),P[2*E+2*k+1]+=O*X,V(P,2*E+2*k+1),P[2*E+2*k+2]+=x*X,V(P,2*E+2*k+2)}for(E=0;E<A;E++)P[E]=P[2*E+1]<<16|P[2*E];for(E=A;E<2*A;E++)P[E]=0;return new l(P,0)};function V(D,A){for(;(D[A]&65535)!=D[A];)D[A+1]+=D[A]>>>16,D[A]&=65535,A++}function M(D,A){this.g=D,this.h=A}function $(D,A){if(T(A))throw Error("division by zero");if(T(D))return new M(y,y);if(R(D))return A=$(b(D),A),new M(b(A.g),b(A.h));if(R(A))return A=$(D,b(A)),new M(b(A.g),A.h);if(30<D.g.length){if(R(D)||R(A))throw Error("slowDivide_ only works with positive integers.");for(var P=v,E=A;0>=E.l(D);)P=B(P),E=B(E);var k=q(P,1),x=q(E,1);for(E=q(E,2),P=q(P,2);!T(E);){var O=x.add(E);0>=O.l(D)&&(k=k.add(P),x=O),E=q(E,1),P=q(P,1)}return A=L(D,k.j(A)),new M(k,A)}for(k=y;0<=D.l(A);){for(P=Math.max(1,Math.floor(D.m()/A.m())),E=Math.ceil(Math.log(P)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),x=f(P),O=x.j(A);R(O)||0<O.l(D);)P-=E,x=f(P),O=x.j(A);T(x)&&(x=v),k=k.add(x),D=L(D,O)}return new M(k,D)}n.A=function(D){return $(this,D).h},n.and=function(D){for(var A=Math.max(this.g.length,D.g.length),P=[],E=0;E<A;E++)P[E]=this.i(E)&D.i(E);return new l(P,this.h&D.h)},n.or=function(D){for(var A=Math.max(this.g.length,D.g.length),P=[],E=0;E<A;E++)P[E]=this.i(E)|D.i(E);return new l(P,this.h|D.h)},n.xor=function(D){for(var A=Math.max(this.g.length,D.g.length),P=[],E=0;E<A;E++)P[E]=this.i(E)^D.i(E);return new l(P,this.h^D.h)};function B(D){for(var A=D.g.length+1,P=[],E=0;E<A;E++)P[E]=D.i(E)<<1|D.i(E-1)>>>31;return new l(P,D.h)}function q(D,A){var P=A>>5;A%=32;for(var E=D.g.length-P,k=[],x=0;x<E;x++)k[x]=0<A?D.i(x+P)>>>A|D.i(x+P+1)<<32-A:D.i(x+P);return new l(k,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,RC=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=m,Xs=l}).apply(typeof hI<"u"?hI:typeof self<"u"?self:typeof window<"u"?window:{});var Mf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bC,ed,AC,ap,D_,CC,PC,xC;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,_,I){return h==Array.prototype||h==Object.prototype||(h[_]=I.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Mf=="object"&&Mf];for(var _=0;_<h.length;++_){var I=h[_];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var r=t(this);function i(h,_){if(_)e:{var I=r;h=h.split(".");for(var N=0;N<h.length-1;N++){var Q=h[N];if(!(Q in I))break e;I=I[Q]}h=h[h.length-1],N=I[h],_=_(N),_!=N&&_!=null&&e(I,h,{configurable:!0,writable:!0,value:_})}}function o(h,_){h instanceof String&&(h+="");var I=0,N=!1,Q={next:function(){if(!N&&I<h.length){var ne=I++;return{value:_(ne,h[ne]),done:!1}}return N=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}i("Array.prototype.values",function(h){return h||function(){return o(this,function(_,I){return I})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function d(h){var _=typeof h;return _=_!="object"?_:h?Array.isArray(h)?"array":_:"null",_=="array"||_=="object"&&typeof h.length=="number"}function f(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function m(h,_,I){return h.call.apply(h.bind,arguments)}function y(h,_,I){if(!h)throw Error();if(2<arguments.length){var N=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,N),h.apply(_,Q)}}return function(){return h.apply(_,arguments)}}function v(h,_,I){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:y,v.apply(null,arguments)}function S(h,_){var I=Array.prototype.slice.call(arguments,1);return function(){var N=I.slice();return N.push.apply(N,arguments),h.apply(this,N)}}function T(h,_){function I(){}I.prototype=_.prototype,h.aa=_.prototype,h.prototype=new I,h.prototype.constructor=h,h.Qb=function(N,Q,ne){for(var ge=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)ge[tt-2]=arguments[tt];return _.prototype[Q].apply(N,ge)}}function R(h){const _=h.length;if(0<_){const I=Array(_);for(let N=0;N<_;N++)I[N]=h[N];return I}return[]}function b(h,_){for(let I=1;I<arguments.length;I++){const N=arguments[I];if(d(N)){const Q=h.length||0,ne=N.length||0;h.length=Q+ne;for(let ge=0;ge<ne;ge++)h[Q+ge]=N[ge]}else h.push(N)}}class L{constructor(_,I){this.i=_,this.j=I,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function V(h){return/^[\s\xa0]*$/.test(h)}function M(){var h=c.navigator;return h&&(h=h.userAgent)?h:""}function $(h){return $[" "](h),h}$[" "]=function(){};var B=M().indexOf("Gecko")!=-1&&!(M().toLowerCase().indexOf("webkit")!=-1&&M().indexOf("Edge")==-1)&&!(M().indexOf("Trident")!=-1||M().indexOf("MSIE")!=-1)&&M().indexOf("Edge")==-1;function q(h,_,I){for(const N in h)_.call(I,h[N],N,h)}function D(h,_){for(const I in h)_.call(void 0,h[I],I,h)}function A(h){const _={};for(const I in h)_[I]=h[I];return _}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(h,_){let I,N;for(let Q=1;Q<arguments.length;Q++){N=arguments[Q];for(I in N)h[I]=N[I];for(let ne=0;ne<P.length;ne++)I=P[ne],Object.prototype.hasOwnProperty.call(N,I)&&(h[I]=N[I])}}function k(h){var _=1;h=h.split(":");const I=[];for(;0<_&&h.length;)I.push(h.shift()),_--;return h.length&&I.push(h.join(":")),I}function x(h){c.setTimeout(()=>{throw h},0)}function O(){var h=fe;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class X{constructor(){this.h=this.g=null}add(_,I){const N=F.get();N.set(_,I),this.h?this.h.next=N:this.g=N,this.h=N}}var F=new L(()=>new pe,h=>h.reset());class pe{constructor(){this.next=this.g=this.h=null}set(_,I){this.h=_,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,Z=!1,fe=new X,de=()=>{const h=c.Promise.resolve(void 0);oe=()=>{h.then(W)}};var W=()=>{for(var h;h=O();){try{h.h.call(h.g)}catch(I){x(I)}var _=F;_.j(h),100>_.h&&(_.h++,h.next=_.g,_.g=h)}Z=!1};function ie(){this.s=this.s,this.C=this.C}ie.prototype.s=!1,ie.prototype.ma=function(){this.s||(this.s=!0,this.N())},ie.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Te(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}Te.prototype.h=function(){this.defaultPrevented=!0};var Ce=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const I=()=>{};c.addEventListener("test",I,_),c.removeEventListener("test",I,_)}catch{}return h}();function De(h,_){if(Te.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var I=this.type=h.type,N=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget){if(B){e:{try{$(_.nodeName);var Q=!0;break e}catch{}Q=!1}Q||(_=null)}}else I=="mouseover"?_=h.fromElement:I=="mouseout"&&(_=h.toElement);this.relatedTarget=_,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Me[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&De.aa.h.call(this)}}T(De,Te);var Me={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var We="closure_listenable_"+(1e6*Math.random()|0),ze=0;function Ze(h,_,I,N,Q){this.listener=h,this.proxy=null,this.src=_,this.type=I,this.capture=!!N,this.ha=Q,this.key=++ze,this.da=this.fa=!1}function gt(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function tn(h){this.src=h,this.g={},this.h=0}tn.prototype.add=function(h,_,I,N,Q){var ne=h.toString();h=this.g[ne],h||(h=this.g[ne]=[],this.h++);var ge=ht(h,_,N,Q);return-1<ge?(_=h[ge],I||(_.fa=!1)):(_=new Ze(_,this.src,ne,!!N,Q),_.fa=I,h.push(_)),_};function et(h,_){var I=_.type;if(I in h.g){var N=h.g[I],Q=Array.prototype.indexOf.call(N,_,void 0),ne;(ne=0<=Q)&&Array.prototype.splice.call(N,Q,1),ne&&(gt(_),h.g[I].length==0&&(delete h.g[I],h.h--))}}function ht(h,_,I,N){for(var Q=0;Q<h.length;++Q){var ne=h[Q];if(!ne.da&&ne.listener==_&&ne.capture==!!I&&ne.ha==N)return Q}return-1}var Kt="closure_lm_"+(1e6*Math.random()|0),xr={};function fr(h,_,I,N,Q){if(Array.isArray(_)){for(var ne=0;ne<_.length;ne++)fr(h,_[ne],I,N,Q);return null}return I=Mu(I),h&&h[We]?h.K(_,I,f(N)?!!N.capture:!1,Q):pr(h,_,I,!1,N,Q)}function pr(h,_,I,N,Q,ne){if(!_)throw Error("Invalid event type");var ge=f(Q)?!!Q.capture:!!Q,tt=Va(h);if(tt||(h[Kt]=tt=new tn(h)),I=tt.add(_,I,N,ge,ne),I.proxy)return I;if(N=Vn(),I.proxy=N,N.src=h,N.listener=I,h.addEventListener)Ce||(Q=ge),Q===void 0&&(Q=!1),h.addEventListener(_.toString(),N,Q);else if(h.attachEvent)h.attachEvent(Pi(_.toString()),N);else if(h.addListener&&h.removeListener)h.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return I}function Vn(){function h(I){return _.call(h.src,h.listener,I)}const _=Lu;return h}function Ln(h,_,I,N,Q){if(Array.isArray(_))for(var ne=0;ne<_.length;ne++)Ln(h,_[ne],I,N,Q);else N=f(N)?!!N.capture:!!N,I=Mu(I),h&&h[We]?(h=h.i,_=String(_).toString(),_ in h.g&&(ne=h.g[_],I=ht(ne,I,N,Q),-1<I&&(gt(ne[I]),Array.prototype.splice.call(ne,I,1),ne.length==0&&(delete h.g[_],h.h--)))):h&&(h=Va(h))&&(_=h.g[_.toString()],h=-1,_&&(h=ht(_,I,N,Q)),(I=-1<h?_[h]:null)&&Yn(I))}function Yn(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[We])et(_.i,h);else{var I=h.type,N=h.proxy;_.removeEventListener?_.removeEventListener(I,N,h.capture):_.detachEvent?_.detachEvent(Pi(I),N):_.addListener&&_.removeListener&&_.removeListener(N),(I=Va(_))?(et(I,h),I.h==0&&(I.src=null,_[Kt]=null)):gt(h)}}}function Pi(h){return h in xr?xr[h]:xr[h]="on"+h}function Lu(h,_){if(h.da)h=!0;else{_=new De(_,this);var I=h.listener,N=h.ha||h.src;h.fa&&Yn(h),h=I.call(N,_)}return h}function Va(h){return h=h[Kt],h instanceof tn?h:null}var La="__closure_events_fn_"+(1e9*Math.random()>>>0);function Mu(h){return typeof h=="function"?h:(h[La]||(h[La]=function(_){return h.handleEvent(_)}),h[La])}function Gt(){ie.call(this),this.i=new tn(this),this.M=this,this.F=null}T(Gt,ie),Gt.prototype[We]=!0,Gt.prototype.removeEventListener=function(h,_,I,N){Ln(this,h,_,I,N)};function Qt(h,_){var I,N=h.F;if(N)for(I=[];N;N=N.F)I.push(N);if(h=h.M,N=_.type||_,typeof _=="string")_=new Te(_,h);else if(_ instanceof Te)_.target=_.target||h;else{var Q=_;_=new Te(N,h),E(_,Q)}if(Q=!0,I)for(var ne=I.length-1;0<=ne;ne--){var ge=_.g=I[ne];Q=xi(ge,N,!0,_)&&Q}if(ge=_.g=h,Q=xi(ge,N,!0,_)&&Q,Q=xi(ge,N,!1,_)&&Q,I)for(ne=0;ne<I.length;ne++)ge=_.g=I[ne],Q=xi(ge,N,!1,_)&&Q}Gt.prototype.N=function(){if(Gt.aa.N.call(this),this.i){var h=this.i,_;for(_ in h.g){for(var I=h.g[_],N=0;N<I.length;N++)gt(I[N]);delete h.g[_],h.h--}}this.F=null},Gt.prototype.K=function(h,_,I,N){return this.i.add(String(h),_,!1,I,N)},Gt.prototype.L=function(h,_,I,N){return this.i.add(String(h),_,!0,I,N)};function xi(h,_,I,N){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();for(var Q=!0,ne=0;ne<_.length;++ne){var ge=_[ne];if(ge&&!ge.da&&ge.capture==I){var tt=ge.listener,Yt=ge.ha||ge.src;ge.fa&&et(h.i,ge),Q=tt.call(Yt,N)!==!1&&Q}}return Q&&!N.defaultPrevented}function Fu(h,_,I){if(typeof h=="function")I&&(h=v(h,I));else if(h&&typeof h.handleEvent=="function")h=v(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:c.setTimeout(h,_||0)}function ps(h){h.g=Fu(()=>{h.g=null,h.i&&(h.i=!1,ps(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class Ao extends ie{constructor(_,I){super(),this.m=_,this.l=I,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:ps(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Co(h){ie.call(this),this.h=h,this.g={}}T(Co,ie);var ju=[];function Uu(h){q(h.g,function(_,I){this.g.hasOwnProperty(I)&&Yn(_)},h),h.g={}}Co.prototype.N=function(){Co.aa.N.call(this),Uu(this)},Co.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Bu=c.JSON.stringify,zu=c.JSON.parse,$u=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Po(){}Po.prototype.h=null;function Ma(h){return h.h||(h.h=h.i())}function Fa(){}var mr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Xr(){Te.call(this,"d")}T(Xr,Te);function ja(){Te.call(this,"c")}T(ja,Te);var Zr={},qu=null;function xo(){return qu=qu||new Gt}Zr.La="serverreachability";function Wu(h){Te.call(this,Zr.La,h)}T(Wu,Te);function ki(h){const _=xo();Qt(_,new Wu(_))}Zr.STAT_EVENT="statevent";function Hu(h,_){Te.call(this,Zr.STAT_EVENT,h),this.stat=_}T(Hu,Te);function Dt(h){const _=xo();Qt(_,new Hu(_,h))}Zr.Ma="timingevent";function Ua(h,_){Te.call(this,Zr.Ma,h),this.size=_}T(Ua,Te);function kr(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},_)}function ko(){this.g=!0}ko.prototype.xa=function(){this.g=!1};function Oo(h,_,I,N,Q,ne){h.info(function(){if(h.g)if(ne)for(var ge="",tt=ne.split("&"),Yt=0;Yt<tt.length;Yt++){var He=tt[Yt].split("=");if(1<He.length){var nn=He[0];He=He[1];var Ut=nn.split("_");ge=2<=Ut.length&&Ut[1]=="type"?ge+(nn+"="+He+"&"):ge+(nn+"=redacted&")}}else ge=null;else ge=ne;return"XMLHTTP REQ ("+N+") [attempt "+Q+"]: "+_+`
`+I+`
`+ge})}function Ba(h,_,I,N,Q,ne,ge){h.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+Q+"]: "+_+`
`+I+`
`+ne+" "+ge})}function Or(h,_,I,N){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+tg(h,I)+(N?" "+N:"")})}function Ku(h,_){h.info(function(){return"TIMEOUT: "+_})}ko.prototype.info=function(){};function tg(h,_){if(!h.g)return _;if(!_)return null;try{var I=JSON.parse(_);if(I){for(h=0;h<I.length;h++)if(Array.isArray(I[h])){var N=I[h];if(!(2>N.length)){var Q=N[1];if(Array.isArray(Q)&&!(1>Q.length)){var ne=Q[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(var ge=1;ge<Q.length;ge++)Q[ge]=""}}}}return Bu(I)}catch{return _}}var za={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ph={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Nr;function No(){}T(No,Po),No.prototype.g=function(){return new XMLHttpRequest},No.prototype.i=function(){return{}},Nr=new No;function Dr(h,_,I,N){this.j=h,this.i=_,this.l=I,this.R=N||1,this.U=new Co(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new mh}function mh(){this.i=null,this.g="",this.h=!1}var Gu={},$a={};function qa(h,_,I){h.L=1,h.v=vs(Xn(_)),h.m=I,h.P=!0,Qu(h,null)}function Qu(h,_){h.F=Date.now(),ut(h),h.A=Xn(h.v);var I=h.A,N=h.R;Array.isArray(N)||(N=[String(N)]),Es(I.i,"t",N),h.C=0,I=h.j.J,h.h=new mh,h.g=Nh(h.j,I?_:null,!h.m),0<h.O&&(h.M=new Ao(v(h.Y,h,h.g),h.O)),_=h.U,I=h.g,N=h.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(ju[0]=Q.toString()),Q=ju);for(var ne=0;ne<Q.length;ne++){var ge=fr(I,Q[ne],N||_.handleEvent,!1,_.h||_);if(!ge)break;_.g[ge.key]=ge}_=h.H?A(h.H):{},h.m?(h.u||(h.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,_)):(h.u="GET",h.g.ea(h.A,h.u,null,_)),ki(),Oo(h.i,h.u,h.A,h.l,h.R,h.m)}Dr.prototype.ca=function(h){h=h.target;const _=this.M;_&&Fn(h)==3?_.j():this.Y(h)},Dr.prototype.Y=function(h){try{if(h==this.g)e:{const Ut=Fn(this.g);var _=this.g.Ba();const _r=this.g.Z();if(!(3>Ut)&&(Ut!=3||this.g&&(this.h.h||this.g.oa()||tc(this.g)))){this.J||Ut!=4||_==7||(_==8||0>=_r?ki(3):ki(2)),Do(this);var I=this.g.Z();this.X=I;t:if(gh(this)){var N=tc(this.g);h="";var Q=N.length,ne=Fn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){gr(this),ms(this);var ge="";break t}this.h.i=new c.TextDecoder}for(_=0;_<Q;_++)this.h.h=!0,h+=this.h.i.decode(N[_],{stream:!(ne&&_==Q-1)});N.length=0,this.h.g+=h,this.C=0,ge=this.h.g}else ge=this.g.oa();if(this.o=I==200,Ba(this.i,this.u,this.A,this.l,this.R,Ut,I),this.o){if(this.T&&!this.K){t:{if(this.g){var tt,Yt=this.g;if((tt=Yt.g?Yt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(tt)){var He=tt;break t}}He=null}if(I=He)Or(this.i,this.l,I,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Yu(this,I);else{this.o=!1,this.s=3,Dt(12),gr(this),ms(this);break e}}if(this.P){I=!0;let er;for(;!this.J&&this.C<ge.length;)if(er=ng(this,ge),er==$a){Ut==4&&(this.s=4,Dt(14),I=!1),Or(this.i,this.l,null,"[Incomplete Response]");break}else if(er==Gu){this.s=4,Dt(15),Or(this.i,this.l,ge,"[Invalid Chunk]"),I=!1;break}else Or(this.i,this.l,er,null),Yu(this,er);if(gh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ut!=4||ge.length!=0||this.h.h||(this.s=1,Dt(16),I=!1),this.o=this.o&&I,!I)Or(this.i,this.l,ge,"[Invalid Chunked Response]"),gr(this),ms(this);else if(0<ge.length&&!this.W){this.W=!0;var nn=this.j;nn.g==this&&nn.ba&&!nn.M&&(nn.j.info("Great, no buffering proxy detected. Bytes received: "+ge.length),rc(nn),nn.M=!0,Dt(11))}}else Or(this.i,this.l,ge,null),Yu(this,ge);Ut==4&&gr(this),this.o&&!this.J&&(Ut==4?tl(this.j,this):(this.o=!1,ut(this)))}else Ya(this.g),I==400&&0<ge.indexOf("Unknown SID")?(this.s=3,Dt(12)):(this.s=0,Dt(13)),gr(this),ms(this)}}}catch{}finally{}};function gh(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function ng(h,_){var I=h.C,N=_.indexOf(`
`,I);return N==-1?$a:(I=Number(_.substring(I,N)),isNaN(I)?Gu:(N+=1,N+I>_.length?$a:(_=_.slice(N,N+I),h.C=N+I,_)))}Dr.prototype.cancel=function(){this.J=!0,gr(this)};function ut(h){h.S=Date.now()+h.I,yh(h,h.I)}function yh(h,_){if(h.B!=null)throw Error("WatchDog timer not null");h.B=kr(v(h.ba,h),_)}function Do(h){h.B&&(c.clearTimeout(h.B),h.B=null)}Dr.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Ku(this.i,this.A),this.L!=2&&(ki(),Dt(17)),gr(this),this.s=2,ms(this)):yh(this,this.S-h)};function ms(h){h.j.G==0||h.J||tl(h.j,h)}function gr(h){Do(h);var _=h.M;_&&typeof _.ma=="function"&&_.ma(),h.M=null,Uu(h.U),h.g&&(_=h.g,h.g=null,_.abort(),_.ma())}function Yu(h,_){try{var I=h.j;if(I.G!=0&&(I.g==h||An(I.h,h))){if(!h.K&&An(I.h,h)&&I.G==3){try{var N=I.Da.g.parse(_)}catch{N=null}if(Array.isArray(N)&&N.length==3){var Q=N;if(Q[0]==0){e:if(!I.u){if(I.g)if(I.g.F+3e3<h.F)el(I),jr(I);else break e;Za(I),Dt(18)}}else I.za=Q[1],0<I.za-I.T&&37500>Q[2]&&I.F&&I.v==0&&!I.C&&(I.C=kr(v(I.Za,I),6e3));if(1>=vh(I.h)&&I.ca){try{I.ca()}catch{}I.ca=void 0}}else Li(I,11)}else if((h.K||I.g==h)&&el(I),!V(_))for(Q=I.Da.g.parse(_),_=0;_<Q.length;_++){let He=Q[_];if(I.T=He[0],He=He[1],I.G==2)if(He[0]=="c"){I.K=He[1],I.ia=He[2];const nn=He[3];nn!=null&&(I.la=nn,I.j.info("VER="+I.la));const Ut=He[4];Ut!=null&&(I.Aa=Ut,I.j.info("SVER="+I.Aa));const _r=He[5];_r!=null&&typeof _r=="number"&&0<_r&&(N=1.5*_r,I.L=N,I.j.info("backChannelRequestTimeoutMs_="+N)),N=I;const er=h.g;if(er){const Bo=er.g?er.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bo){var ne=N.h;ne.g||Bo.indexOf("spdy")==-1&&Bo.indexOf("quic")==-1&&Bo.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(Ju(ne,ne.h),ne.h=null))}if(N.D){const rl=er.g?er.g.getResponseHeader("X-HTTP-Session-Id"):null;rl&&(N.ya=rl,st(N.I,N.D,rl))}}I.G=3,I.l&&I.l.ua(),I.ba&&(I.R=Date.now()-h.F,I.j.info("Handshake RTT: "+I.R+"ms")),N=I;var ge=h;if(N.qa=Oh(N,N.J?N.ia:null,N.W),ge.K){wh(N.h,ge);var tt=ge,Yt=N.L;Yt&&(tt.I=Yt),tt.B&&(Do(tt),ut(tt)),N.g=ge}else Uo(N);0<I.i.length&&ri(I)}else He[0]!="stop"&&He[0]!="close"||Li(I,7);else I.G==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?Li(I,7):cn(I):He[0]!="noop"&&I.l&&I.l.ta(He),I.v=0)}}ki(4)}catch{}}var _h=class{constructor(h,_){this.g=h,this.map=_}};function Vo(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Jn(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function vh(h){return h.h?1:h.g?h.g.size:0}function An(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function Ju(h,_){h.g?h.g.add(_):h.h=_}function wh(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}Vo.prototype.cancel=function(){if(this.i=Eh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Eh(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const I of h.g.values())_=_.concat(I.D);return _}return R(h.i)}function Wa(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(d(h)){for(var _=[],I=h.length,N=0;N<I;N++)_.push(h[N]);return _}_=[],I=0;for(N in h)_[I++]=h[N];return _}function Ha(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(d(h)||typeof h=="string"){var _=[];h=h.length;for(var I=0;I<h;I++)_.push(I);return _}_=[],I=0;for(const N in h)_[I++]=N;return _}}}function gs(h,_){if(h.forEach&&typeof h.forEach=="function")h.forEach(_,void 0);else if(d(h)||typeof h=="string")Array.prototype.forEach.call(h,_,void 0);else for(var I=Ha(h),N=Wa(h),Q=N.length,ne=0;ne<Q;ne++)_.call(void 0,N[ne],I&&I[ne],h)}var Lo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rg(h,_){if(h){h=h.split("&");for(var I=0;I<h.length;I++){var N=h[I].indexOf("="),Q=null;if(0<=N){var ne=h[I].substring(0,N);Q=h[I].substring(N+1)}else ne=h[I];_(ne,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function Oi(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Oi){this.h=h.h,Mo(this,h.j),this.o=h.o,this.g=h.g,ys(this,h.s),this.l=h.l;var _=h.i,I=new ei;I.i=_.i,_.g&&(I.g=new Map(_.g),I.h=_.h),_s(this,I),this.m=h.m}else h&&(_=String(h).match(Lo))?(this.h=!1,Mo(this,_[1]||"",!0),this.o=$e(_[2]||""),this.g=$e(_[3]||"",!0),ys(this,_[4]),this.l=$e(_[5]||"",!0),_s(this,_[6]||"",!0),this.m=$e(_[7]||"")):(this.h=!1,this.i=new ei(null,this.h))}Oi.prototype.toString=function(){var h=[],_=this.j;_&&h.push(ws(_,Ka,!0),":");var I=this.g;return(I||_=="file")&&(h.push("//"),(_=this.o)&&h.push(ws(_,Ka,!0),"@"),h.push(encodeURIComponent(String(I)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.s,I!=null&&h.push(":",String(I))),(I=this.l)&&(this.g&&I.charAt(0)!="/"&&h.push("/"),h.push(ws(I,I.charAt(0)=="/"?Ih:Sh,!0))),(I=this.i.toString())&&h.push("?",I),(I=this.m)&&h.push("#",ws(I,Xu)),h.join("")};function Xn(h){return new Oi(h)}function Mo(h,_,I){h.j=I?$e(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function ys(h,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);h.s=_}else h.s=null}function _s(h,_,I){_ instanceof ei?(h.i=_,ti(h.i,h.h)):(I||(_=ws(_,Rh)),h.i=new ei(_,h.h))}function st(h,_,I){h.i.set(_,I)}function vs(h){return st(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function $e(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function ws(h,_,I){return typeof h=="string"?(h=encodeURI(h).replace(_,Th),I&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Th(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ka=/[#\/\?@]/g,Sh=/[#\?:]/g,Ih=/[#\?]/g,Rh=/[#\?@]/g,Xu=/#/g;function ei(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function un(h){h.g||(h.g=new Map,h.h=0,h.i&&rg(h.i,function(_,I){h.add(decodeURIComponent(_.replace(/\+/g," ")),I)}))}n=ei.prototype,n.add=function(h,_){un(this),this.i=null,h=yr(this,h);var I=this.g.get(h);return I||this.g.set(h,I=[]),I.push(_),this.h+=1,this};function Vr(h,_){un(h),_=yr(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function Lr(h,_){return un(h),_=yr(h,_),h.g.has(_)}n.forEach=function(h,_){un(this),this.g.forEach(function(I,N){I.forEach(function(Q){h.call(_,Q,N,this)},this)},this)},n.na=function(){un(this);const h=Array.from(this.g.values()),_=Array.from(this.g.keys()),I=[];for(let N=0;N<_.length;N++){const Q=h[N];for(let ne=0;ne<Q.length;ne++)I.push(_[N])}return I},n.V=function(h){un(this);let _=[];if(typeof h=="string")Lr(this,h)&&(_=_.concat(this.g.get(yr(this,h))));else{h=Array.from(this.g.values());for(let I=0;I<h.length;I++)_=_.concat(h[I])}return _},n.set=function(h,_){return un(this),this.i=null,h=yr(this,h),Lr(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},n.get=function(h,_){return h?(h=this.V(h),0<h.length?String(h[0]):_):_};function Es(h,_,I){Vr(h,_),0<I.length&&(h.i=null,h.g.set(yr(h,_),R(I)),h.h+=I.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(var I=0;I<_.length;I++){var N=_[I];const ne=encodeURIComponent(String(N)),ge=this.V(N);for(N=0;N<ge.length;N++){var Q=ne;ge[N]!==""&&(Q+="="+encodeURIComponent(String(ge[N]))),h.push(Q)}}return this.i=h.join("&")};function yr(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function ti(h,_){_&&!h.j&&(un(h),h.i=null,h.g.forEach(function(I,N){var Q=N.toLowerCase();N!=Q&&(Vr(this,N),Es(this,Q,I))},h)),h.j=_}function ig(h,_){const I=new ko;if(c.Image){const N=new Image;N.onload=S(Mn,I,"TestLoadImage: loaded",!0,_,N),N.onerror=S(Mn,I,"TestLoadImage: error",!1,_,N),N.onabort=S(Mn,I,"TestLoadImage: abort",!1,_,N),N.ontimeout=S(Mn,I,"TestLoadImage: timeout",!1,_,N),c.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=h}else _(!1)}function bh(h,_){const I=new ko,N=new AbortController,Q=setTimeout(()=>{N.abort(),Mn(I,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:N.signal}).then(ne=>{clearTimeout(Q),ne.ok?Mn(I,"TestPingServer: ok",!0,_):Mn(I,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(Q),Mn(I,"TestPingServer: error",!1,_)})}function Mn(h,_,I,N,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),N(I)}catch{}}function sg(){this.g=new $u}function Ah(h,_,I){const N=I||"";try{gs(h,function(Q,ne){let ge=Q;f(Q)&&(ge=Bu(Q)),_.push(N+ne+"="+encodeURIComponent(ge))})}catch(Q){throw _.push(N+"type="+encodeURIComponent("_badmap")),Q}}function Ni(h){this.l=h.Ub||null,this.j=h.eb||!1}T(Ni,Po),Ni.prototype.g=function(){return new Fo(this.l,this.j)},Ni.prototype.i=function(h){return function(){return h}}({});function Fo(h,_){Gt.call(this),this.D=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(Fo,Gt),n=Fo.prototype,n.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=_,this.readyState=1,Fr(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(_.body=h),(this.D||c).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Mr(this)),this.readyState=0},n.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Fr(this)),this.g&&(this.readyState=3,Fr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ch(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ch(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}n.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?Mr(this):Fr(this),this.readyState==3&&Ch(this)}},n.Ra=function(h){this.g&&(this.response=this.responseText=h,Mr(this))},n.Qa=function(h){this.g&&(this.response=h,Mr(this))},n.ga=function(){this.g&&Mr(this)};function Mr(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Fr(h)}n.setRequestHeader=function(h,_){this.u.append(h,_)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var I=_.next();!I.done;)I=I.value,h.push(I[0]+": "+I[1]),I=_.next();return h.join(`\r
`)};function Fr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Fo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Di(h){let _="";return q(h,function(I,N){_+=N,_+=":",_+=I,_+=`\r
`}),_}function Ts(h,_,I){e:{for(N in I){var N=!1;break e}N=!0}N||(I=Di(I),typeof h=="string"?I!=null&&encodeURIComponent(String(I)):st(h,_,I))}function yt(h){Gt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(yt,Gt);var og=/^https?$/i,Zu=["POST","PUT"];n=yt.prototype,n.Ha=function(h){this.J=h},n.ea=function(h,_,I,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Nr.g(),this.v=this.o?Ma(this.o):Ma(Nr),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(ne){jo(this,ne);return}if(h=I||"",I=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var Q in N)I.set(Q,N[Q]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const ne of N.keys())I.set(ne,N.get(ne));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(I.keys()).find(ne=>ne.toLowerCase()=="content-type"),Q=c.FormData&&h instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Zu,_,void 0))||N||Q||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,ge]of I)this.g.setRequestHeader(ne,ge);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Qa(this),this.u=!0,this.g.send(h),this.u=!1}catch(ne){jo(this,ne)}};function jo(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.m=5,Ga(h),Zn(h)}function Ga(h){h.A||(h.A=!0,Qt(h,"complete"),Qt(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Qt(this,"complete"),Qt(this,"abort"),Zn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zn(this,!0)),yt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ec(this):this.bb())},n.bb=function(){ec(this)};function ec(h){if(h.h&&typeof l<"u"&&(!h.v[1]||Fn(h)!=4||h.Z()!=2)){if(h.u&&Fn(h)==4)Fu(h.Ea,0,h);else if(Qt(h,"readystatechange"),Fn(h)==4){h.h=!1;try{const ge=h.Z();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var I;if(!(I=_)){var N;if(N=ge===0){var Q=String(h.D).match(Lo)[1]||null;!Q&&c.self&&c.self.location&&(Q=c.self.location.protocol.slice(0,-1)),N=!og.test(Q?Q.toLowerCase():"")}I=N}if(I)Qt(h,"complete"),Qt(h,"success");else{h.m=6;try{var ne=2<Fn(h)?h.g.statusText:""}catch{ne=""}h.l=ne+" ["+h.Z()+"]",Ga(h)}}finally{Zn(h)}}}}function Zn(h,_){if(h.g){Qa(h);const I=h.g,N=h.v[0]?()=>{}:null;h.g=null,h.v=null,_||Qt(h,"ready");try{I.onreadystatechange=N}catch{}}}function Qa(h){h.I&&(c.clearTimeout(h.I),h.I=null)}n.isActive=function(){return!!this.g};function Fn(h){return h.g?h.g.readyState:0}n.Z=function(){try{return 2<Fn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),zu(_)}};function tc(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Ya(h){const _={};h=(h.g&&2<=Fn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<h.length;N++){if(V(h[N]))continue;var I=k(h[N]);const Q=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const ne=_[Q]||[];_[Q]=ne,ne.push(I)}D(_,function(N){return N.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ni(h,_,I){return I&&I.internalChannelParams&&I.internalChannelParams[h]||_}function nc(h){this.Aa=0,this.i=[],this.j=new ko,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ni("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ni("baseRetryDelayMs",5e3,h),this.cb=ni("retryDelaySeedMs",1e4,h),this.Wa=ni("forwardChannelMaxRetries",2,h),this.wa=ni("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Vo(h&&h.concurrentRequestLimit),this.Da=new sg,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=nc.prototype,n.la=8,n.G=1,n.connect=function(h,_,I,N){Dt(0),this.W=h,this.H=_||{},I&&N!==void 0&&(this.H.OSID=I,this.H.OAID=N),this.F=this.X,this.I=Oh(this,null,this.W),ri(this)};function cn(h){if(Ja(h),h.G==3){var _=h.U++,I=Xn(h.I);if(st(I,"SID",h.K),st(I,"RID",_),st(I,"TYPE","terminate"),Vi(h,I),_=new Dr(h,h.j,_),_.L=2,_.v=vs(Xn(I)),I=!1,c.navigator&&c.navigator.sendBeacon)try{I=c.navigator.sendBeacon(_.v.toString(),"")}catch{}!I&&c.Image&&(new Image().src=_.v,I=!0),I||(_.g=Nh(_.j,null),_.g.ea(_.v)),_.F=Date.now(),ut(_)}kh(h)}function jr(h){h.g&&(rc(h),h.g.cancel(),h.g=null)}function Ja(h){jr(h),h.u&&(c.clearTimeout(h.u),h.u=null),el(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&c.clearTimeout(h.s),h.s=null)}function ri(h){if(!Jn(h.h)&&!h.s){h.s=!0;var _=h.Ga;oe||de(),Z||(oe(),Z=!0),fe.add(_,h),h.B=0}}function ag(h,_){return vh(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=_.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=kr(v(h.Ga,h,_),xh(h,h.B)),h.B++,!0)}n.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const Q=new Dr(this,this.j,h);let ne=this.o;if(this.S&&(ne?(ne=A(ne),E(ne,this.S)):ne=this.S),this.m!==null||this.O||(Q.H=ne,ne=null),this.P)e:{for(var _=0,I=0;I<this.i.length;I++){t:{var N=this.i[I];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(_+=N,4096<_){_=I;break e}if(_===4096||I===this.i.length-1){_=I+1;break e}}_=1e3}else _=1e3;_=Ss(this,Q,_),I=Xn(this.I),st(I,"RID",h),st(I,"CVER",22),this.D&&st(I,"X-HTTP-Session-Id",this.D),Vi(this,I),ne&&(this.O?_="headers="+encodeURIComponent(String(Di(ne)))+"&"+_:this.m&&Ts(I,this.m,ne)),Ju(this.h,Q),this.Ua&&st(I,"TYPE","init"),this.P?(st(I,"$req",_),st(I,"SID","null"),Q.T=!0,qa(Q,I,null)):qa(Q,I,_),this.G=2}}else this.G==3&&(h?Xa(this,h):this.i.length==0||Jn(this.h)||Xa(this))};function Xa(h,_){var I;_?I=_.l:I=h.U++;const N=Xn(h.I);st(N,"SID",h.K),st(N,"RID",I),st(N,"AID",h.T),Vi(h,N),h.m&&h.o&&Ts(N,h.m,h.o),I=new Dr(h,h.j,I,h.B+1),h.m===null&&(I.H=h.o),_&&(h.i=_.D.concat(h.i)),_=Ss(h,I,1e3),I.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Ju(h.h,I),qa(I,N,_)}function Vi(h,_){h.H&&q(h.H,function(I,N){st(_,N,I)}),h.l&&gs({},function(I,N){st(_,N,I)})}function Ss(h,_,I){I=Math.min(h.i.length,I);var N=h.l?v(h.l.Na,h.l,h):null;e:{var Q=h.i;let ne=-1;for(;;){const ge=["count="+I];ne==-1?0<I?(ne=Q[0].g,ge.push("ofs="+ne)):ne=0:ge.push("ofs="+ne);let tt=!0;for(let Yt=0;Yt<I;Yt++){let He=Q[Yt].g;const nn=Q[Yt].map;if(He-=ne,0>He)ne=Math.max(0,Q[Yt].g-100),tt=!1;else try{Ah(nn,ge,"req"+He+"_")}catch{N&&N(nn)}}if(tt){N=ge.join("&");break e}}}return h=h.i.splice(0,I),_.D=h,N}function Uo(h){if(!h.g&&!h.u){h.Y=1;var _=h.Fa;oe||de(),Z||(oe(),Z=!0),fe.add(_,h),h.v=0}}function Za(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=kr(v(h.Fa,h),xh(h,h.v)),h.v++,!0)}n.Fa=function(){if(this.u=null,Ph(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=kr(v(this.ab,this),h)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Dt(10),jr(this),Ph(this))};function rc(h){h.A!=null&&(c.clearTimeout(h.A),h.A=null)}function Ph(h){h.g=new Dr(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var _=Xn(h.qa);st(_,"RID","rpc"),st(_,"SID",h.K),st(_,"AID",h.T),st(_,"CI",h.F?"0":"1"),!h.F&&h.ja&&st(_,"TO",h.ja),st(_,"TYPE","xmlhttp"),Vi(h,_),h.m&&h.o&&Ts(_,h.m,h.o),h.L&&(h.g.I=h.L);var I=h.g;h=h.ia,I.L=1,I.v=vs(Xn(_)),I.m=null,I.P=!0,Qu(I,h)}n.Za=function(){this.C!=null&&(this.C=null,jr(this),Za(this),Dt(19))};function el(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function tl(h,_){var I=null;if(h.g==_){el(h),rc(h),h.g=null;var N=2}else if(An(h.h,_))I=_.D,wh(h.h,_),N=1;else return;if(h.G!=0){if(_.o)if(N==1){I=_.m?_.m.length:0,_=Date.now()-_.F;var Q=h.B;N=xo(),Qt(N,new Ua(N,I)),ri(h)}else Uo(h);else if(Q=_.s,Q==3||Q==0&&0<_.X||!(N==1&&ag(h,_)||N==2&&Za(h)))switch(I&&0<I.length&&(_=h.h,_.i=_.i.concat(I)),Q){case 1:Li(h,5);break;case 4:Li(h,10);break;case 3:Li(h,6);break;default:Li(h,2)}}}function xh(h,_){let I=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(I*=2),I*_}function Li(h,_){if(h.j.info("Error code "+_),_==2){var I=v(h.fb,h),N=h.Xa;const Q=!N;N=new Oi(N||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Mo(N,"https"),vs(N),Q?ig(N.toString(),I):bh(N.toString(),I)}else Dt(2);h.G=0,h.l&&h.l.sa(_),kh(h),Ja(h)}n.fb=function(h){h?(this.j.info("Successfully pinged google.com"),Dt(2)):(this.j.info("Failed to ping google.com"),Dt(1))};function kh(h){if(h.G=0,h.ka=[],h.l){const _=Eh(h.h);(_.length!=0||h.i.length!=0)&&(b(h.ka,_),b(h.ka,h.i),h.h.i.length=0,R(h.i),h.i.length=0),h.l.ra()}}function Oh(h,_,I){var N=I instanceof Oi?Xn(I):new Oi(I);if(N.g!="")_&&(N.g=_+"."+N.g),ys(N,N.s);else{var Q=c.location;N=Q.protocol,_=_?_+"."+Q.hostname:Q.hostname,Q=+Q.port;var ne=new Oi(null);N&&Mo(ne,N),_&&(ne.g=_),Q&&ys(ne,Q),I&&(ne.l=I),N=ne}return I=h.D,_=h.ya,I&&_&&st(N,I,_),st(N,"VER",h.la),Vi(h,N),N}function Nh(h,_,I){if(_&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Ca&&!h.pa?new yt(new Ni({eb:I})):new yt(h.pa),_.Ha(h.J),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ic(){}n=ic.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function nl(){}nl.prototype.g=function(h,_){return new Cn(h,_)};function Cn(h,_){Gt.call(this),this.g=new nc(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(h?h["X-WebChannel-Client-Profile"]=_.va:h={"X-WebChannel-Client-Profile":_.va}),this.g.S=h,(h=_&&_.Sb)&&!V(h)&&(this.g.m=h),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!V(_)&&(this.g.D=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new ii(this)}T(Cn,Gt),Cn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Cn.prototype.close=function(){cn(this.g)},Cn.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var I={};I.__data__=h,h=I}else this.u&&(I={},I.__data__=Bu(h),h=I);_.i.push(new _h(_.Ya++,h)),_.G==3&&ri(_)},Cn.prototype.N=function(){this.g.l=null,delete this.j,cn(this.g),delete this.g,Cn.aa.N.call(this)};function Dh(h){Xr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const I in _){h=I;break e}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}T(Dh,Xr);function Vh(){ja.call(this),this.status=1}T(Vh,ja);function ii(h){this.g=h}T(ii,ic),ii.prototype.ua=function(){Qt(this.g,"a")},ii.prototype.ta=function(h){Qt(this.g,new Dh(h))},ii.prototype.sa=function(h){Qt(this.g,new Vh)},ii.prototype.ra=function(){Qt(this.g,"b")},nl.prototype.createWebChannel=nl.prototype.g,Cn.prototype.send=Cn.prototype.o,Cn.prototype.open=Cn.prototype.m,Cn.prototype.close=Cn.prototype.close,xC=function(){return new nl},PC=function(){return xo()},CC=Zr,D_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},za.NO_ERROR=0,za.TIMEOUT=8,za.HTTP_ERROR=6,ap=za,ph.COMPLETE="complete",AC=ph,Fa.EventType=mr,mr.OPEN="a",mr.CLOSE="b",mr.ERROR="c",mr.MESSAGE="d",Gt.prototype.listen=Gt.prototype.K,ed=Fa,yt.prototype.listenOnce=yt.prototype.L,yt.prototype.getLastError=yt.prototype.Ka,yt.prototype.getLastErrorCode=yt.prototype.Ba,yt.prototype.getStatus=yt.prototype.Z,yt.prototype.getResponseJson=yt.prototype.Oa,yt.prototype.getResponseText=yt.prototype.oa,yt.prototype.send=yt.prototype.ea,yt.prototype.setWithCredentials=yt.prototype.Ha,bC=yt}).apply(typeof Mf<"u"?Mf:typeof self<"u"?self:typeof window<"u"?window:{});const fI="@firebase/firestore",pI="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Au="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao=new Tm("@firebase/firestore");function Vl(){return ao.logLevel}function gB(n){ao.setLogLevel(n)}function ue(n,...e){if(ao.logLevel<=je.DEBUG){const t=e.map(Xv);ao.debug(`Firestore (${Au}): ${n}`,...t)}}function Lt(n,...e){if(ao.logLevel<=je.ERROR){const t=e.map(Xv);ao.error(`Firestore (${Au}): ${n}`,...t)}}function Si(n,...e){if(ao.logLevel<=je.WARN){const t=e.map(Xv);ao.warn(`Firestore (${Au}): ${n}`,...t)}}function Xv(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(n="Unexpected state"){const e=`FIRESTORE (${Au}) INTERNAL ASSERTION FAILED: `+n;throw Lt(e),new Error(e)}function Ie(n,e){n||we()}function yB(n,e){n||we()}function _e(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends Ci{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _B{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ln.UNAUTHENTICATED))}shutdown(){}}class vB{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class wB{constructor(e){this.t=e,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ie(this.o===void 0);let r=this.i;const i=d=>this.i!==r?(r=this.i,t(d)):Promise.resolve();let o=new gn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new gn,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const d=o;e.enqueueRetryable(async()=>{await d.promise,await i(this.currentUser)})},c=d=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(d=>c(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new gn)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ie(typeof r.accessToken=="string"),new kC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ie(e===null||typeof e=="string"),new ln(e)}}class EB{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class TB{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new EB(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(ln.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class mI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class SB{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,lr(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Ie(this.o===void 0);const r=o=>{o.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.R;return this.R=o.token,ue("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new mI(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ie(typeof t.token=="string"),this.R=t.token,new mI(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IB(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=IB(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}}function Ne(n,e){return n<e?-1:n>e?1:0}function Zl(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function NC(n){return n+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI=-62135596800,yI=1e6;class St{static now(){return St.fromMillis(Date.now())}static fromDate(e){return St.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*yI);return new St(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ae(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ae(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<gI)throw new ae(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/yI}_compareTo(e){return this.seconds===e.seconds?Ne(this.nanoseconds,e.nanoseconds):Ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-gI;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new St(0,0))}static max(){return new Ae(new St(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I="__name__";class di{constructor(e,t,r){t===void 0?t=0:t>e.length&&we(),r===void 0?r=e.length-t:r>e.length-t&&we(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return di.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof di?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=di.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return Math.sign(e.length-t.length)}static compareSegments(e,t){const r=di.isNumericId(e),i=di.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?di.extractNumericId(e).compare(di.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Xs.fromString(e.substring(4,e.length-2))}}class Ue extends di{construct(e,t,r){return new Ue(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ae(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Ue(t)}static emptyPath(){return new Ue([])}}const RB=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Et extends di{construct(e,t,r){return new Et(e,t,r)}static isValidIdentifier(e){return RB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Et.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_I}static keyField(){return new Et([_I])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ae(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new ae(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new ae(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(o(),i++)}if(o(),l)throw new ae(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Et(t)}static emptyPath(){return new Et([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(Ue.fromString(e))}static fromName(e){return new ye(Ue.fromString(e).popFirst(5))}static empty(){return new ye(Ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ue.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ue.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new Ue(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eu=-1;class Np{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function V_(n){return n.fields.find(e=>e.kind===2)}function ra(n){return n.fields.filter(e=>e.kind!==2)}Np.UNKNOWN_ID=-1;class lp{constructor(e,t){this.fieldPath=e,this.kind=t}}class Id{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Id(0,hr.min())}}function DC(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Ae.fromTimestamp(r===1e9?new St(t+1,0):new St(t,r));return new hr(i,ye.empty(),e)}function VC(n){return new hr(n.readTime,n.key,eu)}class hr{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new hr(Ae.min(),ye.empty(),eu)}static max(){return new hr(Ae.max(),ye.empty(),eu)}}function Zv(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ye.comparator(n.documentKey,e.documentKey),t!==0?t:Ne(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class MC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function To(n){if(n.code!==te.FAILED_PRECONDITION||n.message!==LC)throw n;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&we(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new G((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof G?t:G.resolve(t)}catch(t){return G.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):G.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):G.reject(t)}static resolve(e){return new G((t,r)=>{t(e)})}static reject(e){return new G((t,r)=>{r(e)})}static waitFor(e){return new G((t,r)=>{let i=0,o=0,l=!1;e.forEach(c=>{++i,c.next(()=>{++o,l&&o===i&&t()},d=>r(d))}),l=!0,o===i&&t()})}static or(e){let t=G.resolve(!1);for(const r of e)t=t.next(i=>i?G.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new G((r,i)=>{const o=e.length,l=new Array(o);let c=0;for(let d=0;d<o;d++){const f=d;t(e[f]).next(m=>{l[f]=m,++c,c===o&&r(l)},m=>i(m))}})}static doWhile(e,t){return new G((r,i)=>{const o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const or="SimpleDb";class Am{static open(e,t,r,i){try{return new Am(t,e.transaction(i,r))}catch(o){throw new ad(t,o)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.m=new gn,this.transaction.oncomplete=()=>{this.m.resolve()},this.transaction.onabort=()=>{t.error?this.m.reject(new ad(e,t.error)):this.m.resolve()},this.transaction.onerror=r=>{const i=ew(r.target.error);this.m.reject(new ad(e,i))}}get p(){return this.m.promise}abort(e){e&&this.m.reject(e),this.aborted||(ue(or,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}S(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new AB(t)}}class wi{static delete(e){return ue(or,"Removing database:",e),sa(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!PA())return!1;if(wi.v())return!0;const e=Zt(),t=wi.C(e),r=0<t&&t<10,i=FC(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,t){return e.store(t)}static C(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,t,r){this.name=e,this.version=t,this.O=r,wi.C(Zt())===12.2&&Lt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async N(e){return this.db||(ue(or,"Opening database:",this.name),this.db=await new Promise((t,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{const l=o.target.result;t(l)},i.onblocked=()=>{r(new ad(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{const l=o.target.error;l.name==="VersionError"?r(new ae(te.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):l.name==="InvalidStateError"?r(new ae(te.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+l)):r(new ad(e,l))},i.onupgradeneeded=o=>{ue(or,'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const l=o.target.result;this.O.B(l,i.transaction,o.oldVersion,this.version).next(()=>{ue(or,"Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=t=>this.L(t)),this.db}k(e){this.L=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,i){const o=t==="readonly";let l=0;for(;;){++l;try{this.db=await this.N(e);const c=Am.open(this.db,e,o?"readonly":"readwrite",r),d=i(c).next(f=>(c.S(),f)).catch(f=>(c.abort(f),G.reject(f))).toPromise();return d.catch(()=>{}),await c.p,d}catch(c){const d=c,f=d.name!=="FirebaseError"&&l<3;if(ue(or,"Transaction failed with error:",d.message,"Retrying:",f),this.close(),!f)return Promise.reject(d)}}}close(){this.db&&this.db.close(),this.db=void 0}}function FC(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class bB{constructor(e){this.q=e,this.$=!1,this.K=null}get isDone(){return this.$}get U(){return this.K}set cursor(e){this.q=e}done(){this.$=!0}W(e){this.K=e}delete(){return sa(this.q.delete())}}class ad extends ae{constructor(e,t){super(te.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function So(n){return n.name==="IndexedDbTransactionError"}class AB{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(ue(or,"PUT",this.store.name,e,t),r=this.store.put(t,e)):(ue(or,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),sa(r)}add(e){return ue(or,"ADD",this.store.name,e,e),sa(this.store.add(e))}get(e){return sa(this.store.get(e)).next(t=>(t===void 0&&(t=null),ue(or,"GET",this.store.name,e,t),t))}delete(e){return ue(or,"DELETE",this.store.name,e),sa(this.store.delete(e))}count(){return ue(or,"COUNT",this.store.name),sa(this.store.count())}G(e,t){const r=this.options(e,t),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const o=i.getAll(r.range);return new G((l,c)=>{o.onerror=d=>{c(d.target.error)},o.onsuccess=d=>{l(d.target.result)}})}{const o=this.cursor(r),l=[];return this.j(o,(c,d)=>{l.push(d)}).next(()=>l)}}H(e,t){const r=this.store.getAll(e,t===null?void 0:t);return new G((i,o)=>{r.onerror=l=>{o(l.target.error)},r.onsuccess=l=>{i(l.target.result)}})}J(e,t){ue(or,"DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const i=this.cursor(r);return this.j(i,(o,l,c)=>c.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.j(i,t)}X(e){const t=this.cursor({});return new G((r,i)=>{t.onerror=o=>{const l=ew(o.target.error);i(l)},t.onsuccess=o=>{const l=o.target.result;l?e(l.primaryKey,l.value).next(c=>{c?l.continue():r()}):r()}})}j(e,t){const r=[];return new G((i,o)=>{e.onerror=l=>{o(l.target.error)},e.onsuccess=l=>{const c=l.target.result;if(!c)return void i();const d=new bB(c),f=t(c.primaryKey,c.value,d);if(f instanceof G){const m=f.catch(y=>(d.done(),G.reject(y)));r.push(m)}d.isDone?i():d.U===null?c.continue():c.continue(d.U)}}).next(()=>G.waitFor(r))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function sa(n){return new G((e,t)=>{n.onsuccess=r=>{const i=r.target.result;e(i)},n.onerror=r=>{const i=ew(r.target.error);t(i)}})}let vI=!1;function ew(n){const e=wi.C(Zt());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new ae("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return vI||(vI=!0,setTimeout(()=>{throw r},0)),r}}return n}const ld="IndexBackfiller";class CB{constructor(e,t){this.asyncQueue=e,this.ee=t,this.task=null}start(){this.te(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}te(e){ue(ld,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{const t=await this.ee.ne();ue(ld,`Documents written: ${t}`)}catch(t){So(t)?ue(ld,"Ignoring IndexedDB error during index backfill: ",t):await To(t)}await this.te(6e4)})}}class PB{constructor(e,t){this.localStore=e,this.persistence=t}async ne(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.re(t,e))}re(e,t){const r=new Set;let i=t,o=!0;return G.doWhile(()=>o===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(l=>{if(l!==null&&!r.has(l))return ue(ld,`Processing collection: ${l}`),this.ie(e,l,i).next(c=>{i-=c,r.add(l)});o=!1})).next(()=>t-i)}ie(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(o=>{const l=o.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next(()=>this.se(i,o)).next(c=>(ue(ld,`Updating offset: ${c}`),this.localStore.indexManager.updateCollectionGroup(e,t,c))).next(()=>l.size)}))}se(e,t){let r=e;return t.changes.forEach((i,o)=>{const l=VC(o);Zv(l,r)>0&&(r=l)}),new hr(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Wn.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs=-1;function eh(n){return n==null}function Rd(n){return n===0&&1/n==-1/0}function jC(n){return typeof n=="number"&&Number.isInteger(n)&&!Rd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dp="";function Rn(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=wI(e)),e=xB(n.get(t),e);return wI(e)}function xB(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const o=n.charAt(i);switch(o){case"\0":t+="";break;case Dp:t+="";break;default:t+=o}}return t}function wI(n){return n+Dp+""}function mi(n){const e=n.length;if(Ie(e>=2),e===2)return Ie(n.charAt(0)===Dp&&n.charAt(1)===""),Ue.emptyPath();const t=e-2,r=[];let i="";for(let o=0;o<e;){const l=n.indexOf(Dp,o);switch((l<0||l>t)&&we(),n.charAt(l+1)){case"":const c=n.substring(o,l);let d;i.length===0?d=c:(i+=c,d=i,i=""),r.push(d);break;case"":i+=n.substring(o,l),i+="\0";break;case"":i+=n.substring(o,l+1);break;default:we()}o=l+2}return new Ue(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia="remoteDocuments",th="owner",Pl="owner",bd="mutationQueues",kB="userId",Kr="mutations",EI="batchId",da="userMutationsIndex",TI=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function up(n,e){return[n,Rn(e)]}function UC(n,e,t){return[n,Rn(e),t]}const OB={},tu="documentMutations",Vp="remoteDocumentsV14",NB=["prefixPath","collectionGroup","readTime","documentId"],cp="documentKeyIndex",DB=["prefixPath","collectionGroup","documentId"],BC="collectionGroupIndex",VB=["collectionGroup","readTime","prefixPath","documentId"],Ad="remoteDocumentGlobal",L_="remoteDocumentGlobalKey",nu="targets",zC="queryTargetsIndex",LB=["canonicalId","targetId"],ru="targetDocuments",MB=["targetId","path"],tw="documentTargetsIndex",FB=["path","targetId"],Lp="targetGlobalKey",ma="targetGlobal",Cd="collectionParents",jB=["collectionId","parent"],iu="clientMetadata",UB="clientId",Cm="bundles",BB="bundleId",Pm="namedQueries",zB="name",nw="indexConfiguration",$B="indexId",M_="collectionGroupIndex",qB="collectionGroup",Mp="indexState",WB=["indexId","uid"],$C="sequenceNumberIndex",HB=["uid","sequenceNumber"],Fp="indexEntries",KB=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],qC="documentKeyIndex",GB=["indexId","uid","orderedDocumentKey"],xm="documentOverlays",QB=["userId","collectionPath","documentId"],F_="collectionPathOverlayIndex",YB=["userId","collectionPath","largestBatchId"],WC="collectionGroupOverlayIndex",JB=["userId","collectionGroup","largestBatchId"],rw="globals",XB="name",HC=[bd,Kr,tu,ia,nu,th,ma,ru,iu,Ad,Cd,Cm,Pm],ZB=[...HC,xm],KC=[bd,Kr,tu,Vp,nu,th,ma,ru,iu,Ad,Cd,Cm,Pm,xm],GC=KC,iw=[...GC,nw,Mp,Fp],e5=iw,t5=[...iw,rw];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_ extends MC{constructor(e,t){super(),this.ue=e,this.currentSequenceNumber=t}}function en(n,e){const t=_e(n);return wi.M(t.ue,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Io(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function QC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,t){this.comparator=e,this.root=t||fn.EMPTY}insert(e,t){return new dt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,fn.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ff(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ff(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ff(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ff(this.root,e,this.comparator,!0)}}class Ff{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fn{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??fn.RED,this.left=i??fn.EMPTY,this.right=o??fn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new fn(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return fn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return fn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw we();const e=this.left.check();if(e!==this.right.check())throw we();return e+(this.isRed()?0:1)}}fn.EMPTY=null,fn.RED=!0,fn.BLACK=!1;fn.EMPTY=new class{constructor(){this.size=0}get key(){throw we()}get value(){throw we()}get color(){throw we()}get left(){throw we()}get right(){throw we()}copy(e,t,r,i,o){return this}insert(e,t,r){return new fn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new II(this.data.getIterator())}getIteratorFrom(e){return new II(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof rt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new rt(this.comparator);return t.data=e,t}}class II{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function xl(n){return n.hasNext()?n.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.fields=e,e.sort(Et.comparator)}static empty(){return new Hn([])}unionWith(e){let t=new rt(Et.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Hn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Zl(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n5(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new YC("Invalid base64 string: "+o):o}}(e);return new Nt(t)}static fromUint8Array(e){const t=function(i){let o="";for(let l=0;l<i.length;++l)o+=String.fromCharCode(i[l]);return o}(e);return new Nt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Nt.EMPTY_BYTE_STRING=new Nt("");const r5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function os(n){if(Ie(!!n),typeof n=="string"){let e=0;const t=r5.exec(n);if(Ie(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:wt(n.seconds),nanos:wt(n.nanos)}}function wt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function as(n){return typeof n=="string"?Nt.fromBase64String(n):Nt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC="server_timestamp",XC="__type__",ZC="__previous_value__",eP="__local_write_time__";function km(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[XC])===null||t===void 0?void 0:t.stringValue)===JC}function Om(n){const e=n.mapValue.fields[ZC];return km(e)?Om(e):e}function Pd(n){const e=os(n.mapValue.fields[eP].timestampValue);return new St(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i5{constructor(e,t,r,i,o,l,c,d,f){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=f}}const U_="(default)";class lo{constructor(e,t){this.projectId=e,this.database=t||U_}static empty(){return new lo("","")}get isDefaultDatabase(){return this.database===U_}isEqual(e){return e instanceof lo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw="__type__",tP="__max__",Qs={mapValue:{fields:{__type__:{stringValue:tP}}}},ow="__vector__",su="value",dp={nullValue:"NULL_VALUE"};function uo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?km(n)?4:nP(n)?9007199254740991:Nm(n)?10:11:we()}function Ii(n,e){if(n===e)return!0;const t=uo(n);if(t!==uo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Pd(n).isEqual(Pd(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const l=os(i.timestampValue),c=os(o.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return as(i.bytesValue).isEqual(as(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return wt(i.geoPointValue.latitude)===wt(o.geoPointValue.latitude)&&wt(i.geoPointValue.longitude)===wt(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return wt(i.integerValue)===wt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const l=wt(i.doubleValue),c=wt(o.doubleValue);return l===c?Rd(l)===Rd(c):isNaN(l)&&isNaN(c)}return!1}(n,e);case 9:return Zl(n.arrayValue.values||[],e.arrayValue.values||[],Ii);case 10:case 11:return function(i,o){const l=i.mapValue.fields||{},c=o.mapValue.fields||{};if(SI(l)!==SI(c))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(c[d]===void 0||!Ii(l[d],c[d])))return!1;return!0}(n,e);default:return we()}}function xd(n,e){return(n.values||[]).find(t=>Ii(t,e))!==void 0}function co(n,e){if(n===e)return 0;const t=uo(n),r=uo(e);if(t!==r)return Ne(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ne(n.booleanValue,e.booleanValue);case 2:return function(o,l){const c=wt(o.integerValue||o.doubleValue),d=wt(l.integerValue||l.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(n,e);case 3:return RI(n.timestampValue,e.timestampValue);case 4:return RI(Pd(n),Pd(e));case 5:return Ne(n.stringValue,e.stringValue);case 6:return function(o,l){const c=as(o),d=as(l);return c.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(o,l){const c=o.split("/"),d=l.split("/");for(let f=0;f<c.length&&f<d.length;f++){const m=Ne(c[f],d[f]);if(m!==0)return m}return Ne(c.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,l){const c=Ne(wt(o.latitude),wt(l.latitude));return c!==0?c:Ne(wt(o.longitude),wt(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return bI(n.arrayValue,e.arrayValue);case 10:return function(o,l){var c,d,f,m;const y=o.fields||{},v=l.fields||{},S=(c=y[su])===null||c===void 0?void 0:c.arrayValue,T=(d=v[su])===null||d===void 0?void 0:d.arrayValue,R=Ne(((f=S==null?void 0:S.values)===null||f===void 0?void 0:f.length)||0,((m=T==null?void 0:T.values)===null||m===void 0?void 0:m.length)||0);return R!==0?R:bI(S,T)}(n.mapValue,e.mapValue);case 11:return function(o,l){if(o===Qs.mapValue&&l===Qs.mapValue)return 0;if(o===Qs.mapValue)return 1;if(l===Qs.mapValue)return-1;const c=o.fields||{},d=Object.keys(c),f=l.fields||{},m=Object.keys(f);d.sort(),m.sort();for(let y=0;y<d.length&&y<m.length;++y){const v=Ne(d[y],m[y]);if(v!==0)return v;const S=co(c[d[y]],f[m[y]]);if(S!==0)return S}return Ne(d.length,m.length)}(n.mapValue,e.mapValue);default:throw we()}}function RI(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ne(n,e);const t=os(n),r=os(e),i=Ne(t.seconds,r.seconds);return i!==0?i:Ne(t.nanos,r.nanos)}function bI(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const o=co(t[i],r[i]);if(o)return o}return Ne(t.length,r.length)}function ou(n){return B_(n)}function B_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=os(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return as(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ye.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const o of t.values||[])i?i=!1:r+=",",r+=B_(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",o=!0;for(const l of r)o?o=!1:i+=",",i+=`${l}:${B_(t.fields[l])}`;return i+"}"}(n.mapValue):we()}function hp(n){switch(uo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Om(n);return e?16+hp(e):16;case 5:return 2*n.stringValue.length;case 6:return as(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+hp(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return Io(r.fields,(o,l)=>{i+=o.length+hp(l)}),i}(n.mapValue);default:throw we()}}function wa(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function z_(n){return!!n&&"integerValue"in n}function kd(n){return!!n&&"arrayValue"in n}function AI(n){return!!n&&"nullValue"in n}function CI(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function fp(n){return!!n&&"mapValue"in n}function Nm(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[sw])===null||t===void 0?void 0:t.stringValue)===ow}function ud(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Io(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=ud(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ud(n.arrayValue.values[t]);return e}return Object.assign({},n)}function nP(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===tP}const rP={mapValue:{fields:{[sw]:{stringValue:ow},[su]:{arrayValue:{}}}}};function s5(n){return"nullValue"in n?dp:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?wa(lo.empty(),ye.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?Nm(n)?rP:{mapValue:{}}:we()}function o5(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?wa(lo.empty(),ye.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?rP:"mapValue"in n?Nm(n)?{mapValue:{}}:Qs:we()}function PI(n,e){const t=co(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function xI(n,e){const t=co(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!fp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ud(t)}setAll(e){let t=Et.emptyPath(),r={},i=[];e.forEach((l,c)=>{if(!t.isImmediateParentOf(c)){const d=this.getFieldsMap(t);this.applyChanges(d,r,i),r={},i=[],t=c.popLast()}l?r[c.lastSegment()]=ud(l):i.push(c.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());fp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ii(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];fp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Io(t,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new mn(ud(this.value))}}function iP(n){const e=[];return Io(n.fields,(t,r)=>{const i=new Et([t]);if(fp(r)){const o=iP(r.mapValue).fields;if(o.length===0)e.push(i);else for(const l of o)e.push(i.child(l))}else e.push(i)}),new Hn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,t,r,i,o,l,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=l,this.documentState=c}static newInvalidDocument(e){return new mt(e,0,Ae.min(),Ae.min(),Ae.min(),mn.empty(),0)}static newFoundDocument(e,t,r,i){return new mt(e,1,t,Ae.min(),r,i,0)}static newNoDocument(e,t){return new mt(e,2,t,Ae.min(),Ae.min(),mn.empty(),0)}static newUnknownDocument(e,t){return new mt(e,3,t,Ae.min(),Ae.min(),mn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e,t){this.position=e,this.inclusive=t}}function kI(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],l=n.position[i];if(o.field.isKeyField()?r=ye.comparator(ye.fromName(l.referenceValue),t.key):r=co(l,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function OI(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ii(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e,t="asc"){this.field=e,this.dir=t}}function a5(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{}class Be extends sP{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new l5(e,t,r):t==="array-contains"?new d5(e,r):t==="in"?new dP(e,r):t==="not-in"?new h5(e,r):t==="array-contains-any"?new f5(e,r):new Be(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new u5(e,r):new c5(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(co(t,this.value)):t!==null&&uo(this.value)===uo(t)&&this.matchesComparison(co(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class nt extends sP{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new nt(e,t)}matches(e){return au(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function au(n){return n.op==="and"}function $_(n){return n.op==="or"}function aw(n){return oP(n)&&au(n)}function oP(n){for(const e of n.filters)if(e instanceof nt)return!1;return!0}function q_(n){if(n instanceof Be)return n.field.canonicalString()+n.op.toString()+ou(n.value);if(aw(n))return n.filters.map(e=>q_(e)).join(",");{const e=n.filters.map(t=>q_(t)).join(",");return`${n.op}(${e})`}}function aP(n,e){return n instanceof Be?function(r,i){return i instanceof Be&&r.op===i.op&&r.field.isEqual(i.field)&&Ii(r.value,i.value)}(n,e):n instanceof nt?function(r,i){return i instanceof nt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,l,c)=>o&&aP(l,i.filters[c]),!0):!1}(n,e):void we()}function lP(n,e){const t=n.filters.concat(e);return nt.create(t,n.op)}function uP(n){return n instanceof Be?function(t){return`${t.field.canonicalString()} ${t.op} ${ou(t.value)}`}(n):n instanceof nt?function(t){return t.op.toString()+" {"+t.getFilters().map(uP).join(" ,")+"}"}(n):"Filter"}class l5 extends Be{constructor(e,t,r){super(e,t,r),this.key=ye.fromName(r.referenceValue)}matches(e){const t=ye.comparator(e.key,this.key);return this.matchesComparison(t)}}class u5 extends Be{constructor(e,t){super(e,"in",t),this.keys=cP("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class c5 extends Be{constructor(e,t){super(e,"not-in",t),this.keys=cP("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function cP(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>ye.fromName(r.referenceValue))}class d5 extends Be{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return kd(t)&&xd(t.arrayValue,this.value)}}class dP extends Be{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&xd(this.value.arrayValue,t)}}class h5 extends Be{constructor(e,t){super(e,"not-in",t)}matches(e){if(xd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!xd(this.value.arrayValue,t)}}class f5 extends Be{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!kd(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>xd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{constructor(e,t=null,r=[],i=[],o=null,l=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=l,this.endAt=c,this.le=null}}function W_(n,e=null,t=[],r=[],i=null,o=null,l=null){return new p5(n,e,t,r,i,o,l)}function Ea(n){const e=_e(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>q_(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),eh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ou(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ou(r)).join(",")),e.le=t}return e.le}function nh(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!a5(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!aP(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!OI(n.startAt,e.startAt)&&OI(n.endAt,e.endAt)}function jp(n){return ye.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function Up(n,e){return n.filters.filter(t=>t instanceof Be&&t.field.isEqual(e))}function NI(n,e,t){let r=dp,i=!0;for(const o of Up(n,e)){let l=dp,c=!0;switch(o.op){case"<":case"<=":l=s5(o.value);break;case"==":case"in":case">=":l=o.value;break;case">":l=o.value,c=!1;break;case"!=":case"not-in":l=dp}PI({value:r,inclusive:i},{value:l,inclusive:c})<0&&(r=l,i=c)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const l=t.position[o];PI({value:r,inclusive:i},{value:l,inclusive:t.inclusive})<0&&(r=l,i=t.inclusive);break}}return{value:r,inclusive:i}}function DI(n,e,t){let r=Qs,i=!0;for(const o of Up(n,e)){let l=Qs,c=!0;switch(o.op){case">=":case">":l=o5(o.value),c=!1;break;case"==":case"in":case"<=":l=o.value;break;case"<":l=o.value,c=!1;break;case"!=":case"not-in":l=Qs}xI({value:r,inclusive:i},{value:l,inclusive:c})>0&&(r=l,i=c)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const l=t.position[o];xI({value:r,inclusive:i},{value:l,inclusive:t.inclusive})>0&&(r=l,i=t.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e,t=null,r=[],i=[],o=null,l="F",c=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=l,this.startAt=c,this.endAt=d,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function hP(n,e,t,r,i,o,l,c){return new cs(n,e,t,r,i,o,l,c)}function Cu(n){return new cs(n)}function VI(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function lw(n){return n.collectionGroup!==null}function Kl(n){const e=_e(n);if(e.he===null){e.he=[];const t=new Set;for(const o of e.explicitOrderBy)e.he.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new rt(Et.comparator);return l.filters.forEach(d=>{d.getFlattenedFilters().forEach(f=>{f.isInequality()&&(c=c.add(f.field))})}),c})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.he.push(new Od(o,r))}),t.has(Et.keyField().canonicalString())||e.he.push(new Od(Et.keyField(),r))}return e.he}function Nn(n){const e=_e(n);return e.Pe||(e.Pe=m5(e,Kl(n))),e.Pe}function m5(n,e){if(n.limitType==="F")return W_(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Od(i.field,o)});const t=n.endAt?new ho(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new ho(n.startAt.position,n.startAt.inclusive):null;return W_(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function H_(n,e){const t=n.filters.concat([e]);return new cs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Bp(n,e,t){return new cs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function rh(n,e){return nh(Nn(n),Nn(e))&&n.limitType===e.limitType}function fP(n){return`${Ea(Nn(n))}|lt:${n.limitType}`}function Ll(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>uP(i)).join(", ")}]`),eh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>ou(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>ou(i)).join(",")),`Target(${r})`}(Nn(n))}; limitType=${n.limitType})`}function ih(n,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ye.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(const o of Kl(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(l,c,d){const f=kI(l,c,d);return l.inclusive?f<=0:f<0}(r.startAt,Kl(r),i)||r.endAt&&!function(l,c,d){const f=kI(l,c,d);return l.inclusive?f>=0:f>0}(r.endAt,Kl(r),i))}(n,e)}function pP(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function mP(n){return(e,t)=>{let r=!1;for(const i of Kl(n)){const o=g5(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function g5(n,e,t){const r=n.field.isKeyField()?ye.comparator(e.key,t.key):function(o,l,c){const d=l.data.field(o),f=c.data.field(o);return d!==null&&f!==null?co(d,f):we()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return we()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Io(this.inner,(t,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return QC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y5=new dt(ye.comparator);function Kn(){return y5}const gP=new dt(ye.comparator);function td(...n){let e=gP;for(const t of n)e=e.insert(t.key,t);return e}function yP(n){let e=gP;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function gi(){return cd()}function _P(){return cd()}function cd(){return new ds(n=>n.toString(),(n,e)=>n.isEqual(e))}const _5=new dt(ye.comparator),v5=new rt(ye.comparator);function Le(...n){let e=v5;for(const t of n)e=e.add(t);return e}const w5=new rt(Ne);function uw(){return w5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rd(e)?"-0":e}}function vP(n){return{integerValue:""+n}}function wP(n,e){return jC(e)?vP(e):cw(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(){this._=void 0}}function E5(n,e,t){return n instanceof lu?function(i,o){const l={fields:{[XC]:{stringValue:JC},[eP]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&km(o)&&(o=Om(o)),o&&(l.fields[ZC]=o),{mapValue:l}}(t,e):n instanceof Ta?TP(n,e):n instanceof Sa?SP(n,e):function(i,o){const l=EP(i,o),c=LI(l)+LI(i.Ie);return z_(l)&&z_(i.Ie)?vP(c):cw(i.serializer,c)}(n,e)}function T5(n,e,t){return n instanceof Ta?TP(n,e):n instanceof Sa?SP(n,e):t}function EP(n,e){return n instanceof uu?function(r){return z_(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class lu extends Dm{}class Ta extends Dm{constructor(e){super(),this.elements=e}}function TP(n,e){const t=IP(e);for(const r of n.elements)t.some(i=>Ii(i,r))||t.push(r);return{arrayValue:{values:t}}}class Sa extends Dm{constructor(e){super(),this.elements=e}}function SP(n,e){let t=IP(e);for(const r of n.elements)t=t.filter(i=>!Ii(i,r));return{arrayValue:{values:t}}}class uu extends Dm{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function LI(n){return wt(n.integerValue||n.doubleValue)}function IP(n){return kd(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e,t){this.field=e,this.transform=t}}function S5(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Ta&&i instanceof Ta||r instanceof Sa&&i instanceof Sa?Zl(r.elements,i.elements,Ii):r instanceof uu&&i instanceof uu?Ii(r.Ie,i.Ie):r instanceof lu&&i instanceof lu}(n.transform,e.transform)}class I5{constructor(e,t){this.version=e,this.transformResults=t}}class Tt{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Tt}static exists(e){return new Tt(void 0,e)}static updateTime(e){return new Tt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function pp(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Vm{}function RP(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new xu(n.key,Tt.none()):new Pu(n.key,n.data,Tt.none());{const t=n.data,r=mn.empty();let i=new rt(Et.comparator);for(let o of e.fields)if(!i.has(o)){let l=t.field(o);l===null&&o.length>1&&(o=o.popLast(),l=t.field(o)),l===null?r.delete(o):r.set(o,l),i=i.add(o)}return new hs(n.key,r,new Hn(i.toArray()),Tt.none())}}function R5(n,e,t){n instanceof Pu?function(i,o,l){const c=i.value.clone(),d=FI(i.fieldTransforms,o,l.transformResults);c.setAll(d),o.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(n,e,t):n instanceof hs?function(i,o,l){if(!pp(i.precondition,o))return void o.convertToUnknownDocument(l.version);const c=FI(i.fieldTransforms,o,l.transformResults),d=o.data;d.setAll(bP(i)),d.setAll(c),o.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(n,e,t):function(i,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function dd(n,e,t,r){return n instanceof Pu?function(o,l,c,d){if(!pp(o.precondition,l))return c;const f=o.value.clone(),m=jI(o.fieldTransforms,d,l);return f.setAll(m),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null}(n,e,t,r):n instanceof hs?function(o,l,c,d){if(!pp(o.precondition,l))return c;const f=jI(o.fieldTransforms,d,l),m=l.data;return m.setAll(bP(o)),m.setAll(f),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(y=>y.field))}(n,e,t,r):function(o,l,c){return pp(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(n,e,t)}function b5(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=EP(r.transform,i||null);o!=null&&(t===null&&(t=mn.empty()),t.set(r.field,o))}return t||null}function MI(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Zl(r,i,(o,l)=>S5(o,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Pu extends Vm{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class hs extends Vm{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function bP(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function FI(n,e,t){const r=new Map;Ie(n.length===t.length);for(let i=0;i<t.length;i++){const o=n[i],l=o.transform,c=e.data.field(o.field);r.set(o.field,T5(l,c,t[i]))}return r}function jI(n,e,t){const r=new Map;for(const i of n){const o=i.transform,l=t.data.field(i.field);r.set(i.field,E5(o,l,e))}return r}class xu extends Vm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dw extends Vm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&R5(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=dd(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=dd(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=_P();return this.mutations.forEach(i=>{const o=e.get(i.key),l=o.overlayedDocument;let c=this.applyToLocalView(l,o.mutatedFields);c=t.has(i.key)?null:c;const d=RP(l,c);d!==null&&r.set(i.key,d),l.isValidDocument()||l.convertToNoDocument(Ae.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Le())}isEqual(e){return this.batchId===e.batchId&&Zl(this.mutations,e.mutations,(t,r)=>MI(t,r))&&Zl(this.baseMutations,e.baseMutations,(t,r)=>MI(t,r))}}class fw{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ie(e.mutations.length===r.length);let i=function(){return _5}();const o=e.mutations;for(let l=0;l<o.length;l++)i=i.insert(o[l].key,r[l].version);return new fw(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $t,Ke;function AP(n){switch(n){case te.OK:return we();case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return we()}}function CP(n){if(n===void 0)return Lt("GRPC error has no .code"),te.UNKNOWN;switch(n){case $t.OK:return te.OK;case $t.CANCELLED:return te.CANCELLED;case $t.UNKNOWN:return te.UNKNOWN;case $t.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case $t.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case $t.INTERNAL:return te.INTERNAL;case $t.UNAVAILABLE:return te.UNAVAILABLE;case $t.UNAUTHENTICATED:return te.UNAUTHENTICATED;case $t.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case $t.NOT_FOUND:return te.NOT_FOUND;case $t.ALREADY_EXISTS:return te.ALREADY_EXISTS;case $t.PERMISSION_DENIED:return te.PERMISSION_DENIED;case $t.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case $t.ABORTED:return te.ABORTED;case $t.OUT_OF_RANGE:return te.OUT_OF_RANGE;case $t.UNIMPLEMENTED:return te.UNIMPLEMENTED;case $t.DATA_LOSS:return te.DATA_LOSS;default:return we()}}(Ke=$t||($t={}))[Ke.OK=0]="OK",Ke[Ke.CANCELLED=1]="CANCELLED",Ke[Ke.UNKNOWN=2]="UNKNOWN",Ke[Ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ke[Ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ke[Ke.NOT_FOUND=5]="NOT_FOUND",Ke[Ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ke[Ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ke[Ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ke[Ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ke[Ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ke[Ke.ABORTED=10]="ABORTED",Ke[Ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ke[Ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ke[Ke.INTERNAL=13]="INTERNAL",Ke[Ke.UNAVAILABLE=14]="UNAVAILABLE",Ke[Ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PP(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C5=new Xs([4294967295,4294967295],0);function UI(n){const e=PP().encode(n),t=new RC;return t.update(e),new Uint8Array(t.digest())}function BI(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Xs([t,r],0),new Xs([i,o],0)]}class mw{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new nd(`Invalid padding: ${t}`);if(r<0)throw new nd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new nd(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new nd(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Xs.fromNumber(this.Ee)}Ae(e,t,r){let i=e.add(t.multiply(Xs.fromNumber(r)));return i.compare(C5)===1&&(i=new Xs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=UI(e),[r,i]=BI(t);for(let o=0;o<this.hashCount;o++){const l=this.Ae(r,i,o);if(!this.Re(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new mw(o,i,t);return r.forEach(c=>l.insert(c)),l}insert(e){if(this.Ee===0)return;const t=UI(e),[r,i]=BI(t);for(let o=0;o<this.hashCount;o++){const l=this.Ae(r,i,o);this.Ve(l)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class nd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,ah.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new oh(Ae.min(),i,new dt(Ne),Kn(),Le())}}class ah{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new ah(r,t,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(e,t,r,i){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=i}}class xP{constructor(e,t){this.targetId=e,this.ge=t}}class kP{constructor(e,t,r=Nt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class zI{constructor(){this.pe=0,this.ye=$I(),this.we=Nt.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Le(),t=Le(),r=Le();return this.ye.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:we()}}),new ah(this.we,this.be,e,t,r)}Me(){this.Se=!1,this.ye=$I()}xe(e,t){this.Se=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ie(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class P5{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Kn(),this.$e=jf(),this.Ke=jf(),this.Ue=new dt(Ne)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:we()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,i)=>{this.Je(i)&&t(i)})}Ze(e){const t=e.targetId,r=e.ge.count,i=this.Xe(t);if(i){const o=i.target;if(jp(o))if(r===0){const l=new ye(o.path);this.ze(t,l,mt.newNoDocument(l,Ae.min()))}else Ie(r===1);else{const l=this.et(t);if(l!==r){const c=this.tt(e),d=c?this.nt(c,e,l):1;if(d!==0){this.Ye(t);const f=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,f)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t;let l,c;try{l=as(r).toUint8Array()}catch(d){if(d instanceof YC)return Si("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new mw(l,i,o)}catch(d){return Si(d instanceof nd?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.Ee===0?null:c}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let i=0;return r.forEach(o=>{const l=this.ke.it(),c=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.ze(t,o,null),i++)}),i}ot(e){const t=new Map;this.qe.forEach((o,l)=>{const c=this.Xe(l);if(c){if(o.current&&jp(c.target)){const d=new ye(c.target.path);this._t(d).has(l)||this.ut(l,d)||this.ze(l,d,mt.newNoDocument(d,e))}o.ve&&(t.set(l,o.Fe()),o.Me())}});let r=Le();this.Ke.forEach((o,l)=>{let c=!0;l.forEachWhile(d=>{const f=this.Xe(d);return!f||f.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(o))}),this.Qe.forEach((o,l)=>l.setReadTime(e));const i=new oh(e,t,this.Ue,this.Qe,r);return this.Qe=Kn(),this.$e=jf(),this.Ke=jf(),this.Ue=new dt(Ne),i}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const i=this.He(e);this.ut(e,t)?i.xe(t,1):i.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new zI,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new rt(Ne),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new rt(Ne),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||ue("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new zI),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function jf(){return new dt(ye.comparator)}function $I(){return new dt(ye.comparator)}const x5={asc:"ASCENDING",desc:"DESCENDING"},k5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},O5={and:"AND",or:"OR"};class N5{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function K_(n,e){return n.useProto3Json||eh(e)?e:{value:e}}function cu(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function OP(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function D5(n,e){return cu(n,e.toTimestamp())}function Mt(n){return Ie(!!n),Ae.fromTimestamp(function(t){const r=os(t);return new St(r.seconds,r.nanos)}(n))}function gw(n,e){return G_(n,e).canonicalString()}function G_(n,e){const t=function(i){return new Ue(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function NP(n){const e=Ue.fromString(n);return Ie($P(e)),e}function Nd(n,e){return gw(n.databaseId,e.path)}function Ei(n,e){const t=NP(e);if(t.get(1)!==n.databaseId.projectId)throw new ae(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ae(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ye(LP(t))}function DP(n,e){return gw(n.databaseId,e)}function VP(n){const e=NP(n);return e.length===4?Ue.emptyPath():LP(e)}function Q_(n){return new Ue(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function LP(n){return Ie(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function qI(n,e,t){return{name:Nd(n,e),fields:t.value.mapValue.fields}}function MP(n,e,t){const r=Ei(n,e.name),i=Mt(e.updateTime),o=e.createTime?Mt(e.createTime):Ae.min(),l=new mn({mapValue:{fields:e.fields}}),c=mt.newFoundDocument(r,i,o,l);return t&&c.setHasCommittedMutations(),t?c.setHasCommittedMutations():c}function V5(n,e){return"found"in e?function(r,i){Ie(!!i.found),i.found.name,i.found.updateTime;const o=Ei(r,i.found.name),l=Mt(i.found.updateTime),c=i.found.createTime?Mt(i.found.createTime):Ae.min(),d=new mn({mapValue:{fields:i.found.fields}});return mt.newFoundDocument(o,l,c,d)}(n,e):"missing"in e?function(r,i){Ie(!!i.missing),Ie(!!i.readTime);const o=Ei(r,i.missing),l=Mt(i.readTime);return mt.newNoDocument(o,l)}(n,e):we()}function L5(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:we()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(f,m){return f.useProto3Json?(Ie(m===void 0||typeof m=="string"),Nt.fromBase64String(m||"")):(Ie(m===void 0||m instanceof Buffer||m instanceof Uint8Array),Nt.fromUint8Array(m||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(f){const m=f.code===void 0?te.UNKNOWN:CP(f.code);return new ae(m,f.message||"")}(l);t=new kP(r,i,o,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ei(n,r.document.name),o=Mt(r.document.updateTime),l=r.document.createTime?Mt(r.document.createTime):Ae.min(),c=new mn({mapValue:{fields:r.document.fields}}),d=mt.newFoundDocument(i,o,l,c),f=r.targetIds||[],m=r.removedTargetIds||[];t=new mp(f,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ei(n,r.document),o=r.readTime?Mt(r.readTime):Ae.min(),l=mt.newNoDocument(i,o),c=r.removedTargetIds||[];t=new mp([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ei(n,r.document),o=r.removedTargetIds||[];t=new mp([],o,i,null)}else{if(!("filter"in e))return we();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,l=new A5(i,o),c=r.targetId;t=new xP(c,l)}}return t}function Dd(n,e){let t;if(e instanceof Pu)t={update:qI(n,e.key,e.value)};else if(e instanceof xu)t={delete:Nd(n,e.key)};else if(e instanceof hs)t={update:qI(n,e.key,e.data),updateMask:z5(e.fieldMask)};else{if(!(e instanceof dw))return we();t={verify:Nd(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,l){const c=l.transform;if(c instanceof lu)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Ta)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Sa)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof uu)return{fieldPath:l.field.canonicalString(),increment:c.Ie};throw we()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:D5(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:we()}(n,e.precondition)),t}function Y_(n,e){const t=e.currentDocument?function(o){return o.updateTime!==void 0?Tt.updateTime(Mt(o.updateTime)):o.exists!==void 0?Tt.exists(o.exists):Tt.none()}(e.currentDocument):Tt.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(l,c){let d=null;if("setToServerValue"in c)Ie(c.setToServerValue==="REQUEST_TIME"),d=new lu;else if("appendMissingElements"in c){const m=c.appendMissingElements.values||[];d=new Ta(m)}else if("removeAllFromArray"in c){const m=c.removeAllFromArray.values||[];d=new Sa(m)}else"increment"in c?d=new uu(l,c.increment):we();const f=Et.fromServerFormat(c.fieldPath);return new sh(f,d)}(n,i)):[];if(e.update){e.update.name;const i=Ei(n,e.update.name),o=new mn({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=function(d){const f=d.fieldPaths||[];return new Hn(f.map(m=>Et.fromServerFormat(m)))}(e.updateMask);return new hs(i,o,l,t,r)}return new Pu(i,o,t,r)}if(e.delete){const i=Ei(n,e.delete);return new xu(i,t)}if(e.verify){const i=Ei(n,e.verify);return new dw(i,t)}return we()}function M5(n,e){return n&&n.length>0?(Ie(e!==void 0),n.map(t=>function(i,o){let l=i.updateTime?Mt(i.updateTime):Mt(o);return l.isEqual(Ae.min())&&(l=Mt(o)),new I5(l,i.transformResults||[])}(t,e))):[]}function FP(n,e){return{documents:[DP(n,e.path)]}}function jP(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=DP(n,i);const o=function(f){if(f.length!==0)return zP(nt.create(f,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const l=function(f){if(f.length!==0)return f.map(m=>function(v){return{field:Ml(v.field),direction:j5(v.dir)}}(m))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const c=K_(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{ht:t,parent:i}}function UP(n){let e=VP(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Ie(r===1);const m=t.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let o=[];t.where&&(o=function(y){const v=BP(y);return v instanceof nt&&aw(v)?v.getFilters():[v]}(t.where));let l=[];t.orderBy&&(l=function(y){return y.map(v=>function(T){return new Od(Fl(T.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(v))}(t.orderBy));let c=null;t.limit&&(c=function(y){let v;return v=typeof y=="object"?y.value:y,eh(v)?null:v}(t.limit));let d=null;t.startAt&&(d=function(y){const v=!!y.before,S=y.values||[];return new ho(S,v)}(t.startAt));let f=null;return t.endAt&&(f=function(y){const v=!y.before,S=y.values||[];return new ho(S,v)}(t.endAt)),hP(e,i,l,o,c,"F",d,f)}function F5(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function BP(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Fl(t.unaryFilter.field);return Be.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Fl(t.unaryFilter.field);return Be.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Fl(t.unaryFilter.field);return Be.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Fl(t.unaryFilter.field);return Be.create(l,"!=",{nullValue:"NULL_VALUE"});default:return we()}}(n):n.fieldFilter!==void 0?function(t){return Be.create(Fl(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return we()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return nt.create(t.compositeFilter.filters.map(r=>BP(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return we()}}(t.compositeFilter.op))}(n):we()}function j5(n){return x5[n]}function U5(n){return k5[n]}function B5(n){return O5[n]}function Ml(n){return{fieldPath:n.canonicalString()}}function Fl(n){return Et.fromServerFormat(n.fieldPath)}function zP(n){return n instanceof Be?function(t){if(t.op==="=="){if(CI(t.value))return{unaryFilter:{field:Ml(t.field),op:"IS_NAN"}};if(AI(t.value))return{unaryFilter:{field:Ml(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(CI(t.value))return{unaryFilter:{field:Ml(t.field),op:"IS_NOT_NAN"}};if(AI(t.value))return{unaryFilter:{field:Ml(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ml(t.field),op:U5(t.op),value:t.value}}}(n):n instanceof nt?function(t){const r=t.getFilters().map(i=>zP(i));return r.length===1?r[0]:{compositeFilter:{op:B5(t.op),filters:r}}}(n):we()}function z5(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function $P(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e,t,r,i,o=Ae.min(),l=Ae.min(),c=Nt.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new Xi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(e){this.Tt=e}}function $5(n,e){let t;if(e.document)t=MP(n.Tt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=ye.fromSegments(e.noDocument.path),i=Ra(e.noDocument.readTime);t=mt.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return we();{const r=ye.fromSegments(e.unknownDocument.path),i=Ra(e.unknownDocument.version);t=mt.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(i){const o=new St(i[0],i[1]);return Ae.fromTimestamp(o)}(e.readTime)),t}function WI(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:zp(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(o,l){return{name:Nd(o,l.key),fields:l.data.value.mapValue.fields,updateTime:cu(o,l.version.toTimestamp()),createTime:cu(o,l.createTime.toTimestamp())}}(n.Tt,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Ia(e.version)};else{if(!e.isUnknownDocument())return we();r.unknownDocument={path:t.path.toArray(),version:Ia(e.version)}}return r}function zp(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Ia(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ra(n){const e=new St(n.seconds,n.nanoseconds);return Ae.fromTimestamp(e)}function oa(n,e){const t=(e.baseMutations||[]).map(o=>Y_(n.Tt,o));for(let o=0;o<e.mutations.length-1;++o){const l=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const c=e.mutations[o+1];l.updateTransforms=c.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const r=e.mutations.map(o=>Y_(n.Tt,o)),i=St.fromMillis(e.localWriteTimeMs);return new hw(e.batchId,i,t,r)}function rd(n){const e=Ra(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?Ra(n.lastLimboFreeSnapshotVersion):Ae.min();let r;return r=function(o){return o.documents!==void 0}(n.query)?function(o){return Ie(o.documents.length===1),Nn(Cu(VP(o.documents[0])))}(n.query):function(o){return Nn(UP(o))}(n.query),new Xi(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Nt.fromBase64String(n.resumeToken))}function WP(n,e){const t=Ia(e.snapshotVersion),r=Ia(e.lastLimboFreeSnapshotVersion);let i;i=jp(e.target)?FP(n.Tt,e.target):jP(n.Tt,e.target).ht;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ea(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function yw(n){const e=UP({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Bp(e,e.limit,"L"):e}function n_(n,e){return new pw(e.largestBatchId,Y_(n.Tt,e.overlayMutation))}function HI(n,e){const t=e.path.lastSegment();return[n,Rn(e.path.popLast()),t]}function KI(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:Ia(r.readTime),documentKey:Rn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q5{getBundleMetadata(e,t){return GI(e).get(t).next(r=>{if(r)return function(o){return{id:o.bundleId,createTime:Ra(o.createTime),version:o.version}}(r)})}saveBundleMetadata(e,t){return GI(e).put(function(i){return{bundleId:i.id,createTime:Ia(Mt(i.createTime)),version:i.version}}(t))}getNamedQuery(e,t){return QI(e).get(t).next(r=>{if(r)return function(o){return{name:o.name,query:yw(o.bundledQuery),readTime:Ra(o.readTime)}}(r)})}saveNamedQuery(e,t){return QI(e).put(function(i){return{name:i.name,readTime:Ia(Mt(i.readTime)),bundledQuery:i.bundledQuery}}(t))}}function GI(n){return en(n,Cm)}function QI(n){return en(n,Pm)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(e,t){this.serializer=e,this.userId=t}static It(e,t){const r=t.uid||"";return new Lm(e,r)}getOverlay(e,t){return zc(e).get(HI(this.userId,t)).next(r=>r?n_(this.serializer,r):null)}getOverlays(e,t){const r=gi();return G.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((o,l)=>{const c=new pw(t,l);i.push(this.Et(e,c))}),G.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(l=>i.add(Rn(l.getCollectionPath())));const o=[];return i.forEach(l=>{const c=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);o.push(zc(e).J(F_,c))}),G.waitFor(o)}getOverlaysForCollection(e,t,r){const i=gi(),o=Rn(t),l=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return zc(e).G(F_,l).next(c=>{for(const d of c){const f=n_(this.serializer,d);i.set(f.getKey(),f)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const o=gi();let l;const c=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return zc(e).Z({index:WC,range:c},(d,f,m)=>{const y=n_(this.serializer,f);o.size()<i||y.largestBatchId===l?(o.set(y.getKey(),y),l=y.largestBatchId):m.done()}).next(()=>o)}Et(e,t){return zc(e).put(function(i,o,l){const[c,d,f]=HI(o,l.mutation.key);return{userId:o,collectionPath:d,documentId:f,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:Dd(i.Tt,l.mutation)}}(this.serializer,this.userId,t))}}function zc(n){return en(n,xm)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W5{dt(e){return en(e,rw)}getSessionToken(e){return this.dt(e).get("sessionToken").next(t=>{const r=t==null?void 0:t.value;return r?Nt.fromUint8Array(r):Nt.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.dt(e).put({name:"sessionToken",value:t.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(){}At(e,t){this.Rt(e,t),t.Vt()}Rt(e,t){if("nullValue"in e)this.ft(t,5);else if("booleanValue"in e)this.ft(t,10),t.gt(e.booleanValue?1:0);else if("integerValue"in e)this.ft(t,15),t.gt(wt(e.integerValue));else if("doubleValue"in e){const r=wt(e.doubleValue);isNaN(r)?this.ft(t,13):(this.ft(t,15),Rd(r)?t.gt(0):t.gt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.ft(t,20),typeof r=="string"&&(r=os(r)),t.yt(`${r.seconds||""}`),t.gt(r.nanos||0)}else if("stringValue"in e)this.wt(e.stringValue,t),this.bt(t);else if("bytesValue"in e)this.ft(t,30),t.St(as(e.bytesValue)),this.bt(t);else if("referenceValue"in e)this.Dt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ft(t,45),t.gt(r.latitude||0),t.gt(r.longitude||0)}else"mapValue"in e?nP(e)?this.ft(t,Number.MAX_SAFE_INTEGER):Nm(e)?this.vt(e.mapValue,t):(this.Ct(e.mapValue,t),this.bt(t)):"arrayValue"in e?(this.Ft(e.arrayValue,t),this.bt(t)):we()}wt(e,t){this.ft(t,25),this.Mt(e,t)}Mt(e,t){t.yt(e)}Ct(e,t){const r=e.fields||{};this.ft(t,55);for(const i of Object.keys(r))this.wt(i,t),this.Rt(r[i],t)}vt(e,t){var r,i;const o=e.fields||{};this.ft(t,53);const l=su,c=((i=(r=o[l].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.ft(t,15),t.gt(wt(c)),this.wt(l,t),this.Rt(o[l],t)}Ft(e,t){const r=e.values||[];this.ft(t,50);for(const i of r)this.Rt(i,t)}Dt(e,t){this.ft(t,37),ye.fromName(e).path.forEach(r=>{this.ft(t,60),this.Mt(r,t)})}ft(e,t){e.gt(t)}bt(e){e.gt(2)}}aa.xt=new aa;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kl=255;function H5(n){if(n===0)return 8;let e=0;return n>>4||(e+=4,n<<=4),n>>6||(e+=2,n<<=2),n>>7||(e+=1),e}function YI(n){const e=64-function(r){let i=0;for(let o=0;o<8;++o){const l=H5(255&r[o]);if(i+=l,l!==8)break}return i}(n);return Math.ceil(e/8)}class K5{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ot(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Nt(r.value),r=t.next();this.Bt()}Lt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.kt(r.value),r=t.next();this.qt()}Qt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Nt(r);else if(r<2048)this.Nt(960|r>>>6),this.Nt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Nt(480|r>>>12),this.Nt(128|63&r>>>6),this.Nt(128|63&r);else{const i=t.codePointAt(0);this.Nt(240|i>>>18),this.Nt(128|63&i>>>12),this.Nt(128|63&i>>>6),this.Nt(128|63&i)}}this.Bt()}$t(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.kt(r);else if(r<2048)this.kt(960|r>>>6),this.kt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.kt(480|r>>>12),this.kt(128|63&r>>>6),this.kt(128|63&r);else{const i=t.codePointAt(0);this.kt(240|i>>>18),this.kt(128|63&i>>>12),this.kt(128|63&i>>>6),this.kt(128|63&i)}}this.qt()}Kt(e){const t=this.Ut(e),r=YI(t);this.Wt(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Gt(e){const t=this.Ut(e),r=YI(t);this.Wt(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}zt(){this.jt(kl),this.jt(255)}Ht(){this.Jt(kl),this.Jt(255)}reset(){this.position=0}seed(e){this.Wt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Yt(){return this.buffer.slice(0,this.position)}Ut(e){const t=function(o){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,o,!1),new Uint8Array(l.buffer)}(e),r=!!(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Nt(e){const t=255&e;t===0?(this.jt(0),this.jt(255)):t===kl?(this.jt(kl),this.jt(0)):this.jt(t)}kt(e){const t=255&e;t===0?(this.Jt(0),this.Jt(255)):t===kl?(this.Jt(kl),this.Jt(0)):this.Jt(e)}Bt(){this.jt(0),this.jt(1)}qt(){this.Jt(0),this.Jt(1)}jt(e){this.Wt(1),this.buffer[this.position++]=e}Jt(e){this.Wt(1),this.buffer[this.position++]=~e}Wt(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class G5{constructor(e){this.Zt=e}St(e){this.Zt.Ot(e)}yt(e){this.Zt.Qt(e)}gt(e){this.Zt.Kt(e)}Vt(){this.Zt.zt()}}class Q5{constructor(e){this.Zt=e}St(e){this.Zt.Lt(e)}yt(e){this.Zt.$t(e)}gt(e){this.Zt.Gt(e)}Vt(){this.Zt.Ht()}}class $c{constructor(){this.Zt=new K5,this.Xt=new G5(this.Zt),this.en=new Q5(this.Zt)}seed(e){this.Zt.seed(e)}tn(e){return e===0?this.Xt:this.en}Yt(){return this.Zt.Yt()}reset(){this.Zt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}nn(){const e=this.directionalValue.length,t=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new la(this.indexId,this.documentKey,this.arrayValue,r)}}function js(n,e){let t=n.indexId-e.indexId;return t!==0?t:(t=JI(n.arrayValue,e.arrayValue),t!==0?t:(t=JI(n.directionalValue,e.directionalValue),t!==0?t:ye.comparator(n.documentKey,e.documentKey)))}function JI(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(r!==0)return r}return n.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e){this.rn=new rt((t,r)=>Et.comparator(t.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.sn=e.orderBy,this._n=[];for(const t of e.filters){const r=t;r.isInequality()?this.rn=this.rn.add(r):this._n.push(r)}}get an(){return this.rn.size>1}un(e){if(Ie(e.collectionGroup===this.collectionId),this.an)return!1;const t=V_(e);if(t!==void 0&&!this.cn(t))return!1;const r=ra(e);let i=new Set,o=0,l=0;for(;o<r.length&&this.cn(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.rn.size>0){const c=this.rn.getIterator().getNext();if(!i.has(c.field.canonicalString())){const d=r[o];if(!this.ln(c,d)||!this.hn(this.sn[l++],d))return!1}++o}for(;o<r.length;++o){const c=r[o];if(l>=this.sn.length||!this.hn(this.sn[l++],c))return!1}return!0}Pn(){if(this.an)return null;let e=new rt(Et.comparator);const t=[];for(const r of this._n)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new lp(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new lp(r.field,0))}for(const r of this.sn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new lp(r.field,r.dir==="asc"?0:1)));return new Np(Np.UNKNOWN_ID,this.collectionId,t,Id.empty())}cn(e){for(const t of this._n)if(this.ln(t,e))return!0;return!1}ln(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}hn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HP(n){var e,t;if(Ie(n instanceof Be||n instanceof nt),n instanceof Be){if(n instanceof dP){const i=((t=(e=n.value.arrayValue)===null||e===void 0?void 0:e.values)===null||t===void 0?void 0:t.map(o=>Be.create(n.field,"==",o)))||[];return nt.create(i,"or")}return n}const r=n.filters.map(i=>HP(i));return nt.create(r,n.op)}function Y5(n){if(n.getFilters().length===0)return[];const e=Z_(HP(n));return Ie(KP(e)),J_(e)||X_(e)?[e]:e.getFilters()}function J_(n){return n instanceof Be}function X_(n){return n instanceof nt&&aw(n)}function KP(n){return J_(n)||X_(n)||function(t){if(t instanceof nt&&$_(t)){for(const r of t.getFilters())if(!J_(r)&&!X_(r))return!1;return!0}return!1}(n)}function Z_(n){if(Ie(n instanceof Be||n instanceof nt),n instanceof Be)return n;if(n.filters.length===1)return Z_(n.filters[0]);const e=n.filters.map(r=>Z_(r));let t=nt.create(e,n.op);return t=$p(t),KP(t)?t:(Ie(t instanceof nt),Ie(au(t)),Ie(t.filters.length>1),t.filters.reduce((r,i)=>_w(r,i)))}function _w(n,e){let t;return Ie(n instanceof Be||n instanceof nt),Ie(e instanceof Be||e instanceof nt),t=n instanceof Be?e instanceof Be?function(i,o){return nt.create([i,o],"and")}(n,e):ZI(n,e):e instanceof Be?ZI(e,n):function(i,o){if(Ie(i.filters.length>0&&o.filters.length>0),au(i)&&au(o))return lP(i,o.getFilters());const l=$_(i)?i:o,c=$_(i)?o:i,d=l.filters.map(f=>_w(f,c));return nt.create(d,"or")}(n,e),$p(t)}function ZI(n,e){if(au(e))return lP(e,n.getFilters());{const t=e.filters.map(r=>_w(n,r));return nt.create(t,"or")}}function $p(n){if(Ie(n instanceof Be||n instanceof nt),n instanceof Be)return n;const e=n.getFilters();if(e.length===1)return $p(e[0]);if(oP(n))return n;const t=e.map(i=>$p(i)),r=[];return t.forEach(i=>{i instanceof Be?r.push(i):i instanceof nt&&(i.op===n.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:nt.create(r,n.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J5{constructor(){this.Tn=new vw}addToCollectionParentIndex(e,t){return this.Tn.add(t),G.resolve()}getCollectionParents(e,t){return G.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return G.resolve()}deleteFieldIndex(e,t){return G.resolve()}deleteAllFieldIndexes(e){return G.resolve()}createTargetIndexes(e,t){return G.resolve()}getDocumentsMatchingTarget(e,t){return G.resolve(null)}getIndexType(e,t){return G.resolve(0)}getFieldIndexes(e,t){return G.resolve([])}getNextCollectionGroupToUpdate(e){return G.resolve(null)}getMinOffset(e,t){return G.resolve(hr.min())}getMinOffsetFromCollectionGroup(e,t){return G.resolve(hr.min())}updateCollectionGroup(e,t,r){return G.resolve()}updateIndexEntries(e,t){return G.resolve()}}class vw{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new rt(Ue.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new rt(Ue.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR="IndexedDbIndexManager",Uf=new Uint8Array(0);class X5{constructor(e,t){this.databaseId=t,this.In=new vw,this.En=new ds(r=>Ea(r),(r,i)=>nh(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.In.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.In.add(t)});const o={collectionId:r,parent:Rn(i)};return tR(e).put(o)}return G.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[NC(t),""],!1,!0);return tR(e).G(i).next(o=>{for(const l of o){if(l.collectionId!==t)break;r.push(mi(l.parent))}return r})}addFieldIndex(e,t){const r=qc(e),i=function(c){return{indexId:c.indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])}}(t);delete i.indexId;const o=r.add(i);if(t.indexState){const l=Nl(e);return o.next(c=>{l.put(KI(c,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){const r=qc(e),i=Nl(e),o=Ol(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=qc(e),r=Ol(e),i=Nl(e);return t.J().next(()=>r.J()).next(()=>i.J())}createTargetIndexes(e,t){return G.forEach(this.dn(t),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const o=new XI(r).Pn();if(o!=null)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,t){const r=Ol(e);let i=!0;const o=new Map;return G.forEach(this.dn(t),l=>this.An(e,l).next(c=>{i&&(i=!!c),o.set(l,c)})).next(()=>{if(i){let l=Le();const c=[];return G.forEach(o,(d,f)=>{ue(eR,`Using index ${function(M){return`id=${M.indexId}|cg=${M.collectionGroup}|f=${M.fields.map($=>`${$.fieldPath}:${$.kind}`).join(",")}`}(d)} to execute ${Ea(t)}`);const m=function(M,$){const B=V_($);if(B===void 0)return null;for(const q of Up(M,B.fieldPath))switch(q.op){case"array-contains-any":return q.value.arrayValue.values||[];case"array-contains":return[q.value]}return null}(f,d),y=function(M,$){const B=new Map;for(const q of ra($))for(const D of Up(M,q.fieldPath))switch(D.op){case"==":case"in":B.set(q.fieldPath.canonicalString(),D.value);break;case"not-in":case"!=":return B.set(q.fieldPath.canonicalString(),D.value),Array.from(B.values())}return null}(f,d),v=function(M,$){const B=[];let q=!0;for(const D of ra($)){const A=D.kind===0?NI(M,D.fieldPath,M.startAt):DI(M,D.fieldPath,M.startAt);B.push(A.value),q&&(q=A.inclusive)}return new ho(B,q)}(f,d),S=function(M,$){const B=[];let q=!0;for(const D of ra($)){const A=D.kind===0?DI(M,D.fieldPath,M.endAt):NI(M,D.fieldPath,M.endAt);B.push(A.value),q&&(q=A.inclusive)}return new ho(B,q)}(f,d),T=this.Rn(d,f,v),R=this.Rn(d,f,S),b=this.Vn(d,f,y),L=this.mn(d.indexId,m,T,v.inclusive,R,S.inclusive,b);return G.forEach(L,V=>r.H(V,t.limit).next(M=>{M.forEach($=>{const B=ye.fromSegments($.documentKey);l.has(B)||(l=l.add(B),c.push(B))})}))}).next(()=>c)}return G.resolve(null)})}dn(e){let t=this.En.get(e);return t||(e.filters.length===0?t=[e]:t=Y5(nt.create(e.filters,"and")).map(r=>W_(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.En.set(e,t),t)}mn(e,t,r,i,o,l,c){const d=(t!=null?t.length:1)*Math.max(r.length,o.length),f=d/(t!=null?t.length:1),m=[];for(let y=0;y<d;++y){const v=t?this.fn(t[y/f]):Uf,S=this.gn(e,v,r[y%f],i),T=this.pn(e,v,o[y%f],l),R=c.map(b=>this.gn(e,v,b,!0));m.push(...this.createRange(S,T,R))}return m}gn(e,t,r,i){const o=new la(e,ye.empty(),t,r);return i?o:o.nn()}pn(e,t,r,i){const o=new la(e,ye.empty(),t,r);return i?o.nn():o}An(e,t){const r=new XI(t),i=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let l=null;for(const c of o)r.un(c)&&(!l||c.fields.length>l.fields.length)&&(l=c);return l})}getIndexType(e,t){let r=2;const i=this.dn(t);return G.forEach(i,o=>this.An(e,o).next(l=>{l?r!==0&&l.fields.length<function(d){let f=new rt(Et.comparator),m=!1;for(const y of d.filters)for(const v of y.getFlattenedFilters())v.field.isKeyField()||(v.op==="array-contains"||v.op==="array-contains-any"?m=!0:f=f.add(v.field));for(const y of d.orderBy)y.field.isKeyField()||(f=f.add(y.field));return f.size+(m?1:0)}(o)&&(r=1):r=0})).next(()=>function(l){return l.limit!==null}(t)&&i.length>1&&r===2?1:r)}yn(e,t){const r=new $c;for(const i of ra(e)){const o=t.data.field(i.fieldPath);if(o==null)return null;const l=r.tn(i.kind);aa.xt.At(o,l)}return r.Yt()}fn(e){const t=new $c;return aa.xt.At(e,t.tn(0)),t.Yt()}wn(e,t){const r=new $c;return aa.xt.At(wa(this.databaseId,t),r.tn(function(o){const l=ra(o);return l.length===0?0:l[l.length-1].kind}(e))),r.Yt()}Vn(e,t,r){if(r===null)return[];let i=[];i.push(new $c);let o=0;for(const l of ra(e)){const c=r[o++];for(const d of i)if(this.bn(t,l.fieldPath)&&kd(c))i=this.Sn(i,l,c);else{const f=d.tn(l.kind);aa.xt.At(c,f)}}return this.Dn(i)}Rn(e,t,r){return this.Vn(e,t,r.position)}Dn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Yt();return t}Sn(e,t,r){const i=[...e],o=[];for(const l of r.arrayValue.values||[])for(const c of i){const d=new $c;d.seed(c.Yt()),aa.xt.At(l,d.tn(t.kind)),o.push(d)}return o}bn(e,t){return!!e.filters.find(r=>r instanceof Be&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,t){const r=qc(e),i=Nl(e);return(t?r.G(M_,IDBKeyRange.bound(t,t)):r.G()).next(o=>{const l=[];return G.forEach(o,c=>i.get([c.indexId,this.uid]).next(d=>{l.push(function(m,y){const v=y?new Id(y.sequenceNumber,new hr(Ra(y.readTime),new ye(mi(y.documentKey)),y.largestBatchId)):Id.empty(),S=m.fields.map(([T,R])=>new lp(Et.fromServerFormat(T),R));return new Np(m.indexId,m.collectionGroup,S,v)}(c,d))})).next(()=>l)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>t.length===0?null:(t.sort((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return o!==0?o:Ne(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=qc(e),o=Nl(e);return this.vn(e).next(l=>i.G(M_,IDBKeyRange.bound(t,t)).next(c=>G.forEach(c,d=>o.put(KI(d.indexId,this.uid,l,r)))))}updateIndexEntries(e,t){const r=new Map;return G.forEach(t,(i,o)=>{const l=r.get(i.collectionGroup);return(l?G.resolve(l):this.getFieldIndexes(e,i.collectionGroup)).next(c=>(r.set(i.collectionGroup,c),G.forEach(c,d=>this.Cn(e,i,d).next(f=>{const m=this.Fn(o,d);return f.isEqual(m)?G.resolve():this.Mn(e,o,d,f,m)}))))})}xn(e,t,r,i){return Ol(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.wn(r,t.key),documentKey:t.key.path.toArray()})}On(e,t,r,i){return Ol(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.wn(r,t.key),t.key.path.toArray()])}Cn(e,t,r){const i=Ol(e);let o=new rt(js);return i.Z({index:qC,range:IDBKeyRange.only([r.indexId,this.uid,this.wn(r,t)])},(l,c)=>{o=o.add(new la(r.indexId,t,c.arrayValue,c.directionalValue))}).next(()=>o)}Fn(e,t){let r=new rt(js);const i=this.yn(t,e);if(i==null)return r;const o=V_(t);if(o!=null){const l=e.data.field(o.fieldPath);if(kd(l))for(const c of l.arrayValue.values||[])r=r.add(new la(t.indexId,e.key,this.fn(c),i))}else r=r.add(new la(t.indexId,e.key,Uf,i));return r}Mn(e,t,r,i,o){ue(eR,"Updating index entries for document '%s'",t.key);const l=[];return function(d,f,m,y,v){const S=d.getIterator(),T=f.getIterator();let R=xl(S),b=xl(T);for(;R||b;){let L=!1,V=!1;if(R&&b){const M=m(R,b);M<0?V=!0:M>0&&(L=!0)}else R!=null?V=!0:L=!0;L?(y(b),b=xl(T)):V?(v(R),R=xl(S)):(R=xl(S),b=xl(T))}}(i,o,js,c=>{l.push(this.xn(e,t,r,c))},c=>{l.push(this.On(e,t,r,c))}),G.waitFor(l)}vn(e){let t=1;return Nl(e).Z({index:$C,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((l,c)=>js(l,c)).filter((l,c,d)=>!c||js(l,d[c-1])!==0);const i=[];i.push(e);for(const l of r){const c=js(l,e),d=js(l,t);if(c===0)i[0]=e.nn();else if(c>0&&d<0)i.push(l),i.push(l.nn());else if(d>0)break}i.push(t);const o=[];for(let l=0;l<i.length;l+=2){if(this.Nn(i[l],i[l+1]))return[];const c=[i[l].indexId,this.uid,i[l].arrayValue,i[l].directionalValue,Uf,[]],d=[i[l+1].indexId,this.uid,i[l+1].arrayValue,i[l+1].directionalValue,Uf,[]];o.push(IDBKeyRange.bound(c,d))}return o}Nn(e,t){return js(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(nR)}getMinOffset(e,t){return G.mapArray(this.dn(t),r=>this.An(e,r).next(i=>i||we())).next(nR)}}function tR(n){return en(n,Cd)}function Ol(n){return en(n,Fp)}function qc(n){return en(n,nw)}function Nl(n){return en(n,Mp)}function nR(n){Ie(n.length!==0);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;Zv(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new hr(e.readTime,e.documentKey,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},GP=41943040;class Sn{static withCacheSize(e){return new Sn(e,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QP(n,e,t){const r=n.store(Kr),i=n.store(tu),o=[],l=IDBKeyRange.only(t.batchId);let c=0;const d=r.Z({range:l},(m,y,v)=>(c++,v.delete()));o.push(d.next(()=>{Ie(c===1)}));const f=[];for(const m of t.mutations){const y=UC(e,m.key.path,t.batchId);o.push(i.delete(y)),f.push(m.key)}return G.waitFor(o).next(()=>f)}function qp(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw we();e=n.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sn.DEFAULT_COLLECTION_PERCENTILE=10,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sn.DEFAULT=new Sn(GP,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sn.DISABLED=new Sn(-1,0,0);class Mm{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Bn={}}static It(e,t,r,i){Ie(e.uid!=="");const o=e.isAuthenticated()?e.uid:"";return new Mm(o,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Us(e).Z({index:da,range:r},(i,o,l)=>{t=!1,l.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const o=jl(e),l=Us(e);return l.add({}).next(c=>{Ie(typeof c=="number");const d=new hw(c,t,r,i),f=function(S,T,R){const b=R.baseMutations.map(V=>Dd(S.Tt,V)),L=R.mutations.map(V=>Dd(S.Tt,V));return{userId:T,batchId:R.batchId,localWriteTimeMs:R.localWriteTime.toMillis(),baseMutations:b,mutations:L}}(this.serializer,this.userId,d),m=[];let y=new rt((v,S)=>Ne(v.canonicalString(),S.canonicalString()));for(const v of i){const S=UC(this.userId,v.key.path,c);y=y.add(v.key.path.popLast()),m.push(l.put(f)),m.push(o.put(S,OB))}return y.forEach(v=>{m.push(this.indexManager.addToCollectionParentIndex(e,v))}),e.addOnCommittedListener(()=>{this.Bn[c]=d.keys()}),G.waitFor(m).next(()=>d)})}lookupMutationBatch(e,t){return Us(e).get(t).next(r=>r?(Ie(r.userId===this.userId),oa(this.serializer,r)):null)}Ln(e,t){return this.Bn[t]?G.resolve(this.Bn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.Bn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return Us(e).Z({index:da,range:i},(l,c,d)=>{c.userId===this.userId&&(Ie(c.batchId>=r),o=oa(this.serializer,c)),d.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=Zs;return Us(e).Z({index:da,range:t,reverse:!0},(i,o,l)=>{r=o.batchId,l.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,Zs],[this.userId,Number.POSITIVE_INFINITY]);return Us(e).G(da,t).next(r=>r.map(i=>oa(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=up(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return jl(e).Z({range:i},(l,c,d)=>{const[f,m,y]=l,v=mi(m);if(f===this.userId&&t.path.isEqual(v))return Us(e).get(y).next(S=>{if(!S)throw we();Ie(S.userId===this.userId),o.push(oa(this.serializer,S))});d.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new rt(Ne);const i=[];return t.forEach(o=>{const l=up(this.userId,o.path),c=IDBKeyRange.lowerBound(l),d=jl(e).Z({range:c},(f,m,y)=>{const[v,S,T]=f,R=mi(S);v===this.userId&&o.path.isEqual(R)?r=r.add(T):y.done()});i.push(d)}),G.waitFor(i).next(()=>this.kn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,o=up(this.userId,r),l=IDBKeyRange.lowerBound(o);let c=new rt(Ne);return jl(e).Z({range:l},(d,f,m)=>{const[y,v,S]=d,T=mi(v);y===this.userId&&r.isPrefixOf(T)?T.length===i&&(c=c.add(S)):m.done()}).next(()=>this.kn(e,c))}kn(e,t){const r=[],i=[];return t.forEach(o=>{i.push(Us(e).get(o).next(l=>{if(l===null)throw we();Ie(l.userId===this.userId),r.push(oa(this.serializer,l))}))}),G.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return QP(e.ue,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.qn(t.batchId)}),G.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}qn(e){delete this.Bn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return G.resolve();const r=IDBKeyRange.lowerBound(function(l){return[l]}(this.userId)),i=[];return jl(e).Z({range:r},(o,l,c)=>{if(o[0]===this.userId){const d=mi(o[1]);i.push(d)}else c.done()}).next(()=>{Ie(i.length===0)})})}containsKey(e,t){return YP(e,this.userId,t)}Qn(e){return JP(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:Zs,lastStreamToken:""})}}function YP(n,e,t){const r=up(e,t.path),i=r[1],o=IDBKeyRange.lowerBound(r);let l=!1;return jl(n).Z({range:o,Y:!0},(c,d,f)=>{const[m,y,v]=c;m===e&&y===i&&(l=!0),f.done()}).next(()=>l)}function Us(n){return en(n,Kr)}function jl(n){return en(n,tu)}function JP(n){return en(n,bd)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new ba(0)}static Un(){return new ba(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z5{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Wn(e).next(t=>{const r=new ba(t.highestTargetId);return t.highestTargetId=r.next(),this.Gn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Wn(e).next(t=>Ae.fromTimestamp(new St(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Wn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Wn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Gn(e,i)))}addTargetData(e,t){return this.zn(e,t).next(()=>this.Wn(e).next(r=>(r.targetCount+=1,this.jn(t,r),this.Gn(e,r))))}updateTargetData(e,t){return this.zn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Dl(e).delete(t.targetId)).next(()=>this.Wn(e)).next(r=>(Ie(r.targetCount>0),r.targetCount-=1,this.Gn(e,r)))}removeTargets(e,t,r){let i=0;const o=[];return Dl(e).Z((l,c)=>{const d=rd(c);d.sequenceNumber<=t&&r.get(d.targetId)===null&&(i++,o.push(this.removeTargetData(e,d)))}).next(()=>G.waitFor(o)).next(()=>i)}forEachTarget(e,t){return Dl(e).Z((r,i)=>{const o=rd(i);t(o)})}Wn(e){return iR(e).get(Lp).next(t=>(Ie(t!==null),t))}Gn(e,t){return iR(e).put(Lp,t)}zn(e,t){return Dl(e).put(WP(this.serializer,t))}jn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Wn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Ea(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return Dl(e).Z({range:i,index:zC},(l,c,d)=>{const f=rd(c);nh(t,f.target)&&(o=f,d.done())}).next(()=>o)}addMatchingKeys(e,t,r){const i=[],o=Gs(e);return t.forEach(l=>{const c=Rn(l.path);i.push(o.put({targetId:r,path:c})),i.push(this.referenceDelegate.addReference(e,r,l))}),G.waitFor(i)}removeMatchingKeys(e,t,r){const i=Gs(e);return G.forEach(t,o=>{const l=Rn(o.path);return G.waitFor([i.delete([r,l]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,t){const r=Gs(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Gs(e);let o=Le();return i.Z({range:r,Y:!0},(l,c,d)=>{const f=mi(l[1]),m=new ye(f);o=o.add(m)}).next(()=>o)}containsKey(e,t){const r=Rn(t.path),i=IDBKeyRange.bound([r],[NC(r)],!1,!0);let o=0;return Gs(e).Z({index:tw,Y:!0,range:i},([l,c],d,f)=>{l!==0&&(o++,f.done())}).next(()=>o>0)}lt(e,t){return Dl(e).get(t).next(r=>r?rd(r):null)}}function Dl(n){return en(n,nu)}function iR(n){return en(n,ma)}function Gs(n){return en(n,ru)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR="LruGarbageCollector",e3=1048576;function oR([n,e],[t,r]){const i=Ne(n,t);return i===0?Ne(e,r):i}class t3{constructor(e){this.Hn=e,this.buffer=new rt(oR),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();oR(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class XP{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ue(sR,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){So(t)?ue(sR,"Ignoring IndexedDB error during garbage collection: ",t):await To(t)}await this.er(3e5)})}}class n3{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return G.resolve(Wn.ae);const r=new t3(t);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),G.resolve(rR)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rR):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,i,o,l,c,d,f;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),i=this.params.maximumSequenceNumbersToCollect):i=y,l=Date.now(),this.nthSequenceNumber(e,i))).next(y=>(r=y,c=Date.now(),this.removeTargets(e,r,t))).next(y=>(o=y,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(y=>(f=Date.now(),Vl()<=je.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${o} targets in `+(d-c)+`ms
	Removed ${y} documents in `+(f-d)+`ms
Total Duration: ${f-m}ms`),G.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:y})))}}function ZP(n,e){return new n3(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3{constructor(e,t){this.db=e,this.garbageCollector=ZP(this,t)}nr(e){const t=this.sr(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}rr(e,t){return this._r(e,(r,i)=>t(i))}addReference(e,t,r){return Bf(e,r)}removeReference(e,t,r){return Bf(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Bf(e,t)}ar(e,t){return function(i,o){let l=!1;return JP(i).X(c=>YP(i,c,o).next(d=>(d&&(l=!0),G.resolve(!d)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this._r(e,(l,c)=>{if(c<=t){const d=this.ar(e,l).next(f=>{if(!f)return o++,r.getEntry(e,l).next(()=>(r.removeEntry(l,Ae.min()),Gs(e).delete(function(y){return[0,Rn(y.path)]}(l))))});i.push(d)}}).next(()=>G.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Bf(e,t)}_r(e,t){const r=Gs(e);let i,o=Wn.ae;return r.Z({index:tw},([l,c],{path:d,sequenceNumber:f})=>{l===0?(o!==Wn.ae&&t(new ye(mi(i)),o),o=f,i=d):o=Wn.ae}).next(()=>{o!==Wn.ae&&t(new ye(mi(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Bf(n,e){return Gs(n).put(function(r,i){return{targetId:0,path:Rn(r.path),sequenceNumber:i}}(e,n.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(){this.changes=new ds(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,mt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?G.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return ea(e).put(r)}removeEntry(e,t,r){return ea(e).delete(function(o,l){const c=o.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],zp(l),c[c.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.ur(e,r)))}getEntry(e,t){let r=mt.newInvalidDocument(t);return ea(e).Z({index:cp,range:IDBKeyRange.only(Wc(t))},(i,o)=>{r=this.cr(t,o)}).next(()=>r)}lr(e,t){let r={size:0,document:mt.newInvalidDocument(t)};return ea(e).Z({index:cp,range:IDBKeyRange.only(Wc(t))},(i,o)=>{r={document:this.cr(t,o),size:qp(o)}}).next(()=>r)}getEntries(e,t){let r=Kn();return this.hr(e,t,(i,o)=>{const l=this.cr(i,o);r=r.insert(i,l)}).next(()=>r)}Pr(e,t){let r=Kn(),i=new dt(ye.comparator);return this.hr(e,t,(o,l)=>{const c=this.cr(o,l);r=r.insert(o,c),i=i.insert(o,qp(l))}).next(()=>({documents:r,Tr:i}))}hr(e,t,r){if(t.isEmpty())return G.resolve();let i=new rt(uR);t.forEach(d=>i=i.add(d));const o=IDBKeyRange.bound(Wc(i.first()),Wc(i.last())),l=i.getIterator();let c=l.getNext();return ea(e).Z({index:cp,range:o},(d,f,m)=>{const y=ye.fromSegments([...f.prefixPath,f.collectionGroup,f.documentId]);for(;c&&uR(c,y)<0;)r(c,null),c=l.getNext();c&&c.isEqual(y)&&(r(c,f),c=l.hasNext()?l.getNext():null),c?m.W(Wc(c)):m.done()}).next(()=>{for(;c;)r(c,null),c=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(e,t,r,i,o){const l=t.path,c=[l.popLast().toArray(),l.lastSegment(),zp(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],d=[l.popLast().toArray(),l.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ea(e).G(IDBKeyRange.bound(c,d,!0)).next(f=>{o==null||o.incrementDocumentReadCount(f.length);let m=Kn();for(const y of f){const v=this.cr(ye.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);v.isFoundDocument()&&(ih(t,v)||i.has(v.key))&&(m=m.insert(v.key,v))}return m})}getAllFromCollectionGroup(e,t,r,i){let o=Kn();const l=lR(t,r),c=lR(t,hr.max());return ea(e).Z({index:BC,range:IDBKeyRange.bound(l,c,!0)},(d,f,m)=>{const y=this.cr(ye.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);o=o.insert(y.key,y),o.size===i&&m.done()}).next(()=>o)}newChangeBuffer(e){return new s3(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return aR(e).get(L_).next(t=>(Ie(!!t),t))}ur(e,t){return aR(e).put(L_,t)}cr(e,t){if(t){const r=$5(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(Ae.min())))return r}return mt.newInvalidDocument(e)}}function t1(n){return new i3(n)}class s3 extends e1{constructor(e,t){super(),this.Ir=e,this.trackRemovals=t,this.Er=new ds(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new rt((o,l)=>Ne(o.canonicalString(),l.canonicalString()));return this.changes.forEach((o,l)=>{const c=this.Er.get(o);if(t.push(this.Ir.removeEntry(e,o,c.readTime)),l.isValidDocument()){const d=WI(this.Ir.serializer,l);i=i.add(o.path.popLast());const f=qp(d);r+=f-c.size,t.push(this.Ir.addEntry(e,o,d))}else if(r-=c.size,this.trackRemovals){const d=WI(this.Ir.serializer,l.convertToNoDocument(Ae.min()));t.push(this.Ir.addEntry(e,o,d))}}),i.forEach(o=>{t.push(this.Ir.indexManager.addToCollectionParentIndex(e,o))}),t.push(this.Ir.updateMetadata(e,r)),G.waitFor(t)}getFromCache(e,t){return this.Ir.lr(e,t).next(r=>(this.Er.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Ir.Pr(e,t).next(({documents:r,Tr:i})=>(i.forEach((o,l)=>{this.Er.set(o,{size:l,readTime:r.get(o).readTime})}),r))}}function aR(n){return en(n,Ad)}function ea(n){return en(n,Vp)}function Wc(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function lR(n,e){const t=e.documentKey.path.toArray();return[n,zp(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function uR(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<t.length-2&&o<r.length-2;++o)if(i=Ne(t[o],r[o]),i)return i;return i=Ne(t.length,r.length),i||(i=Ne(t[t.length-2],r[r.length-2]),i||Ne(t[t.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&dd(r.mutation,i,Hn.empty(),St.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Le()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Le()){const i=gi();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let l=td();return o.forEach((c,d)=>{l=l.insert(c,d.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=gi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Le()))}populateOverlays(e,t,r){const i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((l,c)=>{t.set(l,c)})})}computeViews(e,t,r,i){let o=Kn();const l=cd(),c=function(){return cd()}();return t.forEach((d,f)=>{const m=r.get(f.key);i.has(f.key)&&(m===void 0||m.mutation instanceof hs)?o=o.insert(f.key,f):m!==void 0?(l.set(f.key,m.mutation.getFieldMask()),dd(m.mutation,f,m.mutation.getFieldMask(),St.now())):l.set(f.key,Hn.empty())}),this.recalculateAndSaveOverlays(e,o).next(d=>(d.forEach((f,m)=>l.set(f,m)),t.forEach((f,m)=>{var y;return c.set(f,new o3(m,(y=l.get(f))!==null&&y!==void 0?y:null))}),c))}recalculateAndSaveOverlays(e,t){const r=cd();let i=new dt((l,c)=>l-c),o=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const c of l)c.keys().forEach(d=>{const f=t.get(d);if(f===null)return;let m=r.get(d)||Hn.empty();m=c.applyToLocalView(f,m),r.set(d,m);const y=(i.get(c.batchId)||Le()).add(d);i=i.insert(c.batchId,y)})}).next(()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),f=d.key,m=d.value,y=_P();m.forEach(v=>{if(!o.has(v)){const S=RP(t.get(v),r.get(v));S!==null&&y.set(v,S),o=o.add(v)}}),l.push(this.documentOverlayCache.saveOverlays(e,f,y))}return G.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(l){return ye.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):lw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{const l=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):G.resolve(gi());let c=eu,d=o;return l.next(f=>G.forEach(f,(m,y)=>(c<y.largestBatchId&&(c=y.largestBatchId),o.get(m)?G.resolve():this.remoteDocumentCache.getEntry(e,m).next(v=>{d=d.insert(m,v)}))).next(()=>this.populateOverlays(e,f,o)).next(()=>this.computeViews(e,d,f,Le())).next(m=>({batchId:c,changes:yP(m)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ye(t)).next(r=>{let i=td();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const o=t.collectionGroup;let l=td();return this.indexManager.getCollectionParents(e,o).next(c=>G.forEach(c,d=>{const f=function(y,v){return new cs(v,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(t,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next(m=>{m.forEach((y,v)=>{l=l.insert(y,v)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(l=>{o.forEach((d,f)=>{const m=f.getKey();l.get(m)===null&&(l=l.insert(m,mt.newInvalidDocument(m)))});let c=td();return l.forEach((d,f)=>{const m=o.get(d);m!==void 0&&dd(m.mutation,f,Hn.empty(),St.now()),ih(t,f)&&(c=c.insert(d,f))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return G.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Mt(i.createTime)}}(t)),G.resolve()}getNamedQuery(e,t){return G.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(i){return{name:i.name,query:yw(i.bundledQuery),readTime:Mt(i.readTime)}}(t)),G.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3{constructor(){this.overlays=new dt(ye.comparator),this.Rr=new Map}getOverlay(e,t){return G.resolve(this.overlays.get(t))}getOverlays(e,t){const r=gi();return G.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.Et(e,t,o)}),G.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Rr.delete(r)),G.resolve()}getOverlaysForCollection(e,t,r){const i=gi(),o=t.length+1,l=new ye(t.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const d=c.getNext().value,f=d.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===o&&d.largestBatchId>r&&i.set(d.getKey(),d)}return G.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new dt((f,m)=>f-m);const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>r){let m=o.get(f.largestBatchId);m===null&&(m=gi(),o=o.insert(f.largestBatchId,m)),m.set(f.getKey(),f)}}const c=gi(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((f,m)=>c.set(f,m)),!(c.size()>=i)););return G.resolve(c)}Et(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new pw(t,r));let o=this.Rr.get(t);o===void 0&&(o=Le(),this.Rr.set(t,o)),this.Rr.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{constructor(){this.sessionToken=Nt.EMPTY_BYTE_STRING}getSessionToken(e){return G.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,G.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(){this.Vr=new rt(an.mr),this.gr=new rt(an.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new an(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new an(e,t))}br(e,t){e.forEach(r=>this.removeReference(r,t))}Sr(e){const t=new ye(new Ue([])),r=new an(t,e),i=new an(t,e+1),o=[];return this.gr.forEachInRange([r,i],l=>{this.wr(l),o.push(l.key)}),o}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new ye(new Ue([])),r=new an(t,e),i=new an(t,e+1);let o=Le();return this.gr.forEachInRange([r,i],l=>{o=o.add(l.key)}),o}containsKey(e){const t=new an(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class an{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return ye.comparator(e.key,t.key)||Ne(e.Cr,t.Cr)}static pr(e,t){return Ne(e.Cr,t.Cr)||ye.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new rt(an.mr)}checkEmpty(e){return G.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const o=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new hw(o,t,r,i);this.mutationQueue.push(l);for(const c of i)this.Mr=this.Mr.add(new an(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return G.resolve(l)}lookupMutationBatch(e,t){return G.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.Nr(r),o=i<0?0:i;return G.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return G.resolve(this.mutationQueue.length===0?Zs:this.Fr-1)}getAllMutationBatches(e){return G.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new an(t,0),i=new an(t,Number.POSITIVE_INFINITY),o=[];return this.Mr.forEachInRange([r,i],l=>{const c=this.Or(l.Cr);o.push(c)}),G.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new rt(Ne);return t.forEach(i=>{const o=new an(i,0),l=new an(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([o,l],c=>{r=r.add(c.Cr)})}),G.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;ye.isDocumentKey(o)||(o=o.child(""));const l=new an(new ye(o),0);let c=new rt(Ne);return this.Mr.forEachWhile(d=>{const f=d.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(c=c.add(d.Cr)),!0)},l),G.resolve(this.Br(c))}Br(e){const t=[];return e.forEach(r=>{const i=this.Or(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Ie(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return G.forEach(t.mutations,i=>{const o=new an(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){const r=new an(t,0),i=this.Mr.firstAfterOrEqual(r);return G.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,G.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3{constructor(e){this.kr=e,this.docs=function(){return new dt(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,l=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return G.resolve(r?r.document.mutableCopy():mt.newInvalidDocument(t))}getEntries(e,t){let r=Kn();return t.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():mt.newInvalidDocument(i))}),G.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Kn();const l=t.path,c=new ye(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:f,value:{document:m}}=d.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||Zv(VC(m),r)<=0||(i.has(m.key)||ih(t,m))&&(o=o.insert(m.key,m.mutableCopy()))}return G.resolve(o)}getAllFromCollectionGroup(e,t,r,i){we()}qr(e,t){return G.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new h3(this)}getSize(e){return G.resolve(this.size)}}class h3 extends e1{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),G.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3{constructor(e){this.persistence=e,this.Qr=new ds(t=>Ea(t),nh),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.$r=0,this.Kr=new ww,this.targetCount=0,this.Ur=ba.Kn()}forEachTarget(e,t){return this.Qr.forEach((r,i)=>t(i)),G.resolve()}getLastRemoteSnapshotVersion(e){return G.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return G.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),G.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),G.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new ba(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,G.resolve()}updateTargetData(e,t){return this.zn(t),G.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.Sr(t.targetId),this.targetCount-=1,G.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.Qr.forEach((l,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.Qr.delete(l),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),G.waitFor(o).next(()=>i)}getTargetCount(e){return G.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return G.resolve(r)}addMatchingKeys(e,t,r){return this.Kr.yr(t,r),G.resolve()}removeMatchingKeys(e,t,r){this.Kr.br(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(l=>{o.push(i.markPotentiallyOrphaned(e,l))}),G.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Kr.Sr(t),G.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Kr.vr(t);return G.resolve(r)}containsKey(e,t){return G.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Wn(0),this.zr=!1,this.zr=!0,this.jr=new u3,this.referenceDelegate=e(this),this.Hr=new f3(this),this.indexManager=new J5,this.remoteDocumentCache=function(i){return new d3(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new qP(t),this.Yr=new a3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new l3,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new c3(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){ue("MemoryPersistence","Starting transaction:",e);const i=new p3(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(o=>this.referenceDelegate.Xr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}ei(e,t){return G.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}}class p3 extends MC{constructor(e){super(),this.currentSequenceNumber=e}}class Fm{constructor(e){this.persistence=e,this.ti=new ww,this.ni=null}static ri(e){return new Fm(e)}get ii(){if(this.ni)return this.ni;throw we()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),G.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),G.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),G.resolve()}removeTarget(e,t){this.ti.Sr(t.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.ii.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return G.forEach(this.ii,r=>{const i=ye.fromPath(r);return this.si(e,i).next(o=>{o||t.removeEntry(i,Ae.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return G.or([()=>G.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Wp{constructor(e,t){this.persistence=e,this.oi=new ds(r=>Rn(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=ZP(this,t)}static ri(e,t){return new Wp(e,t)}Zr(){}Xr(e){return G.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return G.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(o=>o?G.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.qr(e,l=>this.ar(e,l,t).next(c=>{c||(r++,o.removeEntry(l,Ae.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),G.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),G.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),G.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),G.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=hp(e.data.value)),t}ar(e,t,r){return G.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.oi.get(t);return G.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m3{constructor(e){this.serializer=e}B(e,t,r,i){const o=new Am("createOrUpgrade",t);r<1&&i>=1&&(function(d){d.createObjectStore(th)}(e),function(d){d.createObjectStore(bd,{keyPath:kB}),d.createObjectStore(Kr,{keyPath:EI,autoIncrement:!0}).createIndex(da,TI,{unique:!0}),d.createObjectStore(tu)}(e),cR(e),function(d){d.createObjectStore(ia)}(e));let l=G.resolve();return r<3&&i>=3&&(r!==0&&(function(d){d.deleteObjectStore(ru),d.deleteObjectStore(nu),d.deleteObjectStore(ma)}(e),cR(e)),l=l.next(()=>function(d){const f=d.store(ma),m={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ae.min().toTimestamp(),targetCount:0};return f.put(Lp,m)}(o))),r<4&&i>=4&&(r!==0&&(l=l.next(()=>function(d,f){return f.store(Kr).G().next(y=>{d.deleteObjectStore(Kr),d.createObjectStore(Kr,{keyPath:EI,autoIncrement:!0}).createIndex(da,TI,{unique:!0});const v=f.store(Kr),S=y.map(T=>v.put(T));return G.waitFor(S)})}(e,o))),l=l.next(()=>{(function(d){d.createObjectStore(iu,{keyPath:UB})})(e)})),r<5&&i>=5&&(l=l.next(()=>this._i(o))),r<6&&i>=6&&(l=l.next(()=>(function(d){d.createObjectStore(Ad)}(e),this.ai(o)))),r<7&&i>=7&&(l=l.next(()=>this.ui(o))),r<8&&i>=8&&(l=l.next(()=>this.ci(e,o))),r<9&&i>=9&&(l=l.next(()=>{(function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(l=l.next(()=>this.li(o))),r<11&&i>=11&&(l=l.next(()=>{(function(d){d.createObjectStore(Cm,{keyPath:BB})})(e),function(d){d.createObjectStore(Pm,{keyPath:zB})}(e)})),r<12&&i>=12&&(l=l.next(()=>{(function(d){const f=d.createObjectStore(xm,{keyPath:QB});f.createIndex(F_,YB,{unique:!1}),f.createIndex(WC,JB,{unique:!1})})(e)})),r<13&&i>=13&&(l=l.next(()=>function(d){const f=d.createObjectStore(Vp,{keyPath:NB});f.createIndex(cp,DB),f.createIndex(BC,VB)}(e)).next(()=>this.hi(e,o)).next(()=>e.deleteObjectStore(ia))),r<14&&i>=14&&(l=l.next(()=>this.Pi(e,o))),r<15&&i>=15&&(l=l.next(()=>function(d){d.createObjectStore(nw,{keyPath:$B,autoIncrement:!0}).createIndex(M_,qB,{unique:!1}),d.createObjectStore(Mp,{keyPath:WB}).createIndex($C,HB,{unique:!1}),d.createObjectStore(Fp,{keyPath:KB}).createIndex(qC,GB,{unique:!1})}(e))),r<16&&i>=16&&(l=l.next(()=>{t.objectStore(Mp).clear()}).next(()=>{t.objectStore(Fp).clear()})),r<17&&i>=17&&(l=l.next(()=>{(function(d){d.createObjectStore(rw,{keyPath:XB})})(e)})),l}ai(e){let t=0;return e.store(ia).Z((r,i)=>{t+=qp(i)}).next(()=>{const r={byteSize:t};return e.store(Ad).put(L_,r)})}_i(e){const t=e.store(bd),r=e.store(Kr);return t.G().next(i=>G.forEach(i,o=>{const l=IDBKeyRange.bound([o.userId,Zs],[o.userId,o.lastAcknowledgedBatchId]);return r.G(da,l).next(c=>G.forEach(c,d=>{Ie(d.userId===o.userId);const f=oa(this.serializer,d);return QP(e,o.userId,f).next(()=>{})}))}))}ui(e){const t=e.store(ru),r=e.store(ia);return e.store(ma).get(Lp).next(i=>{const o=[];return r.Z((l,c)=>{const d=new Ue(l),f=function(y){return[0,Rn(y)]}(d);o.push(t.get(f).next(m=>m?G.resolve():(y=>t.put({targetId:0,path:Rn(y),sequenceNumber:i.highestListenSequenceNumber}))(d)))}).next(()=>G.waitFor(o))})}ci(e,t){e.createObjectStore(Cd,{keyPath:jB});const r=t.store(Cd),i=new vw,o=l=>{if(i.add(l)){const c=l.lastSegment(),d=l.popLast();return r.put({collectionId:c,parent:Rn(d)})}};return t.store(ia).Z({Y:!0},(l,c)=>{const d=new Ue(l);return o(d.popLast())}).next(()=>t.store(tu).Z({Y:!0},([l,c,d],f)=>{const m=mi(c);return o(m.popLast())}))}li(e){const t=e.store(nu);return t.Z((r,i)=>{const o=rd(i),l=WP(this.serializer,o);return t.put(l)})}hi(e,t){const r=t.store(ia),i=[];return r.Z((o,l)=>{const c=t.store(Vp),d=function(y){return y.document?new ye(Ue.fromString(y.document.name).popFirst(5)):y.noDocument?ye.fromSegments(y.noDocument.path):y.unknownDocument?ye.fromSegments(y.unknownDocument.path):we()}(l).path.toArray(),f={prefixPath:d.slice(0,d.length-2),collectionGroup:d[d.length-2],documentId:d[d.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};i.push(c.put(f))}).next(()=>G.waitFor(i))}Pi(e,t){const r=t.store(Kr),i=t1(this.serializer),o=new Ew(Fm.ri,this.serializer.Tt);return r.G().next(l=>{const c=new Map;return l.forEach(d=>{var f;let m=(f=c.get(d.userId))!==null&&f!==void 0?f:Le();oa(this.serializer,d).keys().forEach(y=>m=m.add(y)),c.set(d.userId,m)}),G.forEach(c,(d,f)=>{const m=new ln(f),y=Lm.It(this.serializer,m),v=o.getIndexManager(m),S=Mm.It(m,this.serializer,v,o.referenceDelegate);return new n1(i,S,y,v).recalculateAndSaveOverlaysForDocumentKeys(new j_(t,Wn.ae),d).next()})})}}function cR(n){n.createObjectStore(ru,{keyPath:MB}).createIndex(tw,FB,{unique:!0}),n.createObjectStore(nu,{keyPath:"targetId"}).createIndex(zC,LB,{unique:!0}),n.createObjectStore(ma)}const Bs="IndexedDbPersistence",r_=18e5,i_=5e3,s_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",r1="main";class Tw{constructor(e,t,r,i,o,l,c,d,f,m,y=17){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Ti=o,this.window=l,this.document=c,this.Ii=f,this.Ei=m,this.di=y,this.Gr=null,this.zr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ai=null,this.inForeground=!1,this.Ri=null,this.Vi=null,this.mi=Number.NEGATIVE_INFINITY,this.fi=v=>Promise.resolve(),!Tw.D())throw new ae(te.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new r3(this,i),this.gi=t+r1,this.serializer=new qP(d),this.pi=new wi(this.gi,this.di,new m3(this.serializer)),this.jr=new W5,this.Hr=new Z5(this.referenceDelegate,this.serializer),this.remoteDocumentCache=t1(this.serializer),this.Yr=new q5,this.window&&this.window.localStorage?this.yi=this.window.localStorage:(this.yi=null,m===!1&&Lt(Bs,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.wi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ae(te.FAILED_PRECONDITION,s_);return this.bi(),this.Si(),this.Di(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Hr.getHighestSequenceNumber(e))}).then(e=>{this.Gr=new Wn(e,this.Ii)}).then(()=>{this.zr=!0}).catch(e=>(this.pi&&this.pi.close(),Promise.reject(e)))}Ci(e){return this.fi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.pi.k(async t=>{t.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Ti.enqueueAndForget(async()=>{this.started&&await this.wi()}))}wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>zf(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Fi(e).next(t=>{t||(this.isPrimary=!1,this.Ti.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Mi(e)).next(t=>this.isPrimary&&!t?this.xi(e).next(()=>!1):!!t&&this.Oi(e).next(()=>!0))).catch(e=>{if(So(e))return ue(Bs,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ue(Bs,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Ti.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Fi(e){return Hc(e).get(Pl).next(t=>G.resolve(this.Ni(t)))}Bi(e){return zf(e).delete(this.clientId)}async Li(){if(this.isPrimary&&!this.ki(this.mi,r_)){this.mi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{const r=en(t,iu);return r.G().next(i=>{const o=this.qi(i,r_),l=i.filter(c=>o.indexOf(c)===-1);return G.forEach(l,c=>r.delete(c.clientId)).next(()=>l)})}).catch(()=>[]);if(this.yi)for(const t of e)this.yi.removeItem(this.Qi(t.clientId))}}Di(){this.Vi=this.Ti.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.wi().then(()=>this.Li()).then(()=>this.Di()))}Ni(e){return!!e&&e.ownerId===this.clientId}Mi(e){return this.Ei?G.resolve(!0):Hc(e).get(Pl).next(t=>{if(t!==null&&this.ki(t.leaseTimestampMs,i_)&&!this.$i(t.ownerId)){if(this.Ni(t)&&this.networkEnabled)return!0;if(!this.Ni(t)){if(!t.allowTabSynchronization)throw new ae(te.FAILED_PRECONDITION,s_);return!1}}return!(!this.networkEnabled||!this.inForeground)||zf(e).G().next(r=>this.qi(r,i_).find(i=>{if(this.clientId!==i.clientId){const o=!this.networkEnabled&&i.networkEnabled,l=!this.inForeground&&i.inForeground,c=this.networkEnabled===i.networkEnabled;if(o||l&&c)return!0}return!1})===void 0)}).next(t=>(this.isPrimary!==t&&ue(Bs,`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}async shutdown(){this.zr=!1,this.Ki(),this.Vi&&(this.Vi.cancel(),this.Vi=null),this.Ui(),this.Wi(),await this.pi.runTransaction("shutdown","readwrite",[th,iu],e=>{const t=new j_(e,Wn.ae);return this.xi(t).next(()=>this.Bi(t))}),this.pi.close(),this.Gi()}qi(e,t){return e.filter(r=>this.ki(r.updateTimeMs,t)&&!this.$i(r.clientId))}zi(){return this.runTransaction("getActiveClients","readonly",e=>zf(e).G().next(t=>this.qi(t,r_).map(r=>r.clientId)))}get started(){return this.zr}getGlobalsCache(){return this.jr}getMutationQueue(e,t){return Mm.It(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new X5(e,this.serializer.Tt.databaseId)}getDocumentOverlayCache(e){return Lm.It(this.serializer,e)}getBundleCache(){return this.Yr}runTransaction(e,t,r){ue(Bs,"Starting transaction:",e);const i=t==="readonly"?"readonly":"readwrite",o=function(d){return d===17?t5:d===16?e5:d===15?iw:d===14?GC:d===13?KC:d===12?ZB:d===11?HC:void we()}(this.di);let l;return this.pi.runTransaction(e,i,o,c=>(l=new j_(c,this.Gr?this.Gr.next():Wn.ae),t==="readwrite-primary"?this.Fi(l).next(d=>!!d||this.Mi(l)).next(d=>{if(!d)throw Lt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ti.enqueueRetryable(()=>this.fi(!1)),new ae(te.FAILED_PRECONDITION,LC);return r(l)}).next(d=>this.Oi(l).next(()=>d)):this.ji(l).next(()=>r(l)))).then(c=>(l.raiseOnCommittedEvent(),c))}ji(e){return Hc(e).get(Pl).next(t=>{if(t!==null&&this.ki(t.leaseTimestampMs,i_)&&!this.$i(t.ownerId)&&!this.Ni(t)&&!(this.Ei||this.allowTabSynchronization&&t.allowTabSynchronization))throw new ae(te.FAILED_PRECONDITION,s_)})}Oi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Hc(e).put(Pl,t)}static D(){return wi.D()}xi(e){const t=Hc(e);return t.get(Pl).next(r=>this.Ni(r)?(ue(Bs,"Releasing primary lease."),t.delete(Pl)):G.resolve())}ki(e,t){const r=Date.now();return!(e<r-t)&&(!(e>r)||(Lt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}bi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ri=()=>{this.Ti.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.wi()))},this.document.addEventListener("visibilitychange",this.Ri),this.inForeground=this.document.visibilityState==="visible")}Ui(){this.Ri&&(this.document.removeEventListener("visibilitychange",this.Ri),this.Ri=null)}Si(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Ai=()=>{this.Ki();const t=/(?:Version|Mobile)\/1[456]/;CA()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Ti.enterRestrictedMode(!0),this.Ti.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ai))}Wi(){this.Ai&&(this.window.removeEventListener("pagehide",this.Ai),this.Ai=null)}$i(e){var t;try{const r=((t=this.yi)===null||t===void 0?void 0:t.getItem(this.Qi(e)))!==null;return ue(Bs,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Lt(Bs,"Failed to get zombied client id.",r),!1}}Ki(){if(this.yi)try{this.yi.setItem(this.Qi(this.clientId),String(Date.now()))}catch(e){Lt("Failed to set zombie client id.",e)}}Gi(){if(this.yi)try{this.yi.removeItem(this.Qi(this.clientId))}catch{}}Qi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Hc(n){return en(n,th)}function zf(n){return en(n,iu)}function Sw(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=i}static Yi(e,t){let r=Le(),i=Le();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Iw(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return CA()?8:FC(Zt())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,i){const o={result:null};return this.rs(e,t).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.ss(e,t,i,r).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new g3;return this._s(e,t,l).next(c=>{if(o.result=c,this.Xi)return this.us(e,t,l,c.size)})}).next(()=>o.result)}us(e,t,r,i){return r.documentReadCount<this.es?(Vl()<=je.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",Ll(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),G.resolve()):(Vl()<=je.DEBUG&&ue("QueryEngine","Query:",Ll(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(Vl()<=je.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",Ll(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Nn(t))):G.resolve())}rs(e,t){if(VI(t))return G.resolve(null);let r=Nn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Bp(t,null,"F"),r=Nn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const l=Le(...o);return this.ns.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,r).next(d=>{const f=this.cs(t,c);return this.ls(t,f,l,d.readTime)?this.rs(e,Bp(t,null,"F")):this.hs(e,f,t,d)}))})))}ss(e,t,r,i){return VI(t)||i.isEqual(Ae.min())?G.resolve(null):this.ns.getDocuments(e,r).next(o=>{const l=this.cs(t,o);return this.ls(t,l,r,i)?G.resolve(null):(Vl()<=je.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ll(t)),this.hs(e,l,t,DC(i,eu)).next(c=>c))})}cs(e,t){let r=new rt(mP(e));return t.forEach((i,o)=>{ih(e,o)&&(r=r.add(o))}),r}ls(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}_s(e,t,r){return Vl()<=je.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",Ll(t)),this.ns.getDocumentsMatchingQuery(e,t,hr.min(),r)}hs(e,t,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw="LocalStore",y3=3e8;class _3{constructor(e,t,r,i){this.persistence=e,this.Ps=t,this.serializer=i,this.Ts=new dt(Ne),this.Is=new ds(o=>Ea(o),nh),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new n1(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function s1(n,e,t,r){return new _3(n,e,t,r)}async function o1(n,e){const t=_e(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const l=[],c=[];let d=Le();for(const f of i){l.push(f.batchId);for(const m of f.mutations)d=d.add(m.key)}for(const f of o){c.push(f.batchId);for(const m of f.mutations)d=d.add(m.key)}return t.localDocuments.getDocuments(r,d).next(f=>({Rs:f,removedBatchIds:l,addedBatchIds:c}))})})}function v3(n,e){const t=_e(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=t.ds.newChangeBuffer({trackRemovals:!0});return function(c,d,f,m){const y=f.batch,v=y.keys();let S=G.resolve();return v.forEach(T=>{S=S.next(()=>m.getEntry(d,T)).next(R=>{const b=f.docVersions.get(T);Ie(b!==null),R.version.compareTo(b)<0&&(y.applyToRemoteDocument(R,f),R.isValidDocument()&&(R.setReadTime(f.commitVersion),m.addEntry(R)))})}),S.next(()=>c.mutationQueue.removeMutationBatch(d,y))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let d=Le();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(d=d.add(c.batch.mutations[f].key));return d}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function a1(n){const e=_e(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function w3(n,e){const t=_e(n),r=e.snapshotVersion;let i=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=t.ds.newChangeBuffer({trackRemovals:!0});i=t.Ts;const c=[];e.targetChanges.forEach((m,y)=>{const v=i.get(y);if(!v)return;c.push(t.Hr.removeMatchingKeys(o,m.removedDocuments,y).next(()=>t.Hr.addMatchingKeys(o,m.addedDocuments,y)));let S=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(y)!==null?S=S.withResumeToken(Nt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):m.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(m.resumeToken,r)),i=i.insert(y,S),function(R,b,L){return R.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=y3?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0}(v,S,m)&&c.push(t.Hr.updateTargetData(o,S))});let d=Kn(),f=Le();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(o,m))}),c.push(l1(o,l,e.documentUpdates).next(m=>{d=m.Vs,f=m.fs})),!r.isEqual(Ae.min())){const m=t.Hr.getLastRemoteSnapshotVersion(o).next(y=>t.Hr.setTargetsMetadata(o,o.currentSequenceNumber,r));c.push(m)}return G.waitFor(c).next(()=>l.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,d,f)).next(()=>d)}).then(o=>(t.Ts=i,o))}function l1(n,e,t){let r=Le(),i=Le();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let l=Kn();return t.forEach((c,d)=>{const f=o.get(c);d.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(c)),d.isNoDocument()&&d.version.isEqual(Ae.min())?(e.removeEntry(c,d.readTime),l=l.insert(c,d)):!f.isValidDocument()||d.version.compareTo(f.version)>0||d.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(d),l=l.insert(c,d)):ue(Rw,"Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",d.version)}),{Vs:l,fs:i}})}function E3(n,e){const t=_e(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Zs),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function du(n,e){const t=_e(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Hr.getTargetData(r,e).next(o=>o?(i=o,G.resolve(i)):t.Hr.allocateTargetId(r).next(l=>(i=new Xi(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}async function hu(n,e,t){const r=_e(n),i=r.Ts.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!So(l))throw l;ue(Rw,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)}function Hp(n,e,t){const r=_e(n);let i=Ae.min(),o=Le();return r.persistence.runTransaction("Execute query","readwrite",l=>function(d,f,m){const y=_e(d),v=y.Is.get(m);return v!==void 0?G.resolve(y.Ts.get(v)):y.Hr.getTargetData(f,m)}(r,l,Nn(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(l,c.targetId).next(d=>{o=d})}).next(()=>r.Ps.getDocumentsMatchingQuery(l,e,t?i:Ae.min(),t?o:Le())).next(c=>(d1(r,pP(e),c),{documents:c,gs:o})))}function u1(n,e){const t=_e(n),r=_e(t.Hr),i=t.Ts.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",o=>r.lt(o,e).next(l=>l?l.target:null))}function c1(n,e){const t=_e(n),r=t.Es.get(e)||Ae.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.ds.getAllFromCollectionGroup(i,e,DC(r,eu),Number.MAX_SAFE_INTEGER)).then(i=>(d1(t,e,i),i))}function d1(n,e,t){let r=n.Es.get(e)||Ae.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Es.set(e,r)}async function T3(n,e,t,r){const i=_e(n);let o=Le(),l=Kn();for(const f of t){const m=e.ps(f.metadata.name);f.document&&(o=o.add(m));const y=e.ys(f);y.setReadTime(e.ws(f.metadata.readTime)),l=l.insert(m,y)}const c=i.ds.newChangeBuffer({trackRemovals:!0}),d=await du(i,function(m){return Nn(Cu(Ue.fromString(`__bundle__/docs/${m}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",f=>l1(f,c,l).next(m=>(c.apply(f),m)).next(m=>i.Hr.removeMatchingKeysForTargetId(f,d.targetId).next(()=>i.Hr.addMatchingKeys(f,o,d.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(f,m.Vs,m.fs)).next(()=>m.Vs)))}async function S3(n,e,t=Le()){const r=await du(n,Nn(yw(e.bundledQuery))),i=_e(n);return i.persistence.runTransaction("Save named query","readwrite",o=>{const l=Mt(e.readTime);if(r.snapshotVersion.compareTo(l)>=0)return i.Yr.saveNamedQuery(o,e);const c=r.withResumeToken(Nt.EMPTY_BYTE_STRING,l);return i.Ts=i.Ts.insert(c.targetId,c),i.Hr.updateTargetData(o,c).next(()=>i.Hr.removeMatchingKeysForTargetId(o,r.targetId)).next(()=>i.Hr.addMatchingKeys(o,t,r.targetId)).next(()=>i.Yr.saveNamedQuery(o,e))})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1="firestore_clients";function dR(n,e){return`${h1}_${n}_${e}`}const f1="firestore_mutations";function hR(n,e,t){let r=`${f1}_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const p1="firestore_targets";function o_(n,e){return`${p1}_${n}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pi="SharedClientState";class Kp{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static bs(e,t,r){const i=JSON.parse(r);let o,l=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return l&&i.error&&(l=typeof i.error.message=="string"&&typeof i.error.code=="string",l&&(o=new ae(i.error.code,i.error.message))),l?new Kp(e,t,i.state,o):(Lt(pi,`Failed to parse mutation state for ID '${t}': ${r}`),null)}Ss(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class hd{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static bs(e,t){const r=JSON.parse(t);let i,o=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return o&&r.error&&(o=typeof r.error.message=="string"&&typeof r.error.code=="string",o&&(i=new ae(r.error.code,r.error.message))),o?new hd(e,r.state,i):(Lt(pi,`Failed to parse target state for ID '${e}': ${t}`),null)}Ss(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Gp{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static bs(e,t){const r=JSON.parse(t);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,o=uw();for(let l=0;i&&l<r.activeTargetIds.length;++l)i=jC(r.activeTargetIds[l]),o=o.add(r.activeTargetIds[l]);return i?new Gp(e,o):(Lt(pi,`Failed to parse client data for instance '${e}': ${t}`),null)}}class bw{constructor(e,t){this.clientId=e,this.onlineState=t}static bs(e){const t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new bw(t.clientId,t.onlineState):(Lt(pi,`Failed to parse online state: ${e}`),null)}}class ev{constructor(){this.activeTargetIds=uw()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class a_{constructor(e,t,r,i,o){this.window=e,this.Ti=t,this.persistenceKey=r,this.Cs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Fs=this.Ms.bind(this),this.xs=new dt(Ne),this.started=!1,this.Os=[];const l=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.Ns=dR(this.persistenceKey,this.Cs),this.Bs=function(d){return`firestore_sequence_number_${d}`}(this.persistenceKey),this.xs=this.xs.insert(this.Cs,new ev),this.Ls=new RegExp(`^${h1}_${l}_([^_]*)$`),this.ks=new RegExp(`^${f1}_${l}_(\\d+)(?:_(.*))?$`),this.qs=new RegExp(`^${p1}_${l}_(\\d+)$`),this.Qs=function(d){return`firestore_online_state_${d}`}(this.persistenceKey),this.$s=function(d){return`firestore_bundle_loaded_v2_${d}`}(this.persistenceKey),this.window.addEventListener("storage",this.Fs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.zi();for(const r of e){if(r===this.Cs)continue;const i=this.getItem(dR(this.persistenceKey,r));if(i){const o=Gp.bs(r,i);o&&(this.xs=this.xs.insert(o.clientId,o))}}this.Ks();const t=this.storage.getItem(this.Qs);if(t){const r=this.Us(t);r&&this.Ws(r)}for(const r of this.Os)this.Ms(r);this.Os=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.Bs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Gs(this.xs)}isActiveQueryTarget(e){let t=!1;return this.xs.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.zs(e,"pending")}updateMutationState(e,t,r){this.zs(e,t,r),this.js(e)}addLocalQueryTarget(e,t=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(o_(this.persistenceKey,e));if(i){const o=hd.bs(e,i);o&&(r=o.state)}}return t&&this.Hs.Ds(e),this.Ks(),r}removeLocalQueryTarget(e){this.Hs.vs(e),this.Ks()}isLocalQueryTarget(e){return this.Hs.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(o_(this.persistenceKey,e))}updateQueryState(e,t,r){this.Js(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.js(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Ys(e)}notifyBundleLoaded(e){this.Zs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Fs),this.removeItem(this.Ns),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return ue(pi,"READ",e,t),t}setItem(e,t){ue(pi,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){ue(pi,"REMOVE",e),this.storage.removeItem(e)}Ms(e){const t=e;if(t.storageArea===this.storage){if(ue(pi,"EVENT",t.key,t.newValue),t.key===this.Ns)return void Lt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ti.enqueueRetryable(async()=>{if(this.started){if(t.key!==null){if(this.Ls.test(t.key)){if(t.newValue==null){const r=this.Xs(t.key);return this.eo(r,null)}{const r=this.no(t.key,t.newValue);if(r)return this.eo(r.clientId,r)}}else if(this.ks.test(t.key)){if(t.newValue!==null){const r=this.ro(t.key,t.newValue);if(r)return this.io(r)}}else if(this.qs.test(t.key)){if(t.newValue!==null){const r=this.so(t.key,t.newValue);if(r)return this.oo(r)}}else if(t.key===this.Qs){if(t.newValue!==null){const r=this.Us(t.newValue);if(r)return this.Ws(r)}}else if(t.key===this.Bs){const r=function(o){let l=Wn.ae;if(o!=null)try{const c=JSON.parse(o);Ie(typeof c=="number"),l=c}catch(c){Lt(pi,"Failed to read sequence number from WebStorage",c)}return l}(t.newValue);r!==Wn.ae&&this.sequenceNumberHandler(r)}else if(t.key===this.$s){const r=this._o(t.newValue);await Promise.all(r.map(i=>this.syncEngine.ao(i)))}}}else this.Os.push(t)})}}get Hs(){return this.xs.get(this.Cs)}Ks(){this.setItem(this.Ns,this.Hs.Ss())}zs(e,t,r){const i=new Kp(this.currentUser,e,t,r),o=hR(this.persistenceKey,this.currentUser,e);this.setItem(o,i.Ss())}js(e){const t=hR(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Ys(e){const t={clientId:this.Cs,onlineState:e};this.storage.setItem(this.Qs,JSON.stringify(t))}Js(e,t,r){const i=o_(this.persistenceKey,e),o=new hd(e,t,r);this.setItem(i,o.Ss())}Zs(e){const t=JSON.stringify(Array.from(e));this.setItem(this.$s,t)}Xs(e){const t=this.Ls.exec(e);return t?t[1]:null}no(e,t){const r=this.Xs(e);return Gp.bs(r,t)}ro(e,t){const r=this.ks.exec(e),i=Number(r[1]),o=r[2]!==void 0?r[2]:null;return Kp.bs(new ln(o),i,t)}so(e,t){const r=this.qs.exec(e),i=Number(r[1]);return hd.bs(i,t)}Us(e){return bw.bs(e)}_o(e){return JSON.parse(e)}async io(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.uo(e.batchId,e.state,e.error);ue(pi,`Ignoring mutation for non-active user ${e.user.uid}`)}oo(e){return this.syncEngine.co(e.targetId,e.state,e.error)}eo(e,t){const r=t?this.xs.insert(e,t):this.xs.remove(e),i=this.Gs(this.xs),o=this.Gs(r),l=[],c=[];return o.forEach(d=>{i.has(d)||l.push(d)}),i.forEach(d=>{o.has(d)||c.push(d)}),this.syncEngine.lo(l,c).then(()=>{this.xs=r})}Ws(e){this.xs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Gs(e){let t=uw();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class m1{constructor(){this.ho=new ev,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new ev,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR="ConnectivityMonitor";class pR{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ue(fR,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ue(fR,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $f=null;function tv(){return $f===null?$f=function(){return 268435456+Math.round(2147483648*Math.random())}():$f++,"0x"+$f.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_="RestConnection",R3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class b3{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===U_?`project_id=${r}`:`project_id=${r}&database_id=${i}`}bo(e,t,r,i,o){const l=tv(),c=this.So(e,t.toUriEncodedString());ue(l_,`Sending RPC '${e}' ${l}:`,c,r);const d={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(d,i,o),this.vo(e,c,d,r).then(f=>(ue(l_,`Received RPC '${e}' ${l}: `,f),f),f=>{throw Si(l_,`RPC '${e}' ${l} failed with error: `,f,"url: ",c,"request:",r),f})}Co(e,t,r,i,o,l){return this.bo(e,t,r,i,o)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Au}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}So(e,t){const r=R3[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const En="WebChannelConnection";class C3 extends b3{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,i){const o=tv();return new Promise((l,c)=>{const d=new bC;d.setWithCredentials(!0),d.listenOnce(AC.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case ap.NO_ERROR:const m=d.getResponseJson();ue(En,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),l(m);break;case ap.TIMEOUT:ue(En,`RPC '${e}' ${o} timed out`),c(new ae(te.DEADLINE_EXCEEDED,"Request time out"));break;case ap.HTTP_ERROR:const y=d.getStatus();if(ue(En,`RPC '${e}' ${o} failed with status:`,y,"response text:",d.getResponseText()),y>0){let v=d.getResponseJson();Array.isArray(v)&&(v=v[0]);const S=v==null?void 0:v.error;if(S&&S.status&&S.message){const T=function(b){const L=b.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(L)>=0?L:te.UNKNOWN}(S.status);c(new ae(T,S.message))}else c(new ae(te.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new ae(te.UNAVAILABLE,"Connection failed."));break;default:we()}}finally{ue(En,`RPC '${e}' ${o} completed.`)}});const f=JSON.stringify(i);ue(En,`RPC '${e}' ${o} sending request:`,i),d.send(t,"POST",f,r,15)})}Wo(e,t,r){const i=tv(),o=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=xC(),c=PC(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Do(d.initMessageHeaders,t,r),d.encodeInitMessageHeaders=!0;const m=o.join("");ue(En,`Creating RPC '${e}' stream ${i}: ${m}`,d);const y=l.createWebChannel(m,d);let v=!1,S=!1;const T=new A3({Fo:b=>{S?ue(En,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(v||(ue(En,`Opening RPC '${e}' stream ${i} transport.`),y.open(),v=!0),ue(En,`RPC '${e}' stream ${i} sending:`,b),y.send(b))},Mo:()=>y.close()}),R=(b,L,V)=>{b.listen(L,M=>{try{V(M)}catch($){setTimeout(()=>{throw $},0)}})};return R(y,ed.EventType.OPEN,()=>{S||(ue(En,`RPC '${e}' stream ${i} transport opened.`),T.Qo())}),R(y,ed.EventType.CLOSE,()=>{S||(S=!0,ue(En,`RPC '${e}' stream ${i} transport closed`),T.Ko())}),R(y,ed.EventType.ERROR,b=>{S||(S=!0,Si(En,`RPC '${e}' stream ${i} transport errored:`,b),T.Ko(new ae(te.UNAVAILABLE,"The operation could not be completed")))}),R(y,ed.EventType.MESSAGE,b=>{var L;if(!S){const V=b.data[0];Ie(!!V);const M=V,$=(M==null?void 0:M.error)||((L=M[0])===null||L===void 0?void 0:L.error);if($){ue(En,`RPC '${e}' stream ${i} received error:`,$);const B=$.status;let q=function(P){const E=$t[P];if(E!==void 0)return CP(E)}(B),D=$.message;q===void 0&&(q=te.INTERNAL,D="Unknown error status: "+B+" with message "+$.message),S=!0,T.Ko(new ae(q,D)),y.close()}else ue(En,`RPC '${e}' stream ${i} received:`,V),T.Uo(V)}}),R(c,CC.STAT_EVENT,b=>{b.stat===D_.PROXY?ue(En,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===D_.NOPROXY&&ue(En,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{T.$o()},0),T}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(){return typeof window<"u"?window:null}function gp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lh(n){return new N5(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=i,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,t-r);i>0&&ue("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR="PersistentStream";class y1{constructor(e,t,r,i,o,l,c,d){this.Ti=e,this.n_=r,this.r_=i,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Aw(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===te.RESOURCE_EXHAUSTED?(Lt(t.toString()),Lt("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===t&&this.V_(r,i)},r=>{e(()=>{const i=new ae(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ue(mR,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(ue(mR,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class P3 extends y1{constructor(e,t,r,i,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=o}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=L5(this.serializer,e),r=function(o){if(!("targetChange"in o))return Ae.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Ae.min():l.readTime?Mt(l.readTime):Ae.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=Q_(this.serializer),t.addTarget=function(o,l){let c;const d=l.target;if(c=jp(d)?{documents:FP(o,d)}:{query:jP(o,d).ht},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=OP(o,l.resumeToken);const f=K_(o,l.expectedCount);f!==null&&(c.expectedCount=f)}else if(l.snapshotVersion.compareTo(Ae.min())>0){c.readTime=cu(o,l.snapshotVersion.toTimestamp());const f=K_(o,l.expectedCount);f!==null&&(c.expectedCount=f)}return c}(this.serializer,e);const r=F5(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=Q_(this.serializer),t.removeTarget=e,this.I_(t)}}class x3 extends y1{constructor(e,t,r,i,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=o}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Ie(!!e.streamToken),this.lastStreamToken=e.streamToken,Ie(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ie(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=M5(e.writeResults,e.commitTime),r=Mt(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=Q_(this.serializer),this.I_(e)}S_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Dd(this.serializer,r))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k3{}class O3 extends k3{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new ae(te.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,t,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.bo(e,G_(t,r),i,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ae(te.UNKNOWN,o.toString())})}Co(e,t,r,i,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Co(e,G_(t,r),i,l,c,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ae(te.UNKNOWN,l.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class N3{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Lt(t),this.N_=!1):ue("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa="RemoteStore";class D3{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=o,this.z_.To(l=>{r.enqueueAndForget(async()=>{Ro(this)&&(ue(Aa,"Restarting streams for network reachability change."),await async function(d){const f=_e(d);f.W_.add(4),await ku(f),f.j_.set("Unknown"),f.W_.delete(4),await uh(f)}(this))})}),this.j_=new N3(r,i)}}async function uh(n){if(Ro(n))for(const e of n.G_)await e(!0)}async function ku(n){for(const e of n.G_)await e(!1)}function jm(n,e){const t=_e(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),xw(t)?Pw(t):Nu(t).c_()&&Cw(t,e))}function fu(n,e){const t=_e(n),r=Nu(t);t.U_.delete(e),r.c_()&&_1(t,e),t.U_.size===0&&(r.c_()?r.P_():Ro(t)&&t.j_.set("Unknown"))}function Cw(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Nu(n).y_(e)}function _1(n,e){n.H_.Ne(e),Nu(n).w_(e)}function Pw(n){n.H_=new P5({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),Nu(n).start(),n.j_.B_()}function xw(n){return Ro(n)&&!Nu(n).u_()&&n.U_.size>0}function Ro(n){return _e(n).W_.size===0}function v1(n){n.H_=void 0}async function V3(n){n.j_.set("Online")}async function L3(n){n.U_.forEach((e,t)=>{Cw(n,e)})}async function M3(n,e){v1(n),xw(n)?(n.j_.q_(e),Pw(n)):n.j_.set("Unknown")}async function F3(n,e,t){if(n.j_.set("Online"),e instanceof kP&&e.state===2&&e.cause)try{await async function(i,o){const l=o.cause;for(const c of o.targetIds)i.U_.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.U_.delete(c),i.H_.removeTarget(c))}(n,e)}catch(r){ue(Aa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Qp(n,r)}else if(e instanceof mp?n.H_.We(e):e instanceof xP?n.H_.Ze(e):n.H_.je(e),!t.isEqual(Ae.min()))try{const r=await a1(n.localStore);t.compareTo(r)>=0&&await function(o,l){const c=o.H_.ot(l);return c.targetChanges.forEach((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const m=o.U_.get(f);m&&o.U_.set(f,m.withResumeToken(d.resumeToken,l))}}),c.targetMismatches.forEach((d,f)=>{const m=o.U_.get(d);if(!m)return;o.U_.set(d,m.withResumeToken(Nt.EMPTY_BYTE_STRING,m.snapshotVersion)),_1(o,d);const y=new Xi(m.target,d,f,m.sequenceNumber);Cw(o,y)}),o.remoteSyncer.applyRemoteEvent(c)}(n,t)}catch(r){ue(Aa,"Failed to raise snapshot:",r),await Qp(n,r)}}async function Qp(n,e,t){if(!So(e))throw e;n.W_.add(1),await ku(n),n.j_.set("Offline"),t||(t=()=>a1(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ue(Aa,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await uh(n)})}function w1(n,e){return e().catch(t=>Qp(n,t,e))}async function Ou(n){const e=_e(n),t=fo(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:Zs;for(;j3(e);)try{const i=await E3(e.localStore,r);if(i===null){e.K_.length===0&&t.P_();break}r=i.batchId,U3(e,i)}catch(i){await Qp(e,i)}E1(e)&&T1(e)}function j3(n){return Ro(n)&&n.K_.length<10}function U3(n,e){n.K_.push(e);const t=fo(n);t.c_()&&t.b_&&t.S_(e.mutations)}function E1(n){return Ro(n)&&!fo(n).u_()&&n.K_.length>0}function T1(n){fo(n).start()}async function B3(n){fo(n).C_()}async function z3(n){const e=fo(n);for(const t of n.K_)e.S_(t.mutations)}async function $3(n,e,t){const r=n.K_.shift(),i=fw.from(r,e,t);await w1(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await Ou(n)}async function q3(n,e){e&&fo(n).b_&&await async function(r,i){if(function(l){return AP(l)&&l!==te.ABORTED}(i.code)){const o=r.K_.shift();fo(r).h_(),await w1(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Ou(r)}}(n,e),E1(n)&&T1(n)}async function gR(n,e){const t=_e(n);t.asyncQueue.verifyOperationInProgress(),ue(Aa,"RemoteStore received new credentials");const r=Ro(t);t.W_.add(3),await ku(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await uh(t)}async function nv(n,e){const t=_e(n);e?(t.W_.delete(2),await uh(t)):e||(t.W_.add(2),await ku(t),t.j_.set("Unknown"))}function Nu(n){return n.J_||(n.J_=function(t,r,i){const o=_e(t);return o.M_(),new P3(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{xo:V3.bind(null,n),No:L3.bind(null,n),Lo:M3.bind(null,n),p_:F3.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),xw(n)?Pw(n):n.j_.set("Unknown")):(await n.J_.stop(),v1(n))})),n.J_}function fo(n){return n.Y_||(n.Y_=function(t,r,i){const o=_e(t);return o.M_(),new x3(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:B3.bind(null,n),Lo:q3.bind(null,n),D_:z3.bind(null,n),v_:$3.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await Ou(n)):(await n.Y_.stop(),n.K_.length>0&&(ue(Aa,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new gn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){const l=Date.now()+r,c=new kw(e,t,l,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Du(n,e){if(Lt("AsyncQueue",`${e}: ${n}`),So(n))return new ae(te.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{static emptySet(e){return new Gl(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ye.comparator(t.key,r.key):(t,r)=>ye.comparator(t.key,r.key),this.keyedMap=td(),this.sortedSet=new dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Gl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Gl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(){this.Z_=new dt(ye.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):we():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class pu{constructor(e,t,r,i,o,l,c,d,f){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=f}static fromInitialDocuments(e,t,r,i,o){const l=[];return t.forEach(c=>{l.push({type:0,doc:c})}),new pu(e,t,Gl.emptySet(t),l,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class H3{constructor(){this.queries=_R(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){const i=_e(t),o=i.queries;i.queries=_R(),o.forEach((l,c)=>{for(const d of c.ta)d.onError(r)})})(this,new ae(te.ABORTED,"Firestore shutting down"))}}function _R(){return new ds(n=>fP(n),rh)}async function Ow(n,e){const t=_e(n);let r=3;const i=e.query;let o=t.queries.get(i);o?!o.na()&&e.ra()&&(r=2):(o=new W3,r=e.ra()?0:1);try{switch(r){case 0:o.ea=await t.onListen(i,!0);break;case 1:o.ea=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const c=Du(l,`Initialization of query '${Ll(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,o),o.ta.push(e),e.sa(t.onlineState),o.ea&&e.oa(o.ea)&&Dw(t)}async function Nw(n,e){const t=_e(n),r=e.query;let i=3;const o=t.queries.get(r);if(o){const l=o.ta.indexOf(e);l>=0&&(o.ta.splice(l,1),o.ta.length===0?i=e.ra()?0:1:!o.na()&&e.ra()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function K3(n,e){const t=_e(n);let r=!1;for(const i of e){const o=i.query,l=t.queries.get(o);if(l){for(const c of l.ta)c.oa(i)&&(r=!0);l.ea=i}}r&&Dw(t)}function G3(n,e,t){const r=_e(n),i=r.queries.get(e);if(i)for(const o of i.ta)o.onError(t);r.queries.delete(e)}function Dw(n){n.ia.forEach(e=>{e.next()})}var rv,vR;(vR=rv||(rv={}))._a="default",vR.Cache="cache";class Vw{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new pu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=pu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==rv.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{constructor(e,t){this.Ia=e,this.byteLength=t}Ea(){return"metadata"in this.Ia}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e){this.serializer=e}ps(e){return Ei(this.serializer,e)}ys(e){return e.metadata.exists?MP(this.serializer,e.document,!1):mt.newNoDocument(this.ps(e.metadata.name),this.ws(e.metadata.readTime))}ws(e){return Mt(e)}}class Y3{constructor(e,t,r){this.da=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=S1(e)}Aa(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Ia.namedQuery)this.queries.push(e.Ia.namedQuery);else if(e.Ia.documentMetadata){this.documents.push({metadata:e.Ia.documentMetadata}),e.Ia.documentMetadata.exists||++t;const r=Ue.fromString(e.Ia.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Ia.document&&(this.documents[this.documents.length-1].document=e.Ia.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Ra(e){const t=new Map,r=new wR(this.serializer);for(const i of e)if(i.metadata.queries){const o=r.ps(i.metadata.name);for(const l of i.metadata.queries){const c=(t.get(l)||Le()).add(o);t.set(l,c)}}return t}async complete(){const e=await T3(this.localStore,new wR(this.serializer),this.documents,this.da.id),t=this.Ra(this.documents);for(const r of this.queries)await S3(this.localStore,r,t.get(r.name));return this.progress.taskState="Success",{progress:this.progress,Va:this.collectionGroups,ma:e}}}function S1(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(e){this.key=e}}class R1{constructor(e){this.key=e}}class b1{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Le(),this.mutatedKeys=Le(),this.ya=mP(e),this.wa=new Gl(this.ya)}get ba(){return this.fa}Sa(e,t){const r=t?t.Da:new yR,i=t?t.wa:this.wa;let o=t?t.mutatedKeys:this.mutatedKeys,l=i,c=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((m,y)=>{const v=i.get(m),S=ih(this.query,y)?y:null,T=!!v&&this.mutatedKeys.has(v.key),R=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let b=!1;v&&S?v.data.isEqual(S.data)?T!==R&&(r.track({type:3,doc:S}),b=!0):this.va(v,S)||(r.track({type:2,doc:S}),b=!0,(d&&this.ya(S,d)>0||f&&this.ya(S,f)<0)&&(c=!0)):!v&&S?(r.track({type:0,doc:S}),b=!0):v&&!S&&(r.track({type:1,doc:v}),b=!0,(d||f)&&(c=!0)),b&&(S?(l=l.add(S),o=R?o.add(m):o.delete(m)):(l=l.delete(m),o=o.delete(m)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),o=o.delete(m.key),r.track({type:1,doc:m})}return{wa:l,Da:r,ls:c,mutatedKeys:o}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const o=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const l=e.Da.X_();l.sort((m,y)=>function(S,T){const R=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we()}};return R(S)-R(T)}(m.type,y.type)||this.ya(m.doc,y.doc)),this.Ca(r),i=i!=null&&i;const c=t&&!i?this.Fa():[],d=this.pa.size===0&&this.current&&!i?1:0,f=d!==this.ga;return this.ga=d,l.length!==0||f?{snapshot:new pu(this.query,e.wa,o,l,e.mutatedKeys,d===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:c}:{Ma:c}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new yR,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Le(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new R1(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new I1(r))}),t}Oa(e){this.fa=e.gs,this.pa=Le();const t=this.Sa(e.documents);return this.applyChanges(t,!0)}Na(){return pu.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const bo="SyncEngine";class J3{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class X3{constructor(e){this.key=e,this.Ba=!1}}class Z3{constructor(e,t,r,i,o,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.La={},this.ka=new ds(c=>fP(c),rh),this.qa=new Map,this.Qa=new Set,this.$a=new dt(ye.comparator),this.Ka=new Map,this.Ua=new ww,this.Wa={},this.Ga=new Map,this.za=ba.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function ez(n,e,t=!0){const r=Um(n);let i;const o=r.ka.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Na()):i=await A1(r,e,t,!0),i}async function tz(n,e){const t=Um(n);await A1(t,e,!0,!1)}async function A1(n,e,t,r){const i=await du(n.localStore,Nn(e)),o=i.targetId,l=n.sharedClientState.addLocalQueryTarget(o,t);let c;return r&&(c=await Lw(n,e,o,l==="current",i.resumeToken)),n.isPrimaryClient&&t&&jm(n.remoteStore,i),c}async function Lw(n,e,t,r,i){n.Ha=(y,v,S)=>async function(R,b,L,V){let M=b.view.Sa(L);M.ls&&(M=await Hp(R.localStore,b.query,!1).then(({documents:D})=>b.view.Sa(D,M)));const $=V&&V.targetChanges.get(b.targetId),B=V&&V.targetMismatches.get(b.targetId)!=null,q=b.view.applyChanges(M,R.isPrimaryClient,$,B);return iv(R,b.targetId,q.Ma),q.snapshot}(n,y,v,S);const o=await Hp(n.localStore,e,!0),l=new b1(e,o.gs),c=l.Sa(o.documents),d=ah.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),f=l.applyChanges(c,n.isPrimaryClient,d);iv(n,t,f.Ma);const m=new J3(e,t,l);return n.ka.set(e,m),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),f.snapshot}async function nz(n,e,t){const r=_e(n),i=r.ka.get(e),o=r.qa.get(i.targetId);if(o.length>1)return r.qa.set(i.targetId,o.filter(l=>!rh(l,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await hu(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&fu(r.remoteStore,i.targetId),mu(r,i.targetId)}).catch(To)):(mu(r,i.targetId),await hu(r.localStore,i.targetId,!0))}async function rz(n,e){const t=_e(n),r=t.ka.get(e),i=t.qa.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),fu(t.remoteStore,r.targetId))}async function iz(n,e,t){const r=Uw(n);try{const i=await function(l,c){const d=_e(l),f=St.now(),m=c.reduce((S,T)=>S.add(T.key),Le());let y,v;return d.persistence.runTransaction("Locally write mutations","readwrite",S=>{let T=Kn(),R=Le();return d.ds.getEntries(S,m).next(b=>{T=b,T.forEach((L,V)=>{V.isValidDocument()||(R=R.add(L))})}).next(()=>d.localDocuments.getOverlayedDocuments(S,T)).next(b=>{y=b;const L=[];for(const V of c){const M=b5(V,y.get(V.key).overlayedDocument);M!=null&&L.push(new hs(V.key,M,iP(M.value.mapValue),Tt.exists(!0)))}return d.mutationQueue.addMutationBatch(S,f,L,c)}).next(b=>{v=b;const L=b.applyToLocalDocumentSet(y,R);return d.documentOverlayCache.saveOverlays(S,b.batchId,L)})}).then(()=>({batchId:v.batchId,changes:yP(y)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,c,d){let f=l.Wa[l.currentUser.toKey()];f||(f=new dt(Ne)),f=f.insert(c,d),l.Wa[l.currentUser.toKey()]=f}(r,i.batchId,t),await fs(r,i.changes),await Ou(r.remoteStore)}catch(i){const o=Du(i,"Failed to persist write");t.reject(o)}}async function C1(n,e){const t=_e(n);try{const r=await w3(t.localStore,e);e.targetChanges.forEach((i,o)=>{const l=t.Ka.get(o);l&&(Ie(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.Ba=!0:i.modifiedDocuments.size>0?Ie(l.Ba):i.removedDocuments.size>0&&(Ie(l.Ba),l.Ba=!1))}),await fs(t,r,e)}catch(r){await To(r)}}function ER(n,e,t){const r=_e(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.ka.forEach((o,l)=>{const c=l.view.sa(e);c.snapshot&&i.push(c.snapshot)}),function(l,c){const d=_e(l);d.onlineState=c;let f=!1;d.queries.forEach((m,y)=>{for(const v of y.ta)v.sa(c)&&(f=!0)}),f&&Dw(d)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function sz(n,e,t){const r=_e(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Ka.get(e),o=i&&i.key;if(o){let l=new dt(ye.comparator);l=l.insert(o,mt.newNoDocument(o,Ae.min()));const c=Le().add(o),d=new oh(Ae.min(),new Map,new dt(Ne),l,c);await C1(r,d),r.$a=r.$a.remove(o),r.Ka.delete(e),jw(r)}else await hu(r.localStore,e,!1).then(()=>mu(r,e,t)).catch(To)}async function oz(n,e){const t=_e(n),r=e.batch.batchId;try{const i=await v3(t.localStore,e);Fw(t,r,null),Mw(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await fs(t,i)}catch(i){await To(i)}}async function az(n,e,t){const r=_e(n);try{const i=await function(l,c){const d=_e(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let m;return d.mutationQueue.lookupMutationBatch(f,c).next(y=>(Ie(y!==null),m=y.keys(),d.mutationQueue.removeMutationBatch(f,y))).next(()=>d.mutationQueue.performConsistencyCheck(f)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(f,m,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,m)).next(()=>d.localDocuments.getDocuments(f,m))})}(r.localStore,e);Fw(r,e,t),Mw(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await fs(r,i)}catch(i){await To(i)}}async function lz(n,e){const t=_e(n);Ro(t.remoteStore)||ue(bo,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(l){const c=_e(l);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",d=>c.mutationQueue.getHighestUnacknowledgedBatchId(d))}(t.localStore);if(r===Zs)return void e.resolve();const i=t.Ga.get(r)||[];i.push(e),t.Ga.set(r,i)}catch(r){const i=Du(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function Mw(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function Fw(n,e,t){const r=_e(n);let i=r.Wa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function mu(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.Sr(e).forEach(r=>{n.Ua.containsKey(r)||P1(n,r)})}function P1(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(fu(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),jw(n))}function iv(n,e,t){for(const r of t)r instanceof I1?(n.Ua.addReference(r.key,e),uz(n,r)):r instanceof R1?(ue(bo,"Document no longer in limbo: "+r.key),n.Ua.removeReference(r.key,e),n.Ua.containsKey(r.key)||P1(n,r.key)):we()}function uz(n,e){const t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(ue(bo,"New document in limbo: "+t),n.Qa.add(r),jw(n))}function jw(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new ye(Ue.fromString(e)),r=n.za.next();n.Ka.set(r,new X3(t)),n.$a=n.$a.insert(t,r),jm(n.remoteStore,new Xi(Nn(Cu(t.path)),r,"TargetPurposeLimboResolution",Wn.ae))}}async function fs(n,e,t){const r=_e(n),i=[],o=[],l=[];r.ka.isEmpty()||(r.ka.forEach((c,d)=>{l.push(r.Ha(d,e,t).then(f=>{var m;if((f||t)&&r.isPrimaryClient){const y=f?!f.fromCache:(m=t==null?void 0:t.targetChanges.get(d.targetId))===null||m===void 0?void 0:m.current;r.sharedClientState.updateQueryState(d.targetId,y?"current":"not-current")}if(f){i.push(f);const y=Iw.Yi(d.targetId,f);o.push(y)}}))}),await Promise.all(l),r.La.p_(i),await async function(d,f){const m=_e(d);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>G.forEach(f,v=>G.forEach(v.Hi,S=>m.persistence.referenceDelegate.addReference(y,v.targetId,S)).next(()=>G.forEach(v.Ji,S=>m.persistence.referenceDelegate.removeReference(y,v.targetId,S)))))}catch(y){if(!So(y))throw y;ue(Rw,"Failed to update sequence numbers: "+y)}for(const y of f){const v=y.targetId;if(!y.fromCache){const S=m.Ts.get(v),T=S.snapshotVersion,R=S.withLastLimboFreeSnapshotVersion(T);m.Ts=m.Ts.insert(v,R)}}}(r.localStore,o))}async function cz(n,e){const t=_e(n);if(!t.currentUser.isEqual(e)){ue(bo,"User change. New user:",e.toKey());const r=await o1(t.localStore,e);t.currentUser=e,function(o,l){o.Ga.forEach(c=>{c.forEach(d=>{d.reject(new ae(te.CANCELLED,l))})}),o.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await fs(t,r.Rs)}}function dz(n,e){const t=_e(n),r=t.Ka.get(e);if(r&&r.Ba)return Le().add(r.key);{let i=Le();const o=t.qa.get(e);if(!o)return i;for(const l of o){const c=t.ka.get(l);i=i.unionWith(c.view.ba)}return i}}async function hz(n,e){const t=_e(n),r=await Hp(t.localStore,e.query,!0),i=e.view.Oa(r);return t.isPrimaryClient&&iv(t,e.targetId,i.Ma),i}async function fz(n,e){const t=_e(n);return c1(t.localStore,e).then(r=>fs(t,r))}async function pz(n,e,t,r){const i=_e(n),o=await function(c,d){const f=_e(c),m=_e(f.mutationQueue);return f.persistence.runTransaction("Lookup mutation documents","readonly",y=>m.Ln(y,d).next(v=>v?f.localDocuments.getDocuments(y,v):G.resolve(null)))}(i.localStore,e);o!==null?(t==="pending"?await Ou(i.remoteStore):t==="acknowledged"||t==="rejected"?(Fw(i,e,r||null),Mw(i,e),function(c,d){_e(_e(c).mutationQueue).qn(d)}(i.localStore,e)):we(),await fs(i,o)):ue(bo,"Cannot apply mutation batch with id: "+e)}async function mz(n,e){const t=_e(n);if(Um(t),Uw(t),e===!0&&t.ja!==!0){const r=t.sharedClientState.getAllActiveQueryTargets(),i=await TR(t,r.toArray());t.ja=!0,await nv(t.remoteStore,!0);for(const o of i)jm(t.remoteStore,o)}else if(e===!1&&t.ja!==!1){const r=[];let i=Promise.resolve();t.qa.forEach((o,l)=>{t.sharedClientState.isLocalQueryTarget(l)?r.push(l):i=i.then(()=>(mu(t,l),hu(t.localStore,l,!0))),fu(t.remoteStore,l)}),await i,await TR(t,r),function(l){const c=_e(l);c.Ka.forEach((d,f)=>{fu(c.remoteStore,f)}),c.Ua.Dr(),c.Ka=new Map,c.$a=new dt(ye.comparator)}(t),t.ja=!1,await nv(t.remoteStore,!1)}}async function TR(n,e,t){const r=_e(n),i=[],o=[];for(const l of e){let c;const d=r.qa.get(l);if(d&&d.length!==0){c=await du(r.localStore,Nn(d[0]));for(const f of d){const m=r.ka.get(f),y=await hz(r,m);y.snapshot&&o.push(y.snapshot)}}else{const f=await u1(r.localStore,l);c=await du(r.localStore,f),await Lw(r,x1(f),l,!1,c.resumeToken)}i.push(c)}return r.La.p_(o),i}function x1(n){return hP(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function gz(n){return function(t){return _e(_e(t).persistence).zi()}(_e(n).localStore)}async function yz(n,e,t,r){const i=_e(n);if(i.ja)return void ue(bo,"Ignoring unexpected query state notification.");const o=i.qa.get(e);if(o&&o.length>0)switch(t){case"current":case"not-current":{const l=await c1(i.localStore,pP(o[0])),c=oh.createSynthesizedRemoteEventForCurrentChange(e,t==="current",Nt.EMPTY_BYTE_STRING);await fs(i,l,c);break}case"rejected":await hu(i.localStore,e,!0),mu(i,e,r);break;default:we()}}async function _z(n,e,t){const r=Um(n);if(r.ja){for(const i of e){if(r.qa.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){ue(bo,"Adding an already active target "+i);continue}const o=await u1(r.localStore,i),l=await du(r.localStore,o);await Lw(r,x1(o),l.targetId,!1,l.resumeToken),jm(r.remoteStore,l)}for(const i of t)r.qa.has(i)&&await hu(r.localStore,i,!1).then(()=>{fu(r.remoteStore,i),mu(r,i)}).catch(To)}}function Um(n){const e=_e(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=C1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=dz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sz.bind(null,e),e.La.p_=K3.bind(null,e.eventManager),e.La.Ja=G3.bind(null,e.eventManager),e}function Uw(n){const e=_e(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=oz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=az.bind(null,e),e}function vz(n,e,t){const r=_e(n);(async function(o,l,c){try{const d=await l.getMetadata();if(await function(S,T){const R=_e(S),b=Mt(T.createTime);return R.persistence.runTransaction("hasNewerBundle","readonly",L=>R.Yr.getBundleMetadata(L,T.id)).then(L=>!!L&&L.createTime.compareTo(b)>=0)}(o.localStore,d))return await l.close(),c._completeWith(function(S){return{taskState:"Success",documentsLoaded:S.totalDocuments,bytesLoaded:S.totalBytes,totalDocuments:S.totalDocuments,totalBytes:S.totalBytes}}(d)),Promise.resolve(new Set);c._updateProgress(S1(d));const f=new Y3(d,o.localStore,l.serializer);let m=await l.Ya();for(;m;){const v=await f.Aa(m);v&&c._updateProgress(v),m=await l.Ya()}const y=await f.complete();return await fs(o,y.ma,void 0),await function(S,T){const R=_e(S);return R.persistence.runTransaction("Save bundle","readwrite",b=>R.Yr.saveBundleMetadata(b,T))}(o.localStore,d),c._completeWith(y.progress),Promise.resolve(y.Va)}catch(d){return Si(bo,`Loading bundle failed with ${d}`),c._failWith(d),Promise.resolve(new Set)}})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class Vd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=lh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return s1(this.persistence,new i1,e.initialUser,this.serializer)}Xa(e){return new Ew(Fm.ri,this.serializer)}Za(e){return new m1}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Vd.provider={build:()=>new Vd};class wz extends Vd{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Ie(this.persistence.referenceDelegate instanceof Wp);const r=this.persistence.referenceDelegate.garbageCollector;return new XP(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?Sn.withCacheSize(this.cacheSizeBytes):Sn.DEFAULT;return new Ew(r=>Wp.ri(r,t),this.serializer)}}class k1 extends Vd{constructor(e,t,r){super(),this.ru=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.ru.initialize(this,e),await Uw(this.ru.syncEngine),await Ou(this.ru.remoteStore),await this.persistence.Ci(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}eu(e){return s1(this.persistence,new i1,e.initialUser,this.serializer)}tu(e,t){const r=this.persistence.referenceDelegate.garbageCollector;return new XP(r,e.asyncQueue,t)}nu(e,t){const r=new PB(t,this.persistence);return new CB(e.asyncQueue,r)}Xa(e){const t=Sw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Sn.withCacheSize(this.cacheSizeBytes):Sn.DEFAULT;return new Tw(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,g1(),gp(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Za(e){return new m1}}class Ez extends k1{constructor(e,t){super(e,t,!1),this.ru=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.ru.syncEngine;this.sharedClientState instanceof a_&&(this.sharedClientState.syncEngine={uo:pz.bind(null,t),co:yz.bind(null,t),lo:_z.bind(null,t),zi:gz.bind(null,t),ao:fz.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Ci(async r=>{await mz(this.ru.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}Za(e){const t=g1();if(!a_.D(t))throw new ae(te.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Sw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new a_(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Ld{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ER(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=cz.bind(null,this.syncEngine),await nv(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new H3}()}createDatastore(e){const t=lh(e.databaseInfo.databaseId),r=function(o){return new C3(o)}(e.databaseInfo);return function(o,l,c,d){return new O3(o,l,c,d)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,o,l,c){return new D3(r,i,o,l,c)}(this.localStore,this.datastore,e.asyncQueue,t=>ER(this.syncEngine,t,0),function(){return pR.D()?new pR:new I3}())}createSyncEngine(e,t){return function(i,o,l,c,d,f,m){const y=new Z3(i,o,l,c,d,f);return m&&(y.ja=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const o=_e(i);ue(Aa,"RemoteStore shutting down."),o.W_.add(5),await ku(o),o.z_.shutdown(),o.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Ld.provider={build:()=>new Ld};function SR(n,e=10240){let t=0;return{async read(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Lt("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tz{constructor(e,t){this.ou=e,this.serializer=t,this.metadata=new gn,this.buffer=new Uint8Array,this._u=function(){return new TextDecoder("utf-8")}(),this.au().then(r=>{r&&r.Ea()?this.metadata.resolve(r.Ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.Ia)}`))},r=>this.metadata.reject(r))}close(){return this.ou.cancel()}async getMetadata(){return this.metadata.promise}async Ya(){return await this.getMetadata(),this.au()}async au(){const e=await this.uu();if(e===null)return null;const t=this._u.decode(e),r=Number(t);isNaN(r)&&this.cu(`length string (${t}) is not valid number`);const i=await this.lu(r);return new Q3(JSON.parse(i),e.length+r)}hu(){return this.buffer.findIndex(e=>e===123)}async uu(){for(;this.hu()<0&&!await this.Pu(););if(this.buffer.length===0)return null;const e=this.hu();e<0&&this.cu("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async lu(e){for(;this.buffer.length<e;)await this.Pu()&&this.cu("Reached the end of bundle when more is expected.");const t=this._u.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}cu(e){throw this.ou.cancel(),new Error(`Invalid bundle format: ${e}`)}async Pu(){const e=await this.ou.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sz{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ae(te.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(i,o){const l=_e(i),c={documents:o.map(y=>Nd(l.serializer,y))},d=await l.Co("BatchGetDocuments",l.serializer.databaseId,Ue.emptyPath(),c,o.length),f=new Map;d.forEach(y=>{const v=V5(l.serializer,y);f.set(v.key.toString(),v)});const m=[];return o.forEach(y=>{const v=f.get(y.toString());Ie(!!v),m.push(v)}),m}(this.datastore,e);return t.forEach(r=>this.recordVersion(r)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new xu(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((t,r)=>{const i=ye.fromPath(r);this.mutations.push(new dw(i,this.precondition(i)))}),await async function(r,i){const o=_e(r),l={writes:i.map(c=>Dd(o.serializer,c))};await o.bo("Commit",o.serializer.databaseId,Ue.emptyPath(),l)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw we();t=Ae.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new ae(te.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ae.min())?Tt.exists(!1):Tt.updateTime(t):Tt.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ae.min()))throw new ae(te.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Tt.updateTime(t)}return Tt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iz{constructor(e,t,r,i,o){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=o,this.Tu=r.maxAttempts,this.a_=new Aw(this.asyncQueue,"transaction_retry")}Iu(){this.Tu-=1,this.Eu()}Eu(){this.a_.Xo(async()=>{const e=new Sz(this.datastore),t=this.du(e);t&&t.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Au(i)}))}).catch(r=>{this.Au(r)})})}du(e){try{const t=this.updateFunction(e);return!eh(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Au(e){this.Tu>0&&this.Ru(e)?(this.Tu-=1,this.asyncQueue.enqueueAndForget(()=>(this.Eu(),Promise.resolve()))):this.deferred.reject(e)}Ru(e){if(e.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!AP(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const po="FirestoreClient";class Rz{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=ln.UNAUTHENTICATED,this.clientId=OC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async l=>{ue(po,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(ue(po,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new gn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Du(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function u_(n,e){n.asyncQueue.verifyOperationInProgress(),ue(po,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await o1(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function IR(n,e){n.asyncQueue.verifyOperationInProgress();const t=await Bw(n);ue(po,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>gR(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>gR(e.remoteStore,i)),n._onlineComponents=e}async function Bw(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ue(po,"Using user provided OfflineComponentProvider");try{await u_(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===te.FAILED_PRECONDITION||i.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Si("Error using user provided cache. Falling back to memory cache: "+t),await u_(n,new Vd)}}else ue(po,"Using default OfflineComponentProvider"),await u_(n,new wz(void 0));return n._offlineComponents}async function zm(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ue(po,"Using user provided OnlineComponentProvider"),await IR(n,n._uninitializedComponentsProvider._online)):(ue(po,"Using default OnlineComponentProvider"),await IR(n,new Ld))),n._onlineComponents}function O1(n){return Bw(n).then(e=>e.persistence)}function zw(n){return Bw(n).then(e=>e.localStore)}function N1(n){return zm(n).then(e=>e.remoteStore)}function $w(n){return zm(n).then(e=>e.syncEngine)}function bz(n){return zm(n).then(e=>e.datastore)}async function gu(n){const e=await zm(n),t=e.eventManager;return t.onListen=ez.bind(null,e.syncEngine),t.onUnlisten=nz.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=tz.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=rz.bind(null,e.syncEngine),t}function Az(n){return n.asyncQueue.enqueue(async()=>{const e=await O1(n),t=await N1(n);return e.setNetworkEnabled(!0),function(i){const o=_e(i);return o.W_.delete(0),uh(o)}(t)})}function Cz(n){return n.asyncQueue.enqueue(async()=>{const e=await O1(n),t=await N1(n);return e.setNetworkEnabled(!1),async function(i){const o=_e(i);o.W_.add(0),await ku(o),o.j_.set("Offline")}(t)})}function Pz(n,e){const t=new gn;return n.asyncQueue.enqueueAndForget(async()=>async function(i,o,l){try{const c=await function(f,m){const y=_e(f);return y.persistence.runTransaction("read document","readonly",v=>y.localDocuments.getDocument(v,m))}(i,o);c.isFoundDocument()?l.resolve(c):c.isNoDocument()?l.resolve(null):l.reject(new ae(te.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(c){const d=Du(c,`Failed to get document '${o} from cache`);l.reject(d)}}(await zw(n),e,t)),t.promise}function D1(n,e,t={}){const r=new gn;return n.asyncQueue.enqueueAndForget(async()=>function(o,l,c,d,f){const m=new Bm({next:v=>{m.su(),l.enqueueAndForget(()=>Nw(o,y));const S=v.docs.has(c);!S&&v.fromCache?f.reject(new ae(te.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&v.fromCache&&d&&d.source==="server"?f.reject(new ae(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(v)},error:v=>f.reject(v)}),y=new Vw(Cu(c.path),m,{includeMetadataChanges:!0,Ta:!0});return Ow(o,y)}(await gu(n),n.asyncQueue,e,t,r)),r.promise}function xz(n,e){const t=new gn;return n.asyncQueue.enqueueAndForget(async()=>async function(i,o,l){try{const c=await Hp(i,o,!0),d=new b1(o,c.gs),f=d.Sa(c.documents),m=d.applyChanges(f,!1);l.resolve(m.snapshot)}catch(c){const d=Du(c,`Failed to execute query '${o} against cache`);l.reject(d)}}(await zw(n),e,t)),t.promise}function V1(n,e,t={}){const r=new gn;return n.asyncQueue.enqueueAndForget(async()=>function(o,l,c,d,f){const m=new Bm({next:v=>{m.su(),l.enqueueAndForget(()=>Nw(o,y)),v.fromCache&&d.source==="server"?f.reject(new ae(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(v)},error:v=>f.reject(v)}),y=new Vw(c,m,{includeMetadataChanges:!0,Ta:!0});return Ow(o,y)}(await gu(n),n.asyncQueue,e,t,r)),r.promise}function kz(n,e){const t=new Bm(e);return n.asyncQueue.enqueueAndForget(async()=>function(i,o){_e(i).ia.add(o),o.next()}(await gu(n),t)),()=>{t.su(),n.asyncQueue.enqueueAndForget(async()=>function(i,o){_e(i).ia.delete(o)}(await gu(n),t))}}function Oz(n,e,t,r){const i=function(l,c){let d;return d=typeof l=="string"?PP().encode(l):l,function(m,y){return new Tz(m,y)}(function(m,y){if(m instanceof Uint8Array)return SR(m,y);if(m instanceof ArrayBuffer)return SR(new Uint8Array(m),y);if(m instanceof ReadableStream)return m.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(d),c)}(t,lh(e));n.asyncQueue.enqueueAndForget(async()=>{vz(await $w(n),i,r)})}function Nz(n,e){return n.asyncQueue.enqueue(async()=>function(r,i){const o=_e(r);return o.persistence.runTransaction("Get named query","readonly",l=>o.Yr.getNamedQuery(l,i))}(await zw(n),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L1(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qw(n,e,t){if(!t)throw new ae(te.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function M1(n,e,t,r){if(e===!0&&r===!0)throw new ae(te.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function bR(n){if(!ye.isDocumentKey(n))throw new ae(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function AR(n){if(ye.isDocumentKey(n))throw new ae(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function $m(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":we()}function Ye(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ae(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=$m(n);throw new ae(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function F1(n,e){if(e<=0)throw new ae(te.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1="firestore.googleapis.com",CR=!0;class PR{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ae(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=j1,this.ssl=CR}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:CR;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=GP;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<e3)throw new ae(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}M1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=L1((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ae(te.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ae(te.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ae(te.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ch{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new PR({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new PR(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new _B;switch(r.type){case"firstParty":return new TB(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ae(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=RR.get(t);r&&(ue("ComponentProvider","Removing Datastore"),RR.delete(t),r.terminate())}(this),Promise.resolve()}}function Dz(n,e,t,r={}){var i;const o=(n=Ye(n,ch))._getSettings(),l=Object.assign(Object.assign({},o),{emulatorOptions:n._getEmulatorOptions()}),c=`${e}:${t}`;o.host!==j1&&o.host!==c&&Si("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},o),{host:c,ssl:!1,emulatorOptions:r});if(!ns(d,l)&&(n._setSettings(d),r.mockUserToken)){let f,m;if(typeof r.mockUserToken=="string")f=r.mockUserToken,m=ln.MOCK_USER;else{f=TF(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new ae(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new ln(y)}n._authCredentials=new vB(new kC(f,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dn=class U1{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new U1(this.firestore,e,this._query)}},Pt=class B1{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new eo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new B1(this.firestore,e,this._key)}},eo=class z1 extends Dn{constructor(e,t,r){super(e,t,Cu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pt(this.firestore,null,new ye(e))}withConverter(e){return new z1(this.firestore,e,this._path)}};function $1(n,e,...t){if(n=lt(n),qw("collection","path",e),n instanceof ch){const r=Ue.fromString(e,...t);return AR(r),new eo(n,null,r)}{if(!(n instanceof Pt||n instanceof eo))throw new ae(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ue.fromString(e,...t));return AR(r),new eo(n.firestore,null,r)}}function Vz(n,e){if(n=Ye(n,ch),qw("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ae(te.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Dn(n,null,function(r){return new cs(Ue.emptyPath(),r)}(e))}function Yp(n,e,...t){if(n=lt(n),arguments.length===1&&(e=OC.newId()),qw("doc","path",e),n instanceof ch){const r=Ue.fromString(e,...t);return bR(r),new Pt(n,null,new ye(r))}{if(!(n instanceof Pt||n instanceof eo))throw new ae(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ue.fromString(e,...t));return bR(r),new Pt(n.firestore,n instanceof eo?n.converter:null,new ye(r))}}function q1(n,e){return n=lt(n),e=lt(e),(n instanceof Pt||n instanceof eo)&&(e instanceof Pt||e instanceof eo)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function W1(n,e){return n=lt(n),e=lt(e),n instanceof Dn&&e instanceof Dn&&n.firestore===e.firestore&&rh(n._query,e._query)&&n.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR="AsyncQueue";class kR{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Aw(this,"async_queue_retry"),this.bu=()=>{const r=gp();r&&ue(xR,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.Su=e;const t=gp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=gp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new gn;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!So(e))throw e;ue(xR,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.Su.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c}(r);throw Lt("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.Su=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const i=kw.createAndSchedule(this,e,t,r,o=>this.Fu(o));return this.fu.push(i),i}Du(){this.gu&&we()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function sv(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}class Lz{constructor(){this._progressObserver={},this._taskCompletionResolver=new gn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mz=-1;let Ft=class extends ch{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new kR,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new kR(e),this._firestoreClient=void 0,await e}}};function bn(n){if(n._terminated)throw new ae(te.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||H1(n),n._firestoreClient}function H1(n){var e,t,r;const i=n._freezeSettings(),o=function(c,d,f,m){return new i5(c,d,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,L1(m.experimentalLongPollingOptions),m.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new Rz(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(c){const d=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(d),_online:d}}(n._componentsProvider))}function Fz(n,e){Si("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings();return K1(n,Ld.provider,{build:r=>new k1(r,t.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}async function jz(n){Si("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings();K1(n,Ld.provider,{build:t=>new Ez(t,e.cacheSizeBytes)})}function K1(n,e,t){if((n=Ye(n,Ft))._firestoreClient||n._terminated)throw new ae(te.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new ae(te.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},H1(n)}function Uz(n){if(n._initialized&&!n._terminated)throw new ae(te.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new gn;return n._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!wi.D())return Promise.resolve();const i=r+r1;await wi.delete(i)}(Sw(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}}),e.promise}function Bz(n){return function(t){const r=new gn;return t.asyncQueue.enqueueAndForget(async()=>lz(await $w(t),r)),r.promise}(bn(n=Ye(n,Ft)))}function zz(n){return Az(bn(n=Ye(n,Ft)))}function $z(n){return Cz(bn(n=Ye(n,Ft)))}function qz(n,e){const t=bn(n=Ye(n,Ft)),r=new Lz;return Oz(t,n._databaseId,e,r),r}function Wz(n,e){return Nz(bn(n=Ye(n,Ft)),e).then(t=>t?new Dn(n,null,t.query):null)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ri(Nt.fromBase64String(e))}catch(t){throw new ae(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ri(Nt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mo=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ae(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Et(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ka=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ae(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ae(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ne(this._lat,e._lat)||Ne(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hz=/^__.*__$/;class Kz{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new hs(e,this.data,this.fieldMask,t,this.fieldTransforms):new Pu(e,this.data,t,this.fieldTransforms)}}class G1{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new hs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Q1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we()}}class Wm{constructor(e,t,r,i,o,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Bu(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Wm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Ku(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Jp(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(Q1(this.Lu)&&Hz.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class Gz{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||lh(e)}ju(e,t,r,i=!1){return new Wm({Lu:e,methodName:t,zu:r,path:Et.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Oa(n){const e=n._freezeSettings(),t=lh(n._databaseId);return new Gz(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Hm(n,e,t,r,i,o={}){const l=n.ju(o.merge||o.mergeFields?2:0,e,t,i);Xw("Data must be an object, but it was:",l,r);const c=X1(r,l);let d,f;if(o.merge)d=new Hn(l.fieldMask),f=l.fieldTransforms;else if(o.mergeFields){const m=[];for(const y of o.mergeFields){const v=ov(e,y,t);if(!l.contains(v))throw new ae(te.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);ex(m,v)||m.push(v)}d=new Hn(m),f=l.fieldTransforms.filter(y=>d.covers(y.field))}else d=null,f=l.fieldTransforms;return new Kz(new mn(c),d,f)}class dh extends ka{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof dh}}function Y1(n,e,t){return new Wm({Lu:3,zu:e.settings.zu,methodName:n._methodName,Qu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Hw extends ka{_toFieldTransform(e){return new sh(e.path,new lu)}isEqual(e){return e instanceof Hw}}class Kw extends ka{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=Y1(this,e,!0),r=this.Hu.map(o=>Na(o,t)),i=new Ta(r);return new sh(e.path,i)}isEqual(e){return e instanceof Kw&&ns(this.Hu,e.Hu)}}class Gw extends ka{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=Y1(this,e,!0),r=this.Hu.map(o=>Na(o,t)),i=new Sa(r);return new sh(e.path,i)}isEqual(e){return e instanceof Gw&&ns(this.Hu,e.Hu)}}class Qw extends ka{constructor(e,t){super(e),this.Ju=t}_toFieldTransform(e){const t=new uu(e.serializer,wP(e.serializer,this.Ju));return new sh(e.path,t)}isEqual(e){return e instanceof Qw&&this.Ju===e.Ju}}function Yw(n,e,t,r){const i=n.ju(1,e,t);Xw("Data must be an object, but it was:",i,r);const o=[],l=mn.empty();Io(r,(d,f)=>{const m=Zw(e,d,t);f=lt(f);const y=i.Ku(m);if(f instanceof dh)o.push(m);else{const v=Na(f,y);v!=null&&(o.push(m),l.set(m,v))}});const c=new Hn(o);return new G1(l,c,i.fieldTransforms)}function Jw(n,e,t,r,i,o){const l=n.ju(1,e,t),c=[ov(e,r,t)],d=[i];if(o.length%2!=0)throw new ae(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<o.length;v+=2)c.push(ov(e,o[v])),d.push(o[v+1]);const f=[],m=mn.empty();for(let v=c.length-1;v>=0;--v)if(!ex(f,c[v])){const S=c[v];let T=d[v];T=lt(T);const R=l.Ku(S);if(T instanceof dh)f.push(S);else{const b=Na(T,R);b!=null&&(f.push(S),m.set(S,b))}}const y=new Hn(f);return new G1(m,y,l.fieldTransforms)}function J1(n,e,t,r=!1){return Na(t,n.ju(r?4:3,e))}function Na(n,e){if(Z1(n=lt(n)))return Xw("Unsupported field value:",e,n),X1(n,e);if(n instanceof ka)return function(r,i){if(!Q1(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){const o=[];let l=0;for(const c of r){let d=Na(c,i.Uu(l));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),l++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=lt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return wP(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=St.fromDate(r);return{timestampValue:cu(i.serializer,o)}}if(r instanceof St){const o=new St(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:cu(i.serializer,o)}}if(r instanceof qm)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ri)return{bytesValue:OP(i.serializer,r._byteString)};if(r instanceof Pt){const o=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw i.Wu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:gw(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ww)return function(l,c){return{mapValue:{fields:{[sw]:{stringValue:ow},[su]:{arrayValue:{values:l.toArray().map(f=>{if(typeof f!="number")throw c.Wu("VectorValues must only contain numeric values.");return cw(c.serializer,f)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${$m(r)}`)}(n,e)}function X1(n,e){const t={};return QC(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Io(n,(r,i)=>{const o=Na(i,e.qu(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function Z1(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof St||n instanceof qm||n instanceof Ri||n instanceof Pt||n instanceof ka||n instanceof Ww)}function Xw(n,e,t){if(!Z1(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=$m(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function ov(n,e,t){if((e=lt(e))instanceof mo)return e._internalPath;if(typeof e=="string")return Zw(n,e);throw Jp("Field path arguments must be of type string or ",n,!1,void 0,t)}const Qz=new RegExp("[~\\*/\\[\\]]");function Zw(n,e,t){if(e.search(Qz)>=0)throw Jp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new mo(...e.split("."))._internalPath}catch{throw Jp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Jp(n,e,t,r,i){const o=r&&!r.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(o||l)&&(d+=" (found",o&&(d+=` in field ${r}`),l&&(d+=` in document ${i}`),d+=")"),new ae(te.INVALID_ARGUMENT,c+n+d)}function ex(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Yz(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Km("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Yz extends Md{data(){return super.data()}}function Km(n,e){return typeof e=="string"?Zw(n,e):e instanceof mo?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tx(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ae(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class e0{}class hh extends e0{}function zs(n,e,...t){let r=[];e instanceof e0&&r.push(e),r=r.concat(t),function(o){const l=o.filter(d=>d instanceof t0).length,c=o.filter(d=>d instanceof Gm).length;if(l>1||l>0&&c>0)throw new ae(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class Gm extends hh{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Gm(e,t,r)}_apply(e){const t=this._parse(e);return rx(e._query,t),new Dn(e.firestore,e.converter,H_(e._query,t))}_parse(e){const t=Oa(e.firestore);return function(o,l,c,d,f,m,y){let v;if(f.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new ae(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){NR(y,m);const T=[];for(const R of y)T.push(OR(d,o,R));v={arrayValue:{values:T}}}else v=OR(d,o,y)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||NR(y,m),v=J1(c,l,y,m==="in"||m==="not-in");return Be.create(f,m,v)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Jz(n,e,t){const r=e,i=Km("where",n);return Gm._create(i,r,t)}class t0 extends e0{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new t0(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:nt.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let l=i;const c=o.getFlattenedFilters();for(const d of c)rx(l,d),l=H_(l,d)}(e._query,t),new Dn(e.firestore,e.converter,H_(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class n0 extends hh{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new n0(e,t)}_apply(e){const t=function(i,o,l){if(i.startAt!==null)throw new ae(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ae(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Od(o,l)}(e._query,this._field,this._direction);return new Dn(e.firestore,e.converter,function(i,o){const l=i.explicitOrderBy.concat([o]);return new cs(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function Xz(n,e="asc"){const t=e,r=Km("orderBy",n);return n0._create(r,t)}class Qm extends hh{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Qm(e,t,r)}_apply(e){return new Dn(e.firestore,e.converter,Bp(e._query,this._limit,this._limitType))}}function Zz(n){return F1("limit",n),Qm._create("limit",n,"F")}function e$(n){return F1("limitToLast",n),Qm._create("limitToLast",n,"L")}class Ym extends hh{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Ym(e,t,r)}_apply(e){const t=nx(e,this.type,this._docOrFields,this._inclusive);return new Dn(e.firestore,e.converter,function(i,o){return new cs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)}(e._query,t))}}function t$(...n){return Ym._create("startAt",n,!0)}function n$(...n){return Ym._create("startAfter",n,!1)}class Jm extends hh{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Jm(e,t,r)}_apply(e){const t=nx(e,this.type,this._docOrFields,this._inclusive);return new Dn(e.firestore,e.converter,function(i,o){return new cs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)}(e._query,t))}}function r$(...n){return Jm._create("endBefore",n,!1)}function i$(...n){return Jm._create("endAt",n,!0)}function nx(n,e,t,r){if(t[0]=lt(t[0]),t[0]instanceof Md)return function(o,l,c,d,f){if(!d)throw new ae(te.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const m=[];for(const y of Kl(o))if(y.field.isKeyField())m.push(wa(l,d.key));else{const v=d.data.field(y.field);if(km(v))throw new ae(te.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+y.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(v===null){const S=y.field.canonicalString();throw new ae(te.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${S}' (used as the orderBy) does not exist.`)}m.push(v)}return new ho(m,f)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Oa(n.firestore);return function(l,c,d,f,m,y){const v=l.explicitOrderBy;if(m.length>v.length)throw new ae(te.INVALID_ARGUMENT,`Too many arguments provided to ${f}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const S=[];for(let T=0;T<m.length;T++){const R=m[T];if(v[T].field.isKeyField()){if(typeof R!="string")throw new ae(te.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${f}(), but got a ${typeof R}`);if(!lw(l)&&R.indexOf("/")!==-1)throw new ae(te.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${f}() must be a plain document ID, but '${R}' contains a slash.`);const b=l.path.child(Ue.fromString(R));if(!ye.isDocumentKey(b))throw new ae(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${f}() must result in a valid document path, but '${b}' is not because it contains an odd number of segments.`);const L=new ye(b);S.push(wa(c,L))}else{const b=J1(d,f,R);S.push(b)}}return new ho(S,y)}(n._query,n.firestore._databaseId,i,e,t,r)}}function OR(n,e,t){if(typeof(t=lt(t))=="string"){if(t==="")throw new ae(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!lw(e)&&t.indexOf("/")!==-1)throw new ae(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Ue.fromString(t));if(!ye.isDocumentKey(r))throw new ae(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return wa(n,new ye(r))}if(t instanceof Pt)return wa(n,t._key);throw new ae(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$m(t)}.`)}function NR(n,e){if(!Array.isArray(n)||n.length===0)throw new ae(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function rx(n,e){const t=function(i,o){for(const l of i)for(const c of l.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ae(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ae(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class r0{convertValue(e,t="none"){switch(uo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(as(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw we()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Io(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;const o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[su].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(l=>wt(l.doubleValue));return new Ww(o)}convertGeoPoint(e){return new qm(wt(e.latitude),wt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Om(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Pd(e));default:return null}}convertTimestamp(e){const t=os(e);return new St(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Ue.fromString(e);Ie($P(r));const i=new lo(r.get(1),r.get(3)),o=new ye(r.popFirst(5));return i.isEqual(t)||Lt(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xm(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class s$ extends r0{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ri(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Pt(this.firestore,null,t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let ls=class extends Md{constructor(e,t,r,i,o,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new fd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Km("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},fd=class extends ls{data(e={}){return super.data(e)}},go=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new ha(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new fd(this._firestore,this._userDataWriter,r.key,r,new ha(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ae(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(c=>{const d=new fd(i._firestore,i._userDataWriter,c.doc.key,c.doc,new ha(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{const d=new fd(i._firestore,i._userDataWriter,c.doc.key,c.doc,new ha(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,m=-1;return c.type!==0&&(f=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),m=l.indexOf(c.doc.key)),{type:o$(c.type),doc:d,oldIndex:f,newIndex:m}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function o$(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we()}}function ix(n,e){return n instanceof ls&&e instanceof ls?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(n._document===null?e._document===null:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof go&&e instanceof go&&n._firestore===e._firestore&&W1(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a$(n){n=Ye(n,Pt);const e=Ye(n.firestore,Ft);return D1(bn(e),n._key).then(t=>i0(e,n,t))}class Da extends r0{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ri(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Pt(this.firestore,null,t)}}function l$(n){n=Ye(n,Pt);const e=Ye(n.firestore,Ft),t=bn(e),r=new Da(e);return Pz(t,n._key).then(i=>new ls(e,r,n._key,i,new ha(i!==null&&i.hasLocalMutations,!0),n.converter))}function u$(n){n=Ye(n,Pt);const e=Ye(n.firestore,Ft);return D1(bn(e),n._key,{source:"server"}).then(t=>i0(e,n,t))}function c$(n){n=Ye(n,Dn);const e=Ye(n.firestore,Ft),t=bn(e),r=new Da(e);return tx(n._query),V1(t,n._query).then(i=>new go(e,r,n,i))}function d$(n){n=Ye(n,Dn);const e=Ye(n.firestore,Ft),t=bn(e),r=new Da(e);return xz(t,n._query).then(i=>new go(e,r,n,i))}function h$(n){n=Ye(n,Dn);const e=Ye(n.firestore,Ft),t=bn(e),r=new Da(e);return V1(t,n._query,{source:"server"}).then(i=>new go(e,r,n,i))}function DR(n,e,t){n=Ye(n,Pt);const r=Ye(n.firestore,Ft),i=Xm(n.converter,e,t);return fh(r,[Hm(Oa(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Tt.none())])}function VR(n,e,t,...r){n=Ye(n,Pt);const i=Ye(n.firestore,Ft),o=Oa(i);let l;return l=typeof(e=lt(e))=="string"||e instanceof mo?Jw(o,"updateDoc",n._key,e,t,r):Yw(o,"updateDoc",n._key,e),fh(i,[l.toMutation(n._key,Tt.exists(!0))])}function f$(n){return fh(Ye(n.firestore,Ft),[new xu(n._key,Tt.none())])}function p$(n,e){const t=Ye(n.firestore,Ft),r=Yp(n),i=Xm(n.converter,e);return fh(t,[Hm(Oa(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Tt.exists(!1))]).then(()=>r)}function sx(n,...e){var t,r,i;n=lt(n);let o={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||sv(e[l])||(o=e[l],l++);const c={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(sv(e[l])){const y=e[l];e[l]=(t=y.next)===null||t===void 0?void 0:t.bind(y),e[l+1]=(r=y.error)===null||r===void 0?void 0:r.bind(y),e[l+2]=(i=y.complete)===null||i===void 0?void 0:i.bind(y)}let d,f,m;if(n instanceof Pt)f=Ye(n.firestore,Ft),m=Cu(n._key.path),d={next:y=>{e[l]&&e[l](i0(f,n,y))},error:e[l+1],complete:e[l+2]};else{const y=Ye(n,Dn);f=Ye(y.firestore,Ft),m=y._query;const v=new Da(f);d={next:S=>{e[l]&&e[l](new go(f,v,y,S))},error:e[l+1],complete:e[l+2]},tx(n._query)}return function(v,S,T,R){const b=new Bm(R),L=new Vw(S,b,T);return v.asyncQueue.enqueueAndForget(async()=>Ow(await gu(v),L)),()=>{b.su(),v.asyncQueue.enqueueAndForget(async()=>Nw(await gu(v),L))}}(bn(f),m,c,d)}function m$(n,e){return kz(bn(n=Ye(n,Ft)),sv(e)?e:{next:e})}function fh(n,e){return function(r,i){const o=new gn;return r.asyncQueue.enqueueAndForget(async()=>iz(await $w(r),i,o)),o.promise}(bn(n),e)}function i0(n,e,t){const r=t.docs.get(e._key),i=new Da(n);return new ls(n,i,e._key,r,new ha(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g$={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let y$=class{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Oa(e)}set(e,t,r){this._verifyNotCommitted();const i=Ys(e,this._firestore),o=Xm(i.converter,t,r),l=Hm(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(l.toMutation(i._key,Tt.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const o=Ys(e,this._firestore);let l;return l=typeof(t=lt(t))=="string"||t instanceof mo?Jw(this._dataReader,"WriteBatch.update",o._key,t,r,i):Yw(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(l.toMutation(o._key,Tt.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Ys(e,this._firestore);return this._mutations=this._mutations.concat(new xu(t._key,Tt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ae(te.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Ys(n,e){if((n=lt(n)).firestore!==e)throw new ae(te.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _${constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Oa(e)}get(e){const t=Ys(e,this._firestore),r=new s$(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||i.length!==1)return we();const o=i[0];if(o.isFoundDocument())return new Md(this._firestore,r,o.key,o,t.converter);if(o.isNoDocument())return new Md(this._firestore,r,t._key,null,t.converter);throw we()})}set(e,t,r){const i=Ys(e,this._firestore),o=Xm(i.converter,t,r),l=Hm(this._dataReader,"Transaction.set",i._key,o,i.converter!==null,r);return this._transaction.set(i._key,l),this}update(e,t,r,...i){const o=Ys(e,this._firestore);let l;return l=typeof(t=lt(t))=="string"||t instanceof mo?Jw(this._dataReader,"Transaction.update",o._key,t,r,i):Yw(this._dataReader,"Transaction.update",o._key,t),this._transaction.update(o._key,l),this}delete(e){const t=Ys(e,this._firestore);return this._transaction.delete(t._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let v$=class extends _${constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Ys(e,this._firestore),r=new Da(this._firestore);return super.get(e).then(i=>new ls(this._firestore,r,t._key,i._document,new ha(!1,!1),t.converter))}};function w$(n,e,t){n=Ye(n,Ft);const r=Object.assign(Object.assign({},g$),t);return function(o){if(o.maxAttempts<1)throw new ae(te.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,l,c){const d=new gn;return o.asyncQueue.enqueueAndForget(async()=>{const f=await bz(o);new Iz(o.asyncQueue,f,c,l,d).Iu()}),d.promise}(bn(n),i=>e(new v$(n,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E$(){return new dh("deleteField")}function T$(){return new Hw("serverTimestamp")}function S$(...n){return new Kw("arrayUnion",n)}function I$(...n){return new Gw("arrayRemove",n)}function R$(n){return new Qw("increment",n)}(function(e,t=!0){(function(i){Au=i})(vo),oo(new rs("firestore",(r,{instanceIdentifier:i,options:o})=>{const l=r.getProvider("app").getImmediate(),c=new Ft(new wB(r.getProvider("auth-internal")),new SB(l,r.getProvider("app-check-internal")),function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new ae(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lo(f.options.projectId,m)}(l,i),l);return o=Object.assign({useFetchStreams:t},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),Qr(fI,pI,e),Qr(fI,pI,"esm2017")})();const b$="@firebase/firestore-compat",A$="0.3.44";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s0(n,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new ae("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LR(){if(typeof Uint8Array>"u")throw new ae("unimplemented","Uint8Arrays are not available in this environment.")}function MR(){if(!n5())throw new ae("unimplemented","Blobs are unavailable in Firestore in this environment.")}let ox=class av{constructor(e){this._delegate=e}static fromBase64String(e){return MR(),new av(Ri.fromBase64String(e))}static fromUint8Array(e){return LR(),new av(Ri.fromUint8Array(e))}toBase64(){return MR(),this._delegate.toBase64()}toUint8Array(){return LR(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(n){return C$(n,["next","error","complete"])}function C$(n,e){if(typeof n!="object"||n===null)return!1;const t=n;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P${enableIndexedDbPersistence(e,t){return Fz(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return jz(e._delegate)}clearIndexedDbPersistence(e){return Uz(e._delegate)}}class ax{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof lo||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Si("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},t),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,t,r={}){Dz(this._delegate,e,t,r)}enableNetwork(){return zz(this._delegate)}disableNetwork(){return $z(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,M1("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return Bz(this._delegate)}onSnapshotsInSync(e){return m$(this._delegate,e)}get app(){if(!this._appCompat)throw new ae("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new yu(this,$1(this._delegate,e))}catch(t){throw On(t,"collection()","Firestore.collection()")}}doc(e){try{return new Ar(this,Yp(this._delegate,e))}catch(t){throw On(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new kn(this,Vz(this._delegate,e))}catch(t){throw On(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return w$(this._delegate,t=>e(new lx(this,t)))}batch(){return bn(this._delegate),new ux(new y$(this._delegate,e=>fh(this._delegate,e)))}loadBundle(e){return qz(this._delegate,e)}namedQuery(e){return Wz(this._delegate,e).then(t=>t?new kn(this,t):null)}}class Zm extends r0{constructor(e){super(),this.firestore=e}convertBytes(e){return new ox(new Ri(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Ar.forKey(t,this.firestore,null)}}function x$(n){gB(n)}class lx{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Zm(e)}get(e){const t=fa(e);return this._delegate.get(t).then(r=>new Fd(this._firestore,new ls(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=fa(e);return r?(s0("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const o=fa(e);return arguments.length===2?this._delegate.update(o,t):this._delegate.update(o,t,r,...i),this}delete(e){const t=fa(e);return this._delegate.delete(t),this}}class ux{constructor(e){this._delegate=e}set(e,t,r){const i=fa(e);return r?(s0("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const o=fa(e);return arguments.length===2?this._delegate.update(o,t):this._delegate.update(o,t,r,...i),this}delete(e){const t=fa(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Ca{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new fd(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new jd(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Ca.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let o=i.get(t);return o||(o=new Ca(e,new Zm(e),t),i.set(t,o)),o}}Ca.INSTANCES=new WeakMap;class Ar{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Zm(e)}static forPath(e,t,r){if(e.length%2!==0)throw new ae("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ar(t,new Pt(t._delegate,r,new ye(e)))}static forKey(e,t,r){return new Ar(t,new Pt(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new yu(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new yu(this.firestore,$1(this._delegate,e))}catch(t){throw On(t,"collection()","DocumentReference.collection()")}}isEqual(e){return e=lt(e),e instanceof Pt?q1(this._delegate,e):!1}set(e,t){t=s0("DocumentReference.set",t);try{return t?DR(this._delegate,e,t):DR(this._delegate,e)}catch(r){throw On(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return arguments.length===1?VR(this._delegate,e):VR(this._delegate,e,t,...r)}catch(i){throw On(i,"updateDoc()","DocumentReference.update()")}}delete(){return f$(this._delegate)}onSnapshot(...e){const t=cx(e),r=dx(e,i=>new Fd(this.firestore,new ls(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return sx(this._delegate,t,r)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=l$(this._delegate):(e==null?void 0:e.source)==="server"?t=u$(this._delegate):t=a$(this._delegate),t.then(r=>new Fd(this.firestore,new ls(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Ar(this.firestore,e?this._delegate.withConverter(Ca.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function On(n,e,t){return n.message=n.message.replace(e,t),n}function cx(n){for(const e of n)if(typeof e=="object"&&!lv(e))return e;return{}}function dx(n,e){var t,r;let i;return lv(n[0])?i=n[0]:lv(n[1])?i=n[1]:typeof n[0]=="function"?i={next:n[0],error:n[1],complete:n[2]}:i={next:n[1],error:n[2],complete:n[3]},{next:o=>{i.next&&i.next(e(o))},error:(t=i.error)===null||t===void 0?void 0:t.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class Fd{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Ar(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return ix(this._delegate,e._delegate)}}class jd extends Fd{data(e){const t=this._delegate.data(e);return this._delegate._converter||yB(t!==void 0),t}}class kn{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Zm(e)}where(e,t,r){try{return new kn(this.firestore,zs(this._delegate,Jz(e,t,r)))}catch(i){throw On(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new kn(this.firestore,zs(this._delegate,Xz(e,t)))}catch(r){throw On(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new kn(this.firestore,zs(this._delegate,Zz(e)))}catch(t){throw On(t,"limit()","Query.limit()")}}limitToLast(e){try{return new kn(this.firestore,zs(this._delegate,e$(e)))}catch(t){throw On(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new kn(this.firestore,zs(this._delegate,t$(...e)))}catch(t){throw On(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new kn(this.firestore,zs(this._delegate,n$(...e)))}catch(t){throw On(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new kn(this.firestore,zs(this._delegate,r$(...e)))}catch(t){throw On(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new kn(this.firestore,zs(this._delegate,i$(...e)))}catch(t){throw On(t,"endAt()","Query.endAt()")}}isEqual(e){return W1(this._delegate,e._delegate)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=d$(this._delegate):(e==null?void 0:e.source)==="server"?t=h$(this._delegate):t=c$(this._delegate),t.then(r=>new uv(this.firestore,new go(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=cx(e),r=dx(e,i=>new uv(this.firestore,new go(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return sx(this._delegate,t,r)}withConverter(e){return new kn(this.firestore,e?this._delegate.withConverter(Ca.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class k${constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new jd(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class uv{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new kn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new jd(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new k$(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new jd(this._firestore,r))})}isEqual(e){return ix(this._delegate,e._delegate)}}class yu extends kn{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ar(this.firestore,e):null}doc(e){try{return e===void 0?new Ar(this.firestore,Yp(this._delegate)):new Ar(this.firestore,Yp(this._delegate,e))}catch(t){throw On(t,"doc()","CollectionReference.doc()")}}add(e){return p$(this._delegate,e).then(t=>new Ar(this.firestore,t))}isEqual(e){return q1(this._delegate,e._delegate)}withConverter(e){return new yu(this.firestore,e?this._delegate.withConverter(Ca.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function fa(n){return Ye(n,Pt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(...e){this._delegate=new mo(...e)}static documentId(){return new o0(Et.keyField().canonicalString())}isEqual(e){return e=lt(e),e instanceof mo?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{static serverTimestamp(){const e=T$();return e._methodName="FieldValue.serverTimestamp",new ua(e)}static delete(){const e=E$();return e._methodName="FieldValue.delete",new ua(e)}static arrayUnion(...e){const t=S$(...e);return t._methodName="FieldValue.arrayUnion",new ua(t)}static arrayRemove(...e){const t=I$(...e);return t._methodName="FieldValue.arrayRemove",new ua(t)}static increment(e){const t=R$(e);return t._methodName="FieldValue.increment",new ua(t)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O$={Firestore:ax,GeoPoint:qm,Timestamp:St,Blob:ox,Transaction:lx,WriteBatch:ux,DocumentReference:Ar,DocumentSnapshot:Fd,Query:kn,QueryDocumentSnapshot:jd,QuerySnapshot:uv,CollectionReference:yu,FieldPath:o0,FieldValue:ua,setLogLevel:x$,CACHE_SIZE_UNLIMITED:Mz};function N$(n,e){n.INTERNAL.registerComponent(new rs("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},O$)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D$(n){N$(n,(e,t)=>new ax(e,t,new P$)),n.registerVersion(b$,A$)}D$(zv);const V$={apiKey:"AIzaSyCt1sLbQ4F-jH9q41FwQCIuhmHvhEawqB0",authDomain:"project-2-aa4d5.firebaseapp.com",projectId:"project-2-aa4d5",storageBucket:"project-2-aa4d5.firebasestorage.app",messagingSenderId:"331356007367",appId:"1:331356007367:web:db85b7f14facb40f1a87e2"},hx=zv.initializeApp(V$),Xp=pB(hx),fx=hx.firestore();function L$(){var i;const[{user:n,basket:e},t]=K.useContext(us),r=Array.isArray(e)?e.reduce((o,l)=>o+l.amount,0):0;return U.jsxs("section",{className:Ki.fixed,children:[U.jsxs("div",{className:Ki.header__container,children:[U.jsx("div",{className:Ki.logo__container,children:U.jsx(Gr,{to:"/",children:U.jsx("img",{src:"https://pngimg.com/uploads/amazon/amazon_PNG11.png",alt:"Amazon logo"})})}),U.jsxs("div",{className:Ki.delivery,children:[U.jsx("span",{children:U.jsx(ZM,{})}),U.jsxs("div",{children:[U.jsx("p",{children:"Delivered to"}),U.jsx("span",{children:"Ethiopia"})]})]}),U.jsxs("div",{className:Ki.search,children:[U.jsx("select",{name:"",id:"",children:U.jsx("option",{value:"",children:"All"})}),U.jsx("input",{type:"text"}),U.jsx(XM,{size:25})]}),U.jsxs("div",{className:Ki.order__container,children:[U.jsxs(Gr,{to:"#",className:Ki.language,children:[U.jsx("img",{src:"https://png.pngtree.com/png-vector/20190508/ourmid/pngtree-cartoons-american-flag-png-image_867205.jpg",alt:"flag"}),U.jsx("select",{name:"",id:"",children:U.jsx("option",{value:"",children:"EN"})})]}),U.jsx(Gr,{to:!n&&"/auth",children:U.jsx("div",{children:n?U.jsxs(U.Fragment,{children:[U.jsxs("p",{children:["Hello",(i=n==null?void 0:n.email)==null?void 0:i.split("@"),"[0]"]}),U.jsx("span",{onClick:()=>Xp.signOut,children:"signOut"})]}):U.jsxs(U.Fragment,{children:[U.jsx("p",{children:"Sign In"}),U.jsx("span",{children:"Account & Lists"})]})})}),U.jsxs(Gr,{to:"/orders",children:[U.jsx("p",{children:"Returns"}),U.jsx("span",{children:"& Orders"})]}),U.jsxs(Gr,{to:"/cart",className:Ki.cart,children:[U.jsx(eF,{size:35}),U.jsx("span",{children:r})]})]})]}),U.jsx(dF,{})]})}function Vu({children:n}){return U.jsxs("div",{children:[U.jsx(L$,{}),n]})}function M$(){return U.jsxs(Vu,{children:[U.jsx(AN,{}),U.jsx(kN,{}),U.jsx(qM,{})]})}const F$="_container_sl2ga_1",j$="_orders__container_sl2ga_9",FR={container:F$,orders__container:j$};function U$(){const[{user:n},e]=K.useContext(us),[t,r]=K.useState([]);return K.useEffect(()=>{n?fx.collection("users").doc(n.uid).collection("orders").orderBy("created","desc").onSnapshot(i=>{r(i.docs.map(o=>({id:o.id,data:o.data()})))}):r([])},[]),U.jsx(Vu,{children:U.jsx("section",{className:FR.container,children:U.jsxs("div",{className:FR.orders__container,children:[U.jsx("h2",{children:"Your Orders"}),(t==null?void 0:t.length)==0&&U.jsx("div",{style:{padding:"20px"},children:" you don't have orders.yet "}),U.jsx("div",{children:t==null?void 0:t.map((i,o)=>{var l,c;return U.jsxs("div",{children:[U.jsx("hr",{}),U.jsxs("p",{children:["Order ID:",i.id]}),(c=(l=i==null?void 0:i.data)==null?void 0:l.basket)==null?void 0:c.map(d=>U.jsx(Iu,{flex:!0,product:d},d.id))]},o)})})]})})})}const B$="_login_1x1kv_1",z$="_login__container_1x1kv_23",$$="_btn__sin_1x1kv_41",q$="_btn__creat_1x1kv_43",qf={login:B$,login__container:z$,btn__sin:$$,btn__creat:q$};var W$={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function px(n){if(typeof n=="number")return{value:n,unit:"px"};var e,t=(n.match(/^[0-9.]*/)||"").toString();t.includes(".")?e=parseFloat(t):e=parseInt(t,10);var r=(n.match(/[^0-9]*$/)||"").toString();return W$[r]?{value:e,unit:r}:(console.warn("React Spinners: ".concat(n," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}function Bl(n){var e=px(n);return"".concat(e.value).concat(e.unit)}var mx=function(n,e,t){var r="react-spinners-".concat(n,"-").concat(t);if(typeof window>"u"||!window.document)return r;var i=document.createElement("style");document.head.appendChild(i);var o=i.sheet,l=`
    @keyframes `.concat(r,` {
      `).concat(e,`
    }
  `);return o&&o.insertRule(l,0),r},Zp=function(){return Zp=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Zp.apply(this,arguments)},H$=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},K$=mx("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");function cv(n){var e=n.loading,t=e===void 0?!0:e,r=n.color,i=r===void 0?"#000000":r,o=n.speedMultiplier,l=o===void 0?1:o,c=n.cssOverride,d=c===void 0?{}:c,f=n.size,m=f===void 0?35:f,y=H$(n,["loading","color","speedMultiplier","cssOverride","size"]),v=Zp({background:"transparent !important",width:Bl(m),height:Bl(m),borderRadius:"100%",border:"2px solid",borderTopColor:i,borderBottomColor:"transparent",borderLeftColor:i,borderRightColor:i,display:"inline-block",animation:"".concat(K$," ").concat(.75/l,"s 0s infinite linear"),animationFillMode:"both"},d);return t?K.createElement("span",Zp({style:v},y)):null}var zt=function(){return zt=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},zt.apply(this,arguments)},G$=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},Q$=mx("FadeLoader","50% {opacity: 0.3} 100% {opacity: 1}","fade");function Y$(n){var e=n.loading,t=e===void 0?!0:e,r=n.color,i=r===void 0?"#000000":r,o=n.speedMultiplier,l=o===void 0?1:o,c=n.cssOverride,d=c===void 0?{}:c,f=n.height,m=f===void 0?15:f,y=n.width,v=y===void 0?5:y,S=n.radius,T=S===void 0?2:S,R=n.margin,b=R===void 0?2:R,L=G$(n,["loading","color","speedMultiplier","cssOverride","height","width","radius","margin"]),V=px(b).value,M=V+18,$=M/2+M/5.5,B=zt({display:"inherit",position:"relative",fontSize:"0",top:M,left:M,width:"".concat(M*3,"px"),height:"".concat(M*3,"px")},d),q=function(F){return{position:"absolute",width:Bl(v),height:Bl(m),margin:Bl(b),backgroundColor:i,borderRadius:Bl(T),transition:"2s",animationFillMode:"both",animation:"".concat(Q$," ").concat(1.2/l,"s ").concat(F*.12,"s infinite ease-in-out")}},D=zt(zt({},q(1)),{top:"".concat(M,"px"),left:"0"}),A=zt(zt({},q(2)),{top:"".concat($,"px"),left:"".concat($,"px"),transform:"rotate(-45deg)"}),P=zt(zt({},q(3)),{top:"0",left:"".concat(M,"px"),transform:"rotate(90deg)"}),E=zt(zt({},q(4)),{top:"".concat(-1*$,"px"),left:"".concat($,"px"),transform:"rotate(45deg)"}),k=zt(zt({},q(5)),{top:"".concat(-1*M,"px"),left:"0"}),x=zt(zt({},q(6)),{top:"".concat(-1*$,"px"),left:"".concat(-1*$,"px"),transform:"rotate(-45deg)"}),O=zt(zt({},q(7)),{top:"0",left:"".concat(-1*M,"px"),transform:"rotate(90deg)"}),X=zt(zt({},q(8)),{top:"".concat($,"px"),left:"".concat(-1*$,"px"),transform:"rotate(45deg)"});return t?K.createElement("span",zt({style:B},L),K.createElement("span",{style:D}),K.createElement("span",{style:A}),K.createElement("span",{style:P}),K.createElement("span",{style:E}),K.createElement("span",{style:k}),K.createElement("span",{style:x}),K.createElement("span",{style:O}),K.createElement("span",{style:X})):null}function J$(){var S,T;const[n,e]=K.useState(""),[t,r]=K.useState(""),[i,o]=K.useState(""),[{user:l},c]=K.useContext(us),[d,f]=K.useState({signin:!1,signup:!1}),m=tm(),y=_o();console.log(l),console.log(n,t);const v=async R=>{R.preventDefault(),R.target.name==="signin"?(console.log(R.target.name),f({...d,signin:!0}),tU(Xp,n,t).then(b=>{var L;console.log(b),c({type:br.SET_USER,user:b.user}),f({...d,signin:!1}),m(((L=y==null?void 0:y.state)==null?void 0:L.redirect)||"/")}).catch(b=>{console.log(b),o(b.massage),f({...d,signin:!1}),m()})):(f({...d,signup:!0}),m("/"),eU(Xp,n,t).then(b=>{var L;console.log(b),c({type:br.SET_USER,user:b.user}),f({...d,signup:!1}),m(((L=y==null?void 0:y.state)==null?void 0:L.redirect)||"/")}).catch(b=>{console.log(b),o(b.message),f({...d,signin:!1})}))};return U.jsxs("section",{className:qf.login,children:[U.jsx("div",{children:U.jsx(Gr,{to:"/",children:U.jsx("img",{src:"https://pngimg.com/uploads/amazon/amazon_PNG12.png",alt:"Amazon logo"})})}),U.jsxs("div",{className:qf.login__container,children:[U.jsx("h1",{children:"Sign in"}),((S=y==null?void 0:y.state)==null?void 0:S.msg)&&U.jsx("small",{style:{padding:"5px",textAlign:"center",color:"red",fontWeight:"bold"},children:(T=y==null?void 0:y.state)==null?void 0:T.msg}),U.jsxs("form",{children:[U.jsxs("div",{children:[U.jsx("label",{htmlFor:"e-mail",children:"E-mail"}),U.jsx("br",{}),U.jsx("input",{type:"email",id:"email",name:"email",value:n,onChange:R=>e(R.target.value)})]}),U.jsx("br",{}),U.jsxs("div",{children:[U.jsx("label",{htmlFor:"password",children:"Password"}),U.jsx("br",{}),U.jsx("input",{type:"password",id:"password",value:t,onChange:R=>r(R.target.value)})]}),U.jsx("br",{}),U.jsx("button",{type:"submit",name:"signin",className:qf.btn__sin,onClick:v,children:d.signin?U.jsx(cv,{color:"gray"}):"sign in"}),U.jsx("br",{}),U.jsx("br",{})]}),U.jsx("p",{children:"By signing your agreement tto the amazon fake clone condtion of use &sale please see our privacy notice and our interest-based Ads notice"}),U.jsx("br",{}),U.jsx("button",{type:"submit",name:"signup",className:qf.btn__creat,onClick:v,children:d.signup?U.jsx(cv,{color:"gray"}):"create your amazon account"}),i&&U.jsx("p",{style:{color:"red"},children:i})]})]})}const X$="_payment__header_6ryqo_1",Z$="_flex_6ryqo_21",e6="_payment_card_container_6ryqo_49",t6="_payment__price_6ryqo_63",n6="_payment__details_6ryqo_57",r6="_loading_6ryqo_103",Hi={payment__header:X$,flex:Z$,payment_card_container:e6,payment__price:t6,payment__details:n6,loading:r6};function jR(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function UR(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?jR(Object(t),!0).forEach(function(r){gx(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):jR(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function yp(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?yp=function(e){return typeof e}:yp=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yp(n)}function gx(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function yx(n,e){return i6(n)||s6(n,e)||o6(n,e)||a6()}function i6(n){if(Array.isArray(n))return n}function s6(n,e){var t=n&&(typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"]);if(t!=null){var r=[],i=!0,o=!1,l,c;try{for(t=t.call(n);!(i=(l=t.next()).done)&&(r.push(l.value),!(e&&r.length===e));i=!0);}catch(d){o=!0,c=d}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw c}}return r}}function o6(n,e){if(n){if(typeof n=="string")return BR(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return BR(n,e)}}function BR(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function a6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var sr=function(e,t,r){var i=!!r,o=qe.useRef(r);qe.useEffect(function(){o.current=r},[r]),qe.useEffect(function(){if(!i||!e)return function(){};var l=function(){o.current&&o.current.apply(o,arguments)};return e.on(t,l),function(){e.off(t,l)}},[i,t,e,o])},dv=function(e){var t=qe.useRef(e);return qe.useEffect(function(){t.current=e},[e]),t.current},_u=function(e){return e!==null&&yp(e)==="object"},l6=function(e){return _u(e)&&typeof e.then=="function"},u6=function(e){return _u(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},zR="[object Object]",c6=function n(e,t){if(!_u(e)||!_u(t))return e===t;var r=Array.isArray(e),i=Array.isArray(t);if(r!==i)return!1;var o=Object.prototype.toString.call(e)===zR,l=Object.prototype.toString.call(t)===zR;if(o!==l)return!1;if(!o&&!r)return e===t;var c=Object.keys(e),d=Object.keys(t);if(c.length!==d.length)return!1;for(var f={},m=0;m<c.length;m+=1)f[c[m]]=!0;for(var y=0;y<d.length;y+=1)f[d[y]]=!0;var v=Object.keys(f);if(v.length!==c.length)return!1;var S=e,T=t,R=function(L){return n(S[L],T[L])};return v.every(R)},_x=function(e,t,r){return _u(e)?Object.keys(e).reduce(function(i,o){var l=!_u(t)||!c6(e[o],t[o]);return r.includes(o)?(l&&console.warn("Unsupported prop change: options.".concat(o," is not a mutable property.")),i):l?UR(UR({},i||{}),{},gx({},o,e[o])):i},null):null},vx="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",$R=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:vx;if(e===null||u6(e))return e;throw new Error(t)},d6=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:vx;if(l6(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(i){return $R(i,t)})};var r=$R(e,t);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},h6=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"3.4.0"}),e.registerAppInfo({name:"react-stripe-js",version:"3.4.0",url:"https://stripe.com/docs/stripe-js/react"}))},eg=qe.createContext(null);eg.displayName="ElementsContext";var wx=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},Ex=function(e){var t=e.stripe,r=e.options,i=e.children,o=qe.useMemo(function(){return d6(t)},[t]),l=qe.useState(function(){return{stripe:o.tag==="sync"?o.stripe:null,elements:o.tag==="sync"?o.stripe.elements(r):null}}),c=yx(l,2),d=c[0],f=c[1];qe.useEffect(function(){var v=!0,S=function(R){f(function(b){return b.stripe?b:{stripe:R,elements:R.elements(r)}})};return o.tag==="async"&&!d.stripe?o.stripePromise.then(function(T){T&&v&&S(T)}):o.tag==="sync"&&!d.stripe&&S(o.stripe),function(){v=!1}},[o,d,r]);var m=dv(t);qe.useEffect(function(){m!==null&&m!==t&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[m,t]);var y=dv(r);return qe.useEffect(function(){if(d.elements){var v=_x(r,y,["clientSecret","fonts"]);v&&d.elements.update(v)}},[r,y,d.elements]),qe.useEffect(function(){h6(d.stripe)},[d.stripe]),qe.createElement(eg.Provider,{value:d},i)};Ex.propTypes={stripe:At.any,options:At.object};var f6=function(e){var t=qe.useContext(eg);return wx(t,e)},p6=function(){var e=f6("calls useElements()"),t=e.elements;return t};At.func.isRequired;var Tx=qe.createContext(null);Tx.displayName="CheckoutSdkContext";var m6=function(e,t){if(!e)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(t," in an <CheckoutProvider> provider."));return e},g6=qe.createContext(null);g6.displayName="CheckoutContext";At.any,At.shape({clientSecret:At.string.isRequired,elementsOptions:At.object}).isRequired;var hv=function(e){var t=qe.useContext(Tx),r=qe.useContext(eg);if(t&&r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return t?m6(t,e):wx(r,e)},y6=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},Wt=function(e,t){var r="".concat(y6(e),"Element"),i=function(d){var f=d.id,m=d.className,y=d.options,v=y===void 0?{}:y,S=d.onBlur,T=d.onFocus,R=d.onReady,b=d.onChange,L=d.onEscape,V=d.onClick,M=d.onLoadError,$=d.onLoaderStart,B=d.onNetworksChange,q=d.onConfirm,D=d.onCancel,A=d.onShippingAddressChange,P=d.onShippingRateChange,E=hv("mounts <".concat(r,">")),k="elements"in E?E.elements:null,x="checkoutSdk"in E?E.checkoutSdk:null,O=qe.useState(null),X=yx(O,2),F=X[0],pe=X[1],oe=qe.useRef(null),Z=qe.useRef(null);sr(F,"blur",S),sr(F,"focus",T),sr(F,"escape",L),sr(F,"click",V),sr(F,"loaderror",M),sr(F,"loaderstart",$),sr(F,"networkschange",B),sr(F,"confirm",q),sr(F,"cancel",D),sr(F,"shippingaddresschange",A),sr(F,"shippingratechange",P),sr(F,"change",b);var fe;R&&(e==="expressCheckout"?fe=R:fe=function(){R(F)}),sr(F,"ready",fe),qe.useLayoutEffect(function(){if(oe.current===null&&Z.current!==null&&(k||x)){var W=null;x?W=x.createElement(e,v):k&&(W=k.create(e,v)),oe.current=W,pe(W),W&&W.mount(Z.current)}},[k,x,v]);var de=dv(v);return qe.useEffect(function(){if(oe.current){var W=_x(v,de,["paymentRequest"]);W&&"update"in oe.current&&oe.current.update(W)}},[v,de]),qe.useLayoutEffect(function(){return function(){if(oe.current&&typeof oe.current.destroy=="function")try{oe.current.destroy(),oe.current=null}catch{}}},[]),qe.createElement("div",{id:f,className:m,ref:Z})},o=function(d){hv("mounts <".concat(r,">"));var f=d.id,m=d.className;return qe.createElement("div",{id:f,className:m})},l=t?o:i;return l.propTypes={id:At.string,className:At.string,onChange:At.func,onBlur:At.func,onFocus:At.func,onReady:At.func,onEscape:At.func,onClick:At.func,onLoadError:At.func,onLoaderStart:At.func,onNetworksChange:At.func,onConfirm:At.func,onCancel:At.func,onShippingAddressChange:At.func,onShippingRateChange:At.func,options:At.object},l.displayName=r,l.__elementType=e,l},Ht=typeof window>"u",_6=qe.createContext(null);_6.displayName="EmbeddedCheckoutProviderContext";var v6=function(){var e=hv("calls useStripe()"),t=e.stripe;return t};Wt("auBankAccount",Ht);var qR=Wt("card",Ht);Wt("cardNumber",Ht);Wt("cardExpiry",Ht);Wt("cardCvc",Ht);Wt("fpxBank",Ht);Wt("iban",Ht);Wt("idealBank",Ht);Wt("p24Bank",Ht);Wt("epsBank",Ht);Wt("payment",Ht);Wt("expressCheckout",Ht);Wt("currencySelector",Ht);Wt("paymentRequestButton",Ht);Wt("linkAuthentication",Ht);Wt("address",Ht);Wt("shippingAddress",Ht);Wt("paymentMethodMessaging",Ht);Wt("affirmMessage",Ht);Wt("afterpayClearpayMessage",Ht);const w6=It.create({baseURL:"https://amazon-api-smxd.onrender.com"});function E6(){const[{user:n,basket:e},t]=K.useContext(us),r=Array.isArray(e)?e.reduce((T,R)=>T+R.amount,0):0,i=e.reduce((T,R)=>R.price*R.amount+T,0),[o,l]=K.useState(null),[c,d]=K.useState(!1),f=v6(),m=p6(),y=tm(),v=T=>{var R,b;(R=T.error)!=null&&R.message?l((b=T.error)==null?void 0:b.message):l("")},S=async T=>{var R;T.preventDefault();try{d(!0);const b=await w6({method:"POST",url:`/payment/create?total=${i*100}`});console.log(b);const L=(R=b.data)==null?void 0:R.clientSecret,{paymentIntent:V}=await f.confirmCardPayment(L,{payment_method:{card:m.getElement(qR)}});await fx.collection("users").doc(n.uid).collection("orders").doc(V.id).set({basket:e,amount:V.amount,created:V.created}),t({type:br.EMPTY_BASKET}),d(!1),y("/orders",{state:{msg:"you have placed new order"}})}catch(b){console.log(b),d(!1)}};return U.jsxs(Vu,{children:[U.jsxs("div",{className:Hi.payment__header,children:["Checkout ",r," items"]}),U.jsxs("section",{className:Hi.Payment,children:[U.jsxs("div",{className:Hi.flex,children:[U.jsx("h3",{children:"Delivery Address"}),U.jsxs("div",{children:[U.jsx("div",{children:n&&n.email?n.email:"No email available"}),U.jsx("div",{children:"123 React Lane"}),U.jsx("div",{children:"Chicago, IL"})]})]}),U.jsx("hr",{}),U.jsxs("div",{className:Hi.flex,children:[U.jsx("h3",{children:"Review items and delivery"}),U.jsx("div",{children:e==null?void 0:e.map(T=>U.jsx(Iu,{product:T,flex:!0}))})]}),U.jsx("hr",{}),U.jsxs("div",{className:Hi.flex,children:[U.jsx("h3",{children:"Payment methods"}),U.jsx("div",{className:Hi.payment_card_container,children:U.jsx("div",{className:Hi.payment__details,children:U.jsxs("form",{onSubmit:S,children:[o&&U.jsx("small",{style:{color:"red"},children:o}),U.jsx(qR,{onChange:v}),U.jsxs("div",{className:Hi.payment__price,children:[U.jsx("div",{children:U.jsxs("span",{style:{display:"flex",gap:"10px"},children:[U.jsx("p",{children:" Total Order | "})," ",U.jsx(Lv,{value:i})]})}),U.jsx("button",{type:"submit",children:c?U.jsxs("div",{className:Hi.loading,children:[U.jsx(cv,{color:"gray",size:12}),U.jsx("p",{children:"Please wait ..."})]}):" Pay Now"})]})]})})})]})]})]})}const T6="_container_yg7k6_1",S6="_subtotal_yg7k6_23",I6="_cart__container_yg7k6_37",R6="_cart__product_yg7k6_43",b6="_btn_container_yg7k6_53",A6="_btn_yg7k6_53",ta={container:T6,subtotal:S6,cart__container:I6,cart__product:R6,btn_container:b6,btn:A6};function C6(n){return Ru({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 294.1L383 167c9.4-9.4 24.6-9.4 33.9 0s9.3 24.6 0 34L273 345c-9.1 9.1-23.7 9.3-33.1.7L95 201.1c-4.7-4.7-7-10.9-7-17s2.3-12.3 7-17c9.4-9.4 24.6-9.4 33.9 0l127.1 127z"},child:[]}]})(n)}function P6(n){return Ru({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 217.9L383 345c9.4 9.4 24.6 9.4 33.9 0 9.4-9.4 9.3-24.6 0-34L273 167c-9.1-9.1-23.7-9.3-33.1-.7L95 310.9c-4.7 4.7-7 10.9-7 17s2.3 12.3 7 17c9.4 9.4 24.6 9.4 33.9 0l127.1-127z"},child:[]}]})(n)}function x6(){const[{basket:n},e]=K.useContext(us),t=n.reduce((o,l)=>l.price*l.amount+o,0),r=o=>{e({type:br.ADD_TO_BASKET,item:o})},i=o=>{e({type:br.REMOVE_FROM_BASKET,id:o})};return U.jsx(Vu,{children:U.jsxs("section",{className:ta.container,children:[U.jsxs("div",{className:ta.cart__container,children:[U.jsx("h2",{children:"Hello"}),U.jsx("h3",{children:"Your Shopping Basket"}),U.jsx("hr",{}),(n==null?void 0:n.length)===0?U.jsx("p",{children:"No items in your cart"}):n==null?void 0:n.map((o,l)=>U.jsxs("section",{className:ta.cart__product,children:[U.jsx(Iu,{product:o,renderDesc:!0,renderAdd:!1,flex:!0},l),U.jsxs("div",{className:ta.btn_container,children:[U.jsx("button",{className:ta.btn,onClick:()=>r(o),children:U.jsx(P6,{size:20})}),U.jsx("span",{children:o.amount}),U.jsx("button",{className:ta.btn,onClick:()=>i(o.id),children:U.jsx(C6,{size:20})})]})]}))]}),(n==null?void 0:n.length)!==0&&U.jsxs("div",{className:ta.subtotal,children:[U.jsxs("div",{children:[U.jsxs("p",{children:["Subtotal (",n==null?void 0:n.length," items)"]}),U.jsx(Lv,{amount:t})]}),U.jsxs("span",{children:[U.jsx("input",{type:"checkbox"}),U.jsx("small",{children:"This order contains a gift"})]}),U.jsx(Gr,{to:"/payments",children:"Continue to Check out"})]})]})})}const k6={},Sx="https://fakestoreapi.com";function O6(){const[n,e]=useState([]),[t,r]=useState(!1),{categoryName:i}=nb();return console.log(i),K.useEffect(()=>{(async()=>{r(!0);try{let o=await It.get(`${Sx}/products/category/${i}`);console.log(o),e(o.data)}catch(o){console.log(o)}})()},[]),U.jsx(Vu,{children:U.jsxs("div",{children:[U.jsx("h1",{style:{padding:"2rm"},children:"Results"}),U.jsxs("p",{style:{padding:"2rm"},children:["Category / ",i]}),U.jsx("hr",{}),t?U.jsx(Loader,{}):U.jsx("div",{className:k6.products__container,children:n==null?void 0:n.map(o=>U.jsx(Iu,{product:o},o.Id))})]})})}function N6(){return U.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"50vh"},children:U.jsx(Y$,{color:"#36d7b7"})})}function D6(){const{productId:n}=nb(),[e,t]=K.useState({}),[r,i]=K.useState(!1);return K.useEffect(()=>{i(!0),It.get(`${Sx}/products/${n}`).then(o=>{t(o.data),i(!1)}).catch(o=>{console.log(o),i(!1)})},[]),U.jsx(Vu,{children:r?U.jsx(N6,{}):U.jsx(Iu,{product:e,flex:!0,renderDesc:!0,renderAdd:!0})})}var Ix="acacia",V6=function(e){return e===3?"v3":e},Rx="https://js.stripe.com",L6="".concat(Rx,"/").concat(Ix,"/stripe.js"),M6=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,F6=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var j6=function(e){return M6.test(e)||F6.test(e)},U6=function(){for(var e=document.querySelectorAll('script[src^="'.concat(Rx,'"]')),t=0;t<e.length;t++){var r=e[t];if(j6(r.src))return r}return null},WR=function(e){var t="",r=document.createElement("script");r.src="".concat(L6).concat(t);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(r),r},B6=function(e,t){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"6.0.0",startTime:t})},Kc=null,Wf=null,Hf=null,z6=function(e){return function(t){e(new Error("Failed to load Stripe.js",{cause:t}))}},$6=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}},q6=function(e){return Kc!==null?Kc:(Kc=new Promise(function(t,r){if(typeof window>"u"||typeof document>"u"){t(null);return}if(window.Stripe){t(window.Stripe);return}try{var i=U6();if(!(i&&e)){if(!i)i=WR(e);else if(i&&Hf!==null&&Wf!==null){var o;i.removeEventListener("load",Hf),i.removeEventListener("error",Wf),(o=i.parentNode)===null||o===void 0||o.removeChild(i),i=WR(e)}}Hf=$6(t,r),Wf=z6(r),i.addEventListener("load",Hf),i.addEventListener("error",Wf)}catch(l){r(l);return}}),Kc.catch(function(t){return Kc=null,Promise.reject(t)}))},W6=function(e,t,r){if(e===null)return null;var i=t[0],o=i.match(/^pk_test/),l=V6(e.version),c=Ix;o&&l!==c&&console.warn("Stripe.js@".concat(l," was loaded on the page, but @stripe/stripe-js@").concat("6.0.0"," expected Stripe.js@").concat(c,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var d=e.apply(void 0,t);return B6(d,r),d},Gc,bx=!1,Ax=function(){return Gc||(Gc=q6(null).catch(function(e){return Gc=null,Promise.reject(e)}),Gc)};Promise.resolve().then(function(){return Ax()}).catch(function(n){bx||console.warn(n)});var H6=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];bx=!0;var i=Date.now();return Ax().then(function(o){return W6(o,t,i)})};const HR=({children:n,msg:e,redirect:t})=>{const r=tm(),[{user:i},o]=K.useContext(us);return K.useEffect(()=>{i||r("/auth",{state:{msg:e,redirect:t}})},[i]),n},K6=H6("pk_test_51R169rAGPpu1IpFvgV90An20Ts9HTbh45jX7hsybHp3XrTXBNstxGzCx0RJ01t8efkaZBUNmDi2vvZ3hEPY3IMpd00Mgg5Whlh");function G6(){return U.jsx(eN,{basename:"/Amazon-project-2",children:U.jsxs(xO,{children:[U.jsx($s,{path:"/",element:U.jsx(M$,{})}),U.jsx($s,{path:"/auth",element:U.jsx(J$,{})}),U.jsx($s,{path:"/payments",element:U.jsx(HR,{msg:"you must login to pay",redirect:"/payments",children:U.jsx(Ex,{stripe:K6,children:U.jsx(E6,{})})})}),U.jsx($s,{path:"/orders",element:U.jsx(HR,{msg:"you must login to access your orders",redirect:"/orders",children:U.jsx(U$,{})})}),U.jsx($s,{path:"/category/:categoryName",element:U.jsx(O6,{})}),U.jsx($s,{path:"/products/:productId",element:U.jsx(D6,{})}),U.jsx($s,{path:"/cart",element:U.jsx(x6,{})})]})})}function Q6(){const[{user:n},e]=K.useContext(us);return K.useEffect(()=>{Xp.onAuthStateChanged(t=>{e(t?{type:br.SET_USER,user:t}:{type:br.SET_USER,user:null})})},[]),U.jsx(U.Fragment,{children:U.jsx(G6,{})})}const Y6={basket:[],user:null},J6=(n,e)=>{switch(e.type){case br.ADD_TO_BASKET:if(n.basket.find(r=>r.id===e.item.id)){const r=n.basket.map(i=>i.id===e.item.id?{...i,amount:i.amount+1}:i);return{...n,basket:r}}else return{...n,basket:[...n.basket,{...e.item,amount:1}]};case br.REMOVE_FROM_BASKET:return{...n,basket:n.basket.map(r=>r.id===e.id?{...r,amount:r.amount-1}:r).filter(r=>r.amount>0)};case br.SET_USER:return{...n,user:e.user};case br.SET_USER:return{...n,user:e.user};default:return n}};Uk.createRoot(document.getElementById("root")).render(U.jsx(K.StrictMode,{children:U.jsx($M,{reducer:J6,initialState:Y6,children:U.jsx(Q6,{})})}));
